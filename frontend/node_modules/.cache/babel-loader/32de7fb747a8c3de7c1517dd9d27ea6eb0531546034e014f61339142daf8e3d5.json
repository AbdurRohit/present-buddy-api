{"ast":null,"code":"/*!\n* reveal.js 5.0.3\n* https://revealjs.com\n* MIT licensed\n*\n* Copyright (C) 2011-2023 Hakim El Hattab, https://hakim.se\n*/\nconst e = (e, t) => {\n    for (let i in t) e[i] = t[i];\n    return e;\n  },\n  t = (e, t) => Array.from(e.querySelectorAll(t)),\n  i = (e, t, i) => {\n    i ? e.classList.add(t) : e.classList.remove(t);\n  },\n  s = e => {\n    if (\"string\" == typeof e) {\n      if (\"null\" === e) return null;\n      if (\"true\" === e) return !0;\n      if (\"false\" === e) return !1;\n      if (e.match(/^-?[\\d\\.]+$/)) return parseFloat(e);\n    }\n    return e;\n  },\n  a = (e, t) => {\n    e.style.transform = t;\n  },\n  n = (e, t) => {\n    let i = e.matches || e.matchesSelector || e.msMatchesSelector;\n    return !(!i || !i.call(e, t));\n  },\n  r = (e, t) => {\n    if (\"function\" == typeof e.closest) return e.closest(t);\n    for (; e;) {\n      if (n(e, t)) return e;\n      e = e.parentNode;\n    }\n    return null;\n  },\n  o = e => {\n    let t = document.createElement(\"style\");\n    return t.type = \"text/css\", e && e.length > 0 && (t.styleSheet ? t.styleSheet.cssText = e : t.appendChild(document.createTextNode(e))), document.head.appendChild(t), t;\n  },\n  l = () => {\n    let e = {};\n    location.search.replace(/[A-Z0-9]+?=([\\w\\.%-]*)/gi, t => {\n      e[t.split(\"=\").shift()] = t.split(\"=\").pop();\n    });\n    for (let t in e) {\n      let i = e[t];\n      e[t] = s(unescape(i));\n    }\n    return void 0 !== e.dependencies && delete e.dependencies, e;\n  },\n  d = {\n    mp4: \"video/mp4\",\n    m4a: \"video/mp4\",\n    ogv: \"video/ogg\",\n    mpeg: \"video/mpeg\",\n    webm: \"video/webm\"\n  },\n  c = navigator.userAgent,\n  h = /(iphone|ipod|ipad|android)/gi.test(c) || \"MacIntel\" === navigator.platform && navigator.maxTouchPoints > 1,\n  u = /android/gi.test(c);\nvar g = function (e) {\n  if (e) {\n    var t = function (e) {\n        return [].slice.call(e);\n      },\n      i = 3,\n      s = [],\n      a = null,\n      n = \"requestAnimationFrame\" in e ? function () {\n        e.cancelAnimationFrame(a), a = e.requestAnimationFrame(function () {\n          return o(s.filter(function (e) {\n            return e.dirty && e.active;\n          }));\n        });\n      } : function () {},\n      r = function (e) {\n        return function () {\n          s.forEach(function (t) {\n            return t.dirty = e;\n          }), n();\n        };\n      },\n      o = function (e) {\n        e.filter(function (e) {\n          return !e.styleComputed;\n        }).forEach(function (e) {\n          e.styleComputed = h(e);\n        }), e.filter(u).forEach(g);\n        var t = e.filter(c);\n        t.forEach(d), t.forEach(function (e) {\n          g(e), l(e);\n        }), t.forEach(p);\n      },\n      l = function (e) {\n        return e.dirty = 0;\n      },\n      d = function (e) {\n        e.availableWidth = e.element.parentNode.clientWidth, e.currentWidth = e.element.scrollWidth, e.previousFontSize = e.currentFontSize, e.currentFontSize = Math.min(Math.max(e.minSize, e.availableWidth / e.currentWidth * e.previousFontSize), e.maxSize), e.whiteSpace = e.multiLine && e.currentFontSize === e.minSize ? \"normal\" : \"nowrap\";\n      },\n      c = function (e) {\n        return 2 !== e.dirty || 2 === e.dirty && e.element.parentNode.clientWidth !== e.availableWidth;\n      },\n      h = function (t) {\n        var i = e.getComputedStyle(t.element, null);\n        return t.currentFontSize = parseFloat(i.getPropertyValue(\"font-size\")), t.display = i.getPropertyValue(\"display\"), t.whiteSpace = i.getPropertyValue(\"white-space\"), !0;\n      },\n      u = function (e) {\n        var t = !1;\n        return !e.preStyleTestCompleted && (/inline-/.test(e.display) || (t = !0, e.display = \"inline-block\"), \"nowrap\" !== e.whiteSpace && (t = !0, e.whiteSpace = \"nowrap\"), e.preStyleTestCompleted = !0, t);\n      },\n      g = function (e) {\n        e.element.style.whiteSpace = e.whiteSpace, e.element.style.display = e.display, e.element.style.fontSize = e.currentFontSize + \"px\";\n      },\n      p = function (e) {\n        e.element.dispatchEvent(new CustomEvent(\"fit\", {\n          detail: {\n            oldValue: e.previousFontSize,\n            newValue: e.currentFontSize,\n            scaleFactor: e.currentFontSize / e.previousFontSize\n          }\n        }));\n      },\n      v = function (e, t) {\n        return function () {\n          e.dirty = t, e.active && n();\n        };\n      },\n      m = function (e) {\n        return function () {\n          s = s.filter(function (t) {\n            return t.element !== e.element;\n          }), e.observeMutations && e.observer.disconnect(), e.element.style.whiteSpace = e.originalStyle.whiteSpace, e.element.style.display = e.originalStyle.display, e.element.style.fontSize = e.originalStyle.fontSize;\n        };\n      },\n      f = function (e) {\n        return function () {\n          e.active || (e.active = !0, n());\n        };\n      },\n      y = function (e) {\n        return function () {\n          return e.active = !1;\n        };\n      },\n      b = function (e) {\n        e.observeMutations && (e.observer = new MutationObserver(v(e, 1)), e.observer.observe(e.element, e.observeMutations));\n      },\n      w = {\n        minSize: 16,\n        maxSize: 512,\n        multiLine: !0,\n        observeMutations: \"MutationObserver\" in e && {\n          subtree: !0,\n          childList: !0,\n          characterData: !0\n        }\n      },\n      E = null,\n      S = function () {\n        e.clearTimeout(E), E = e.setTimeout(r(2), k.observeWindowDelay);\n      },\n      A = [\"resize\", \"orientationchange\"];\n    return Object.defineProperty(k, \"observeWindow\", {\n      set: function (t) {\n        var i = \"\".concat(t ? \"add\" : \"remove\", \"EventListener\");\n        A.forEach(function (t) {\n          e[i](t, S);\n        });\n      }\n    }), k.observeWindow = !0, k.observeWindowDelay = 100, k.fitAll = r(i), k;\n  }\n  function R(e, t) {\n    var a = Object.assign({}, w, t),\n      r = e.map(function (e) {\n        var t = Object.assign({}, a, {\n          element: e,\n          active: !0\n        });\n        return function (e) {\n          e.originalStyle = {\n            whiteSpace: e.element.style.whiteSpace,\n            display: e.element.style.display,\n            fontSize: e.element.style.fontSize\n          }, b(e), e.newbie = !0, e.dirty = !0, s.push(e);\n        }(t), {\n          element: e,\n          fit: v(t, i),\n          unfreeze: f(t),\n          freeze: y(t),\n          unsubscribe: m(t)\n        };\n      });\n    return n(), r;\n  }\n  function k(e) {\n    var i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n    return \"string\" == typeof e ? R(t(document.querySelectorAll(e)), i) : R([e], i)[0];\n  }\n}(\"undefined\" == typeof window ? null : window);\nclass p {\n  constructor(e) {\n    this.Reveal = e, this.startEmbeddedIframe = this.startEmbeddedIframe.bind(this);\n  }\n  shouldPreload(e) {\n    if (this.Reveal.isScrollView()) return !0;\n    let t = this.Reveal.getConfig().preloadIframes;\n    return \"boolean\" != typeof t && (t = e.hasAttribute(\"data-preload\")), t;\n  }\n  load(e, i = {}) {\n    e.style.display = this.Reveal.getConfig().display, t(e, \"img[data-src], video[data-src], audio[data-src], iframe[data-src]\").forEach(e => {\n      (\"IFRAME\" !== e.tagName || this.shouldPreload(e)) && (e.setAttribute(\"src\", e.getAttribute(\"data-src\")), e.setAttribute(\"data-lazy-loaded\", \"\"), e.removeAttribute(\"data-src\"));\n    }), t(e, \"video, audio\").forEach(e => {\n      let i = 0;\n      t(e, \"source[data-src]\").forEach(e => {\n        e.setAttribute(\"src\", e.getAttribute(\"data-src\")), e.removeAttribute(\"data-src\"), e.setAttribute(\"data-lazy-loaded\", \"\"), i += 1;\n      }), h && \"VIDEO\" === e.tagName && e.setAttribute(\"playsinline\", \"\"), i > 0 && e.load();\n    });\n    let s = e.slideBackgroundElement;\n    if (s) {\n      s.style.display = \"block\";\n      let t = e.slideBackgroundContentElement,\n        a = e.getAttribute(\"data-background-iframe\");\n      if (!1 === s.hasAttribute(\"data-loaded\")) {\n        s.setAttribute(\"data-loaded\", \"true\");\n        let n = e.getAttribute(\"data-background-image\"),\n          r = e.getAttribute(\"data-background-video\"),\n          o = e.hasAttribute(\"data-background-video-loop\"),\n          l = e.hasAttribute(\"data-background-video-muted\");\n        if (n) /^data:/.test(n.trim()) ? t.style.backgroundImage = `url(${n.trim()})` : t.style.backgroundImage = n.split(\",\").map(e => `url(${((e = \"\") => encodeURI(e).replace(/%5B/g, \"[\").replace(/%5D/g, \"]\").replace(/[!'()*]/g, e => `%${e.charCodeAt(0).toString(16).toUpperCase()}`))(decodeURI(e.trim()))})`).join(\",\");else if (r && !this.Reveal.isSpeakerNotes()) {\n          let e = document.createElement(\"video\");\n          o && e.setAttribute(\"loop\", \"\"), l && (e.muted = !0), h && (e.muted = !0, e.setAttribute(\"playsinline\", \"\")), r.split(\",\").forEach(t => {\n            const i = document.createElement(\"source\");\n            i.setAttribute(\"src\", t);\n            let s = ((e = \"\") => d[e.split(\".\").pop()])(t);\n            s && i.setAttribute(\"type\", s), e.appendChild(i);\n          }), t.appendChild(e);\n        } else if (a && !0 !== i.excludeIframes) {\n          let e = document.createElement(\"iframe\");\n          e.setAttribute(\"allowfullscreen\", \"\"), e.setAttribute(\"mozallowfullscreen\", \"\"), e.setAttribute(\"webkitallowfullscreen\", \"\"), e.setAttribute(\"allow\", \"autoplay\"), e.setAttribute(\"data-src\", a), e.style.width = \"100%\", e.style.height = \"100%\", e.style.maxHeight = \"100%\", e.style.maxWidth = \"100%\", t.appendChild(e);\n        }\n      }\n      let n = t.querySelector(\"iframe[data-src]\");\n      n && this.shouldPreload(s) && !/autoplay=(1|true|yes)/gi.test(a) && n.getAttribute(\"src\") !== a && n.setAttribute(\"src\", a);\n    }\n    this.layout(e);\n  }\n  layout(e) {\n    Array.from(e.querySelectorAll(\".r-fit-text\")).forEach(e => {\n      g(e, {\n        minSize: 24,\n        maxSize: .8 * this.Reveal.getConfig().height,\n        observeMutations: !1,\n        observeWindow: !1\n      });\n    });\n  }\n  unload(e) {\n    e.style.display = \"none\";\n    let i = this.Reveal.getSlideBackground(e);\n    i && (i.style.display = \"none\", t(i, \"iframe[src]\").forEach(e => {\n      e.removeAttribute(\"src\");\n    })), t(e, \"video[data-lazy-loaded][src], audio[data-lazy-loaded][src], iframe[data-lazy-loaded][src]\").forEach(e => {\n      e.setAttribute(\"data-src\", e.getAttribute(\"src\")), e.removeAttribute(\"src\");\n    }), t(e, \"video[data-lazy-loaded] source[src], audio source[src]\").forEach(e => {\n      e.setAttribute(\"data-src\", e.getAttribute(\"src\")), e.removeAttribute(\"src\");\n    });\n  }\n  formatEmbeddedContent() {\n    let e = (e, i, s) => {\n      t(this.Reveal.getSlidesElement(), \"iframe[\" + e + '*=\"' + i + '\"]').forEach(t => {\n        let i = t.getAttribute(e);\n        i && -1 === i.indexOf(s) && t.setAttribute(e, i + (/\\?/.test(i) ? \"&\" : \"?\") + s);\n      });\n    };\n    e(\"src\", \"youtube.com/embed/\", \"enablejsapi=1\"), e(\"data-src\", \"youtube.com/embed/\", \"enablejsapi=1\"), e(\"src\", \"player.vimeo.com/\", \"api=1\"), e(\"data-src\", \"player.vimeo.com/\", \"api=1\");\n  }\n  startEmbeddedContent(e) {\n    e && !this.Reveal.isSpeakerNotes() && (t(e, 'img[src$=\".gif\"]').forEach(e => {\n      e.setAttribute(\"src\", e.getAttribute(\"src\"));\n    }), t(e, \"video, audio\").forEach(e => {\n      if (r(e, \".fragment\") && !r(e, \".fragment.visible\")) return;\n      let t = this.Reveal.getConfig().autoPlayMedia;\n      if (\"boolean\" != typeof t && (t = e.hasAttribute(\"data-autoplay\") || !!r(e, \".slide-background\")), t && \"function\" == typeof e.play) if (e.readyState > 1) this.startEmbeddedMedia({\n        target: e\n      });else if (h) {\n        let t = e.play();\n        t && \"function\" == typeof t.catch && !1 === e.controls && t.catch(() => {\n          e.controls = !0, e.addEventListener(\"play\", () => {\n            e.controls = !1;\n          });\n        });\n      } else e.removeEventListener(\"loadeddata\", this.startEmbeddedMedia), e.addEventListener(\"loadeddata\", this.startEmbeddedMedia);\n    }), t(e, \"iframe[src]\").forEach(e => {\n      r(e, \".fragment\") && !r(e, \".fragment.visible\") || this.startEmbeddedIframe({\n        target: e\n      });\n    }), t(e, \"iframe[data-src]\").forEach(e => {\n      r(e, \".fragment\") && !r(e, \".fragment.visible\") || e.getAttribute(\"src\") !== e.getAttribute(\"data-src\") && (e.removeEventListener(\"load\", this.startEmbeddedIframe), e.addEventListener(\"load\", this.startEmbeddedIframe), e.setAttribute(\"src\", e.getAttribute(\"data-src\")));\n    }));\n  }\n  startEmbeddedMedia(e) {\n    let t = !!r(e.target, \"html\"),\n      i = !!r(e.target, \".present\");\n    t && i && (e.target.currentTime = 0, e.target.play()), e.target.removeEventListener(\"loadeddata\", this.startEmbeddedMedia);\n  }\n  startEmbeddedIframe(e) {\n    let t = e.target;\n    if (t && t.contentWindow) {\n      let i = !!r(e.target, \"html\"),\n        s = !!r(e.target, \".present\");\n      if (i && s) {\n        let e = this.Reveal.getConfig().autoPlayMedia;\n        \"boolean\" != typeof e && (e = t.hasAttribute(\"data-autoplay\") || !!r(t, \".slide-background\")), /youtube\\.com\\/embed\\//.test(t.getAttribute(\"src\")) && e ? t.contentWindow.postMessage('{\"event\":\"command\",\"func\":\"playVideo\",\"args\":\"\"}', \"*\") : /player\\.vimeo\\.com\\//.test(t.getAttribute(\"src\")) && e ? t.contentWindow.postMessage('{\"method\":\"play\"}', \"*\") : t.contentWindow.postMessage(\"slide:start\", \"*\");\n      }\n    }\n  }\n  stopEmbeddedContent(i, s = {}) {\n    s = e({\n      unloadIframes: !0\n    }, s), i && i.parentNode && (t(i, \"video, audio\").forEach(e => {\n      e.hasAttribute(\"data-ignore\") || \"function\" != typeof e.pause || (e.setAttribute(\"data-paused-by-reveal\", \"\"), e.pause());\n    }), t(i, \"iframe\").forEach(e => {\n      e.contentWindow && e.contentWindow.postMessage(\"slide:stop\", \"*\"), e.removeEventListener(\"load\", this.startEmbeddedIframe);\n    }), t(i, 'iframe[src*=\"youtube.com/embed/\"]').forEach(e => {\n      !e.hasAttribute(\"data-ignore\") && e.contentWindow && \"function\" == typeof e.contentWindow.postMessage && e.contentWindow.postMessage('{\"event\":\"command\",\"func\":\"pauseVideo\",\"args\":\"\"}', \"*\");\n    }), t(i, 'iframe[src*=\"player.vimeo.com/\"]').forEach(e => {\n      !e.hasAttribute(\"data-ignore\") && e.contentWindow && \"function\" == typeof e.contentWindow.postMessage && e.contentWindow.postMessage('{\"method\":\"pause\"}', \"*\");\n    }), !0 === s.unloadIframes && t(i, \"iframe[data-src]\").forEach(e => {\n      e.setAttribute(\"src\", \"about:blank\"), e.removeAttribute(\"src\");\n    }));\n  }\n}\nconst v = \".slides section\",\n  m = \".slides>section\",\n  f = \".slides>section.present>section\",\n  y = /registerPlugin|registerKeyboardShortcut|addKeyBinding|addEventListener|showPreview/,\n  b = /fade-(down|up|right|left|out|in-then-out|in-then-semi-out)|semi-fade-out|current-visible|shrink|grow/;\nclass w {\n  constructor(e) {\n    this.Reveal = e;\n  }\n  render() {\n    this.element = document.createElement(\"div\"), this.element.className = \"slide-number\", this.Reveal.getRevealElement().appendChild(this.element);\n  }\n  configure(e, t) {\n    let i = \"none\";\n    e.slideNumber && !this.Reveal.isPrintView() && (\"all\" === e.showSlideNumber || \"speaker\" === e.showSlideNumber && this.Reveal.isSpeakerNotes()) && (i = \"block\"), this.element.style.display = i;\n  }\n  update() {\n    this.Reveal.getConfig().slideNumber && this.element && (this.element.innerHTML = this.getSlideNumber());\n  }\n  getSlideNumber(e = this.Reveal.getCurrentSlide()) {\n    let t,\n      i = this.Reveal.getConfig(),\n      s = \"h.v\";\n    if (\"function\" == typeof i.slideNumber) t = i.slideNumber(e);else {\n      \"string\" == typeof i.slideNumber && (s = i.slideNumber), /c/.test(s) || 1 !== this.Reveal.getHorizontalSlides().length || (s = \"c\");\n      let a = e && \"uncounted\" === e.dataset.visibility ? 0 : 1;\n      switch (t = [], s) {\n        case \"c\":\n          t.push(this.Reveal.getSlidePastCount(e) + a);\n          break;\n        case \"c/t\":\n          t.push(this.Reveal.getSlidePastCount(e) + a, \"/\", this.Reveal.getTotalSlides());\n          break;\n        default:\n          let i = this.Reveal.getIndices(e);\n          t.push(i.h + a);\n          let n = \"h/v\" === s ? \"/\" : \".\";\n          this.Reveal.isVerticalSlide(e) && t.push(n, i.v + 1);\n      }\n    }\n    let a = \"#\" + this.Reveal.location.getHash(e);\n    return this.formatNumber(t[0], t[1], t[2], a);\n  }\n  formatNumber(e, t, i, s = \"#\" + this.Reveal.location.getHash()) {\n    return \"number\" != typeof i || isNaN(i) ? `<a href=\"${s}\">\\n\\t\\t\\t\\t\\t<span class=\"slide-number-a\">${e}</span>\\n\\t\\t\\t\\t\\t</a>` : `<a href=\"${s}\">\\n\\t\\t\\t\\t\\t<span class=\"slide-number-a\">${e}</span>\\n\\t\\t\\t\\t\\t<span class=\"slide-number-delimiter\">${t}</span>\\n\\t\\t\\t\\t\\t<span class=\"slide-number-b\">${i}</span>\\n\\t\\t\\t\\t\\t</a>`;\n  }\n  destroy() {\n    this.element.remove();\n  }\n}\nclass E {\n  constructor(e) {\n    this.Reveal = e, this.onInput = this.onInput.bind(this), this.onBlur = this.onBlur.bind(this), this.onKeyDown = this.onKeyDown.bind(this);\n  }\n  render() {\n    this.element = document.createElement(\"div\"), this.element.className = \"jump-to-slide\", this.jumpInput = document.createElement(\"input\"), this.jumpInput.type = \"text\", this.jumpInput.className = \"jump-to-slide-input\", this.jumpInput.placeholder = \"Jump to slide\", this.jumpInput.addEventListener(\"input\", this.onInput), this.jumpInput.addEventListener(\"keydown\", this.onKeyDown), this.jumpInput.addEventListener(\"blur\", this.onBlur), this.element.appendChild(this.jumpInput);\n  }\n  show() {\n    this.indicesOnShow = this.Reveal.getIndices(), this.Reveal.getRevealElement().appendChild(this.element), this.jumpInput.focus();\n  }\n  hide() {\n    this.isVisible() && (this.element.remove(), this.jumpInput.value = \"\", clearTimeout(this.jumpTimeout), delete this.jumpTimeout);\n  }\n  isVisible() {\n    return !!this.element.parentNode;\n  }\n  jump() {\n    clearTimeout(this.jumpTimeout), delete this.jumpTimeout;\n    let e,\n      t = this.jumpInput.value.trim(\"\");\n    if (/^\\d+$/.test(t)) {\n      const i = this.Reveal.getConfig().slideNumber;\n      if (\"c\" === i || \"c/t\" === i) {\n        const i = this.Reveal.getSlides()[parseInt(t, 10) - 1];\n        i && (e = this.Reveal.getIndices(i));\n      }\n    }\n    return e || (/^\\d+\\.\\d+$/.test(t) && (t = t.replace(\".\", \"/\")), e = this.Reveal.location.getIndicesFromHash(t, {\n      oneBasedIndex: !0\n    })), !e && /\\S+/i.test(t) && t.length > 1 && (e = this.search(t)), e && \"\" !== t ? (this.Reveal.slide(e.h, e.v, e.f), !0) : (this.Reveal.slide(this.indicesOnShow.h, this.indicesOnShow.v, this.indicesOnShow.f), !1);\n  }\n  jumpAfter(e) {\n    clearTimeout(this.jumpTimeout), this.jumpTimeout = setTimeout(() => this.jump(), e);\n  }\n  search(e) {\n    const t = new RegExp(\"\\\\b\" + e.trim() + \"\\\\b\", \"i\"),\n      i = this.Reveal.getSlides().find(e => t.test(e.innerText));\n    return i ? this.Reveal.getIndices(i) : null;\n  }\n  cancel() {\n    this.Reveal.slide(this.indicesOnShow.h, this.indicesOnShow.v, this.indicesOnShow.f), this.hide();\n  }\n  confirm() {\n    this.jump(), this.hide();\n  }\n  destroy() {\n    this.jumpInput.removeEventListener(\"input\", this.onInput), this.jumpInput.removeEventListener(\"keydown\", this.onKeyDown), this.jumpInput.removeEventListener(\"blur\", this.onBlur), this.element.remove();\n  }\n  onKeyDown(e) {\n    13 === e.keyCode ? this.confirm() : 27 === e.keyCode && (this.cancel(), e.stopImmediatePropagation());\n  }\n  onInput(e) {\n    this.jumpAfter(200);\n  }\n  onBlur() {\n    setTimeout(() => this.hide(), 1);\n  }\n}\nconst S = e => {\n  let t = e.match(/^#([0-9a-f]{3})$/i);\n  if (t && t[1]) return t = t[1], {\n    r: 17 * parseInt(t.charAt(0), 16),\n    g: 17 * parseInt(t.charAt(1), 16),\n    b: 17 * parseInt(t.charAt(2), 16)\n  };\n  let i = e.match(/^#([0-9a-f]{6})$/i);\n  if (i && i[1]) return i = i[1], {\n    r: parseInt(i.slice(0, 2), 16),\n    g: parseInt(i.slice(2, 4), 16),\n    b: parseInt(i.slice(4, 6), 16)\n  };\n  let s = e.match(/^rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)$/i);\n  if (s) return {\n    r: parseInt(s[1], 10),\n    g: parseInt(s[2], 10),\n    b: parseInt(s[3], 10)\n  };\n  let a = e.match(/^rgba\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\,\\s*([\\d]+|[\\d]*.[\\d]+)\\s*\\)$/i);\n  return a ? {\n    r: parseInt(a[1], 10),\n    g: parseInt(a[2], 10),\n    b: parseInt(a[3], 10),\n    a: parseFloat(a[4])\n  } : null;\n};\nclass A {\n  constructor(e) {\n    this.Reveal = e;\n  }\n  render() {\n    this.element = document.createElement(\"div\"), this.element.className = \"backgrounds\", this.Reveal.getRevealElement().appendChild(this.element);\n  }\n  create() {\n    this.element.innerHTML = \"\", this.element.classList.add(\"no-transition\"), this.Reveal.getHorizontalSlides().forEach(e => {\n      let i = this.createBackground(e, this.element);\n      t(e, \"section\").forEach(e => {\n        this.createBackground(e, i), i.classList.add(\"stack\");\n      });\n    }), this.Reveal.getConfig().parallaxBackgroundImage ? (this.element.style.backgroundImage = 'url(\"' + this.Reveal.getConfig().parallaxBackgroundImage + '\")', this.element.style.backgroundSize = this.Reveal.getConfig().parallaxBackgroundSize, this.element.style.backgroundRepeat = this.Reveal.getConfig().parallaxBackgroundRepeat, this.element.style.backgroundPosition = this.Reveal.getConfig().parallaxBackgroundPosition, setTimeout(() => {\n      this.Reveal.getRevealElement().classList.add(\"has-parallax-background\");\n    }, 1)) : (this.element.style.backgroundImage = \"\", this.Reveal.getRevealElement().classList.remove(\"has-parallax-background\"));\n  }\n  createBackground(e, t) {\n    let i = document.createElement(\"div\");\n    i.className = \"slide-background \" + e.className.replace(/present|past|future/, \"\");\n    let s = document.createElement(\"div\");\n    return s.className = \"slide-background-content\", i.appendChild(s), t.appendChild(i), e.slideBackgroundElement = i, e.slideBackgroundContentElement = s, this.sync(e), i;\n  }\n  sync(e) {\n    const t = e.slideBackgroundElement,\n      i = e.slideBackgroundContentElement,\n      s = {\n        background: e.getAttribute(\"data-background\"),\n        backgroundSize: e.getAttribute(\"data-background-size\"),\n        backgroundImage: e.getAttribute(\"data-background-image\"),\n        backgroundVideo: e.getAttribute(\"data-background-video\"),\n        backgroundIframe: e.getAttribute(\"data-background-iframe\"),\n        backgroundColor: e.getAttribute(\"data-background-color\"),\n        backgroundGradient: e.getAttribute(\"data-background-gradient\"),\n        backgroundRepeat: e.getAttribute(\"data-background-repeat\"),\n        backgroundPosition: e.getAttribute(\"data-background-position\"),\n        backgroundTransition: e.getAttribute(\"data-background-transition\"),\n        backgroundOpacity: e.getAttribute(\"data-background-opacity\")\n      },\n      a = e.hasAttribute(\"data-preload\");\n    e.classList.remove(\"has-dark-background\"), e.classList.remove(\"has-light-background\"), t.removeAttribute(\"data-loaded\"), t.removeAttribute(\"data-background-hash\"), t.removeAttribute(\"data-background-size\"), t.removeAttribute(\"data-background-transition\"), t.style.backgroundColor = \"\", i.style.backgroundSize = \"\", i.style.backgroundRepeat = \"\", i.style.backgroundPosition = \"\", i.style.backgroundImage = \"\", i.style.opacity = \"\", i.innerHTML = \"\", s.background && (/^(http|file|\\/\\/)/gi.test(s.background) || /\\.(svg|png|jpg|jpeg|gif|bmp|webp)([?#\\s]|$)/gi.test(s.background) ? e.setAttribute(\"data-background-image\", s.background) : t.style.background = s.background), (s.background || s.backgroundColor || s.backgroundGradient || s.backgroundImage || s.backgroundVideo || s.backgroundIframe) && t.setAttribute(\"data-background-hash\", s.background + s.backgroundSize + s.backgroundImage + s.backgroundVideo + s.backgroundIframe + s.backgroundColor + s.backgroundGradient + s.backgroundRepeat + s.backgroundPosition + s.backgroundTransition + s.backgroundOpacity), s.backgroundSize && t.setAttribute(\"data-background-size\", s.backgroundSize), s.backgroundColor && (t.style.backgroundColor = s.backgroundColor), s.backgroundGradient && (t.style.backgroundImage = s.backgroundGradient), s.backgroundTransition && t.setAttribute(\"data-background-transition\", s.backgroundTransition), a && t.setAttribute(\"data-preload\", \"\"), s.backgroundSize && (i.style.backgroundSize = s.backgroundSize), s.backgroundRepeat && (i.style.backgroundRepeat = s.backgroundRepeat), s.backgroundPosition && (i.style.backgroundPosition = s.backgroundPosition), s.backgroundOpacity && (i.style.opacity = s.backgroundOpacity);\n    const n = this.getContrastClass(e);\n    \"string\" == typeof n && e.classList.add(n);\n  }\n  getContrastClass(e) {\n    const t = e.slideBackgroundElement;\n    let i = e.getAttribute(\"data-background-color\");\n    if (!i || !S(i)) {\n      let e = window.getComputedStyle(t);\n      e && e.backgroundColor && (i = e.backgroundColor);\n    }\n    if (i) {\n      const e = S(i);\n      if (e && 0 !== e.a) return \"string\" == typeof (s = i) && (s = S(s)), (s ? (299 * s.r + 587 * s.g + 114 * s.b) / 1e3 : null) < 128 ? \"has-dark-background\" : \"has-light-background\";\n    }\n    var s;\n    return null;\n  }\n  bubbleSlideContrastClassToElement(e, t) {\n    [\"has-light-background\", \"has-dark-background\"].forEach(i => {\n      e.classList.contains(i) ? t.classList.add(i) : t.classList.remove(i);\n    }, this);\n  }\n  update(e = !1) {\n    let i = this.Reveal.getCurrentSlide(),\n      s = this.Reveal.getIndices(),\n      a = null,\n      n = this.Reveal.getConfig().rtl ? \"future\" : \"past\",\n      r = this.Reveal.getConfig().rtl ? \"past\" : \"future\";\n    if (Array.from(this.element.childNodes).forEach((i, o) => {\n      i.classList.remove(\"past\", \"present\", \"future\"), o < s.h ? i.classList.add(n) : o > s.h ? i.classList.add(r) : (i.classList.add(\"present\"), a = i), (e || o === s.h) && t(i, \".slide-background\").forEach((e, t) => {\n        e.classList.remove(\"past\", \"present\", \"future\");\n        const i = \"number\" == typeof s.v ? s.v : 0;\n        t < i ? e.classList.add(\"past\") : t > i ? e.classList.add(\"future\") : (e.classList.add(\"present\"), o === s.h && (a = e));\n      });\n    }), this.previousBackground && this.Reveal.slideContent.stopEmbeddedContent(this.previousBackground, {\n      unloadIframes: !this.Reveal.slideContent.shouldPreload(this.previousBackground)\n    }), a) {\n      this.Reveal.slideContent.startEmbeddedContent(a);\n      let e = a.querySelector(\".slide-background-content\");\n      if (e) {\n        let t = e.style.backgroundImage || \"\";\n        /\\.gif/i.test(t) && (e.style.backgroundImage = \"\", window.getComputedStyle(e).opacity, e.style.backgroundImage = t);\n      }\n      let t = this.previousBackground ? this.previousBackground.getAttribute(\"data-background-hash\") : null,\n        i = a.getAttribute(\"data-background-hash\");\n      i && i === t && a !== this.previousBackground && this.element.classList.add(\"no-transition\"), this.previousBackground = a;\n    }\n    i && this.bubbleSlideContrastClassToElement(i, this.Reveal.getRevealElement()), setTimeout(() => {\n      this.element.classList.remove(\"no-transition\");\n    }, 1);\n  }\n  updateParallax() {\n    let e = this.Reveal.getIndices();\n    if (this.Reveal.getConfig().parallaxBackgroundImage) {\n      let t,\n        i,\n        s = this.Reveal.getHorizontalSlides(),\n        a = this.Reveal.getVerticalSlides(),\n        n = this.element.style.backgroundSize.split(\" \");\n      1 === n.length ? t = i = parseInt(n[0], 10) : (t = parseInt(n[0], 10), i = parseInt(n[1], 10));\n      let r,\n        o,\n        l = this.element.offsetWidth,\n        d = s.length;\n      r = \"number\" == typeof this.Reveal.getConfig().parallaxBackgroundHorizontal ? this.Reveal.getConfig().parallaxBackgroundHorizontal : d > 1 ? (t - l) / (d - 1) : 0, o = r * e.h * -1;\n      let c,\n        h,\n        u = this.element.offsetHeight,\n        g = a.length;\n      c = \"number\" == typeof this.Reveal.getConfig().parallaxBackgroundVertical ? this.Reveal.getConfig().parallaxBackgroundVertical : (i - u) / (g - 1), h = g > 0 ? c * e.v : 0, this.element.style.backgroundPosition = o + \"px \" + -h + \"px\";\n    }\n  }\n  destroy() {\n    this.element.remove();\n  }\n}\nlet R = 0;\nclass k {\n  constructor(e) {\n    this.Reveal = e;\n  }\n  run(e, t) {\n    this.reset();\n    let i = this.Reveal.getSlides(),\n      s = i.indexOf(t),\n      a = i.indexOf(e);\n    if (e.hasAttribute(\"data-auto-animate\") && t.hasAttribute(\"data-auto-animate\") && e.getAttribute(\"data-auto-animate-id\") === t.getAttribute(\"data-auto-animate-id\") && !(s > a ? t : e).hasAttribute(\"data-auto-animate-restart\")) {\n      this.autoAnimateStyleSheet = this.autoAnimateStyleSheet || o();\n      let i = this.getAutoAnimateOptions(t);\n      e.dataset.autoAnimate = \"pending\", t.dataset.autoAnimate = \"pending\", i.slideDirection = s > a ? \"forward\" : \"backward\";\n      let n = \"none\" === e.style.display;\n      n && (e.style.display = this.Reveal.getConfig().display);\n      let r = this.getAutoAnimatableElements(e, t).map(e => this.autoAnimateElements(e.from, e.to, e.options || {}, i, R++));\n      if (n && (e.style.display = \"none\"), \"false\" !== t.dataset.autoAnimateUnmatched && !0 === this.Reveal.getConfig().autoAnimateUnmatched) {\n        let e = .8 * i.duration,\n          s = .2 * i.duration;\n        this.getUnmatchedAutoAnimateElements(t).forEach(e => {\n          let t = this.getAutoAnimateOptions(e, i),\n            s = \"unmatched\";\n          t.duration === i.duration && t.delay === i.delay || (s = \"unmatched-\" + R++, r.push(`[data-auto-animate=\"running\"] [data-auto-animate-target=\"${s}\"] { transition: opacity ${t.duration}s ease ${t.delay}s; }`)), e.dataset.autoAnimateTarget = s;\n        }, this), r.push(`[data-auto-animate=\"running\"] [data-auto-animate-target=\"unmatched\"] { transition: opacity ${e}s ease ${s}s; }`);\n      }\n      this.autoAnimateStyleSheet.innerHTML = r.join(\"\"), requestAnimationFrame(() => {\n        this.autoAnimateStyleSheet && (getComputedStyle(this.autoAnimateStyleSheet).fontWeight, t.dataset.autoAnimate = \"running\");\n      }), this.Reveal.dispatchEvent({\n        type: \"autoanimate\",\n        data: {\n          fromSlide: e,\n          toSlide: t,\n          sheet: this.autoAnimateStyleSheet\n        }\n      });\n    }\n  }\n  reset() {\n    t(this.Reveal.getRevealElement(), '[data-auto-animate]:not([data-auto-animate=\"\"])').forEach(e => {\n      e.dataset.autoAnimate = \"\";\n    }), t(this.Reveal.getRevealElement(), \"[data-auto-animate-target]\").forEach(e => {\n      delete e.dataset.autoAnimateTarget;\n    }), this.autoAnimateStyleSheet && this.autoAnimateStyleSheet.parentNode && (this.autoAnimateStyleSheet.parentNode.removeChild(this.autoAnimateStyleSheet), this.autoAnimateStyleSheet = null);\n  }\n  autoAnimateElements(e, t, i, s, a) {\n    e.dataset.autoAnimateTarget = \"\", t.dataset.autoAnimateTarget = a;\n    let n = this.getAutoAnimateOptions(t, s);\n    void 0 !== i.delay && (n.delay = i.delay), void 0 !== i.duration && (n.duration = i.duration), void 0 !== i.easing && (n.easing = i.easing);\n    let r = this.getAutoAnimatableProperties(\"from\", e, i),\n      o = this.getAutoAnimatableProperties(\"to\", t, i);\n    if (t.classList.contains(\"fragment\") && (delete o.styles.opacity, e.classList.contains(\"fragment\"))) {\n      (e.className.match(b) || [\"\"])[0] === (t.className.match(b) || [\"\"])[0] && \"forward\" === s.slideDirection && t.classList.add(\"visible\", \"disabled\");\n    }\n    if (!1 !== i.translate || !1 !== i.scale) {\n      let e = this.Reveal.getScale(),\n        t = {\n          x: (r.x - o.x) / e,\n          y: (r.y - o.y) / e,\n          scaleX: r.width / o.width,\n          scaleY: r.height / o.height\n        };\n      t.x = Math.round(1e3 * t.x) / 1e3, t.y = Math.round(1e3 * t.y) / 1e3, t.scaleX = Math.round(1e3 * t.scaleX) / 1e3, t.scaleX = Math.round(1e3 * t.scaleX) / 1e3;\n      let s = !1 !== i.translate && (0 !== t.x || 0 !== t.y),\n        a = !1 !== i.scale && (0 !== t.scaleX || 0 !== t.scaleY);\n      if (s || a) {\n        let e = [];\n        s && e.push(`translate(${t.x}px, ${t.y}px)`), a && e.push(`scale(${t.scaleX}, ${t.scaleY})`), r.styles.transform = e.join(\" \"), r.styles[\"transform-origin\"] = \"top left\", o.styles.transform = \"none\";\n      }\n    }\n    for (let e in o.styles) {\n      const t = o.styles[e],\n        i = r.styles[e];\n      t === i ? delete o.styles[e] : (!0 === t.explicitValue && (o.styles[e] = t.value), !0 === i.explicitValue && (r.styles[e] = i.value));\n    }\n    let l = \"\",\n      d = Object.keys(o.styles);\n    if (d.length > 0) {\n      r.styles.transition = \"none\", o.styles.transition = `all ${n.duration}s ${n.easing} ${n.delay}s`, o.styles[\"transition-property\"] = d.join(\", \"), o.styles[\"will-change\"] = d.join(\", \"), l = '[data-auto-animate-target=\"' + a + '\"] {' + Object.keys(r.styles).map(e => e + \": \" + r.styles[e] + \" !important;\").join(\"\") + '}[data-auto-animate=\"running\"] [data-auto-animate-target=\"' + a + '\"] {' + Object.keys(o.styles).map(e => e + \": \" + o.styles[e] + \" !important;\").join(\"\") + \"}\";\n    }\n    return l;\n  }\n  getAutoAnimateOptions(t, i) {\n    let s = {\n      easing: this.Reveal.getConfig().autoAnimateEasing,\n      duration: this.Reveal.getConfig().autoAnimateDuration,\n      delay: 0\n    };\n    if (s = e(s, i), t.parentNode) {\n      let e = r(t.parentNode, \"[data-auto-animate-target]\");\n      e && (s = this.getAutoAnimateOptions(e, s));\n    }\n    return t.dataset.autoAnimateEasing && (s.easing = t.dataset.autoAnimateEasing), t.dataset.autoAnimateDuration && (s.duration = parseFloat(t.dataset.autoAnimateDuration)), t.dataset.autoAnimateDelay && (s.delay = parseFloat(t.dataset.autoAnimateDelay)), s;\n  }\n  getAutoAnimatableProperties(e, t, i) {\n    let s = this.Reveal.getConfig(),\n      a = {\n        styles: []\n      };\n    if (!1 !== i.translate || !1 !== i.scale) {\n      let e;\n      if (\"function\" == typeof i.measure) e = i.measure(t);else if (s.center) e = t.getBoundingClientRect();else {\n        let i = this.Reveal.getScale();\n        e = {\n          x: t.offsetLeft * i,\n          y: t.offsetTop * i,\n          width: t.offsetWidth * i,\n          height: t.offsetHeight * i\n        };\n      }\n      a.x = e.x, a.y = e.y, a.width = e.width, a.height = e.height;\n    }\n    const n = getComputedStyle(t);\n    return (i.styles || s.autoAnimateStyles).forEach(t => {\n      let i;\n      \"string\" == typeof t && (t = {\n        property: t\n      }), void 0 !== t.from && \"from\" === e ? i = {\n        value: t.from,\n        explicitValue: !0\n      } : void 0 !== t.to && \"to\" === e ? i = {\n        value: t.to,\n        explicitValue: !0\n      } : (\"line-height\" === t.property && (i = parseFloat(n[\"line-height\"]) / parseFloat(n[\"font-size\"])), isNaN(i) && (i = n[t.property])), \"\" !== i && (a.styles[t.property] = i);\n    }), a;\n  }\n  getAutoAnimatableElements(e, t) {\n    let i = (\"function\" == typeof this.Reveal.getConfig().autoAnimateMatcher ? this.Reveal.getConfig().autoAnimateMatcher : this.getAutoAnimatePairs).call(this, e, t),\n      s = [];\n    return i.filter((e, t) => {\n      if (-1 === s.indexOf(e.to)) return s.push(e.to), !0;\n    });\n  }\n  getAutoAnimatePairs(e, t) {\n    let i = [];\n    const s = \"h1, h2, h3, h4, h5, h6, p, li\";\n    return this.findAutoAnimateMatches(i, e, t, \"[data-id]\", e => e.nodeName + \":::\" + e.getAttribute(\"data-id\")), this.findAutoAnimateMatches(i, e, t, s, e => e.nodeName + \":::\" + e.innerText), this.findAutoAnimateMatches(i, e, t, \"img, video, iframe\", e => e.nodeName + \":::\" + (e.getAttribute(\"src\") || e.getAttribute(\"data-src\"))), this.findAutoAnimateMatches(i, e, t, \"pre\", e => e.nodeName + \":::\" + e.innerText), i.forEach(e => {\n      n(e.from, s) ? e.options = {\n        scale: !1\n      } : n(e.from, \"pre\") && (e.options = {\n        scale: !1,\n        styles: [\"width\", \"height\"]\n      }, this.findAutoAnimateMatches(i, e.from, e.to, \".hljs .hljs-ln-code\", e => e.textContent, {\n        scale: !1,\n        styles: [],\n        measure: this.getLocalBoundingBox.bind(this)\n      }), this.findAutoAnimateMatches(i, e.from, e.to, \".hljs .hljs-ln-numbers[data-line-number]\", e => e.getAttribute(\"data-line-number\"), {\n        scale: !1,\n        styles: [\"width\"],\n        measure: this.getLocalBoundingBox.bind(this)\n      }));\n    }, this), i;\n  }\n  getLocalBoundingBox(e) {\n    const t = this.Reveal.getScale();\n    return {\n      x: Math.round(e.offsetLeft * t * 100) / 100,\n      y: Math.round(e.offsetTop * t * 100) / 100,\n      width: Math.round(e.offsetWidth * t * 100) / 100,\n      height: Math.round(e.offsetHeight * t * 100) / 100\n    };\n  }\n  findAutoAnimateMatches(e, t, i, s, a, n) {\n    let r = {},\n      o = {};\n    [].slice.call(t.querySelectorAll(s)).forEach((e, t) => {\n      const i = a(e);\n      \"string\" == typeof i && i.length && (r[i] = r[i] || [], r[i].push(e));\n    }), [].slice.call(i.querySelectorAll(s)).forEach((t, i) => {\n      const s = a(t);\n      let l;\n      if (o[s] = o[s] || [], o[s].push(t), r[s]) {\n        const e = o[s].length - 1,\n          t = r[s].length - 1;\n        r[s][e] ? (l = r[s][e], r[s][e] = null) : r[s][t] && (l = r[s][t], r[s][t] = null);\n      }\n      l && e.push({\n        from: l,\n        to: t,\n        options: n\n      });\n    });\n  }\n  getUnmatchedAutoAnimateElements(e) {\n    return [].slice.call(e.children).reduce((e, t) => {\n      const i = t.querySelector(\"[data-auto-animate-target]\");\n      return t.hasAttribute(\"data-auto-animate-target\") || i || e.push(t), t.querySelector(\"[data-auto-animate-target]\") && (e = e.concat(this.getUnmatchedAutoAnimateElements(t))), e;\n    }, []);\n  }\n}\nclass L {\n  constructor(e) {\n    this.Reveal = e, this.active = !1, this.activatedCallbacks = [], this.onScroll = this.onScroll.bind(this);\n  }\n  activate() {\n    if (this.active) return;\n    const e = this.Reveal.getState();\n    this.active = !0, this.slideHTMLBeforeActivation = this.Reveal.getSlidesElement().innerHTML;\n    const i = t(this.Reveal.getRevealElement(), m);\n    let s;\n    this.viewportElement.classList.add(\"loading-scroll-mode\", \"reveal-scroll\");\n    const a = window.getComputedStyle(this.viewportElement);\n    a && a.background && (s = a.background);\n    const n = [],\n      r = i[0].parentNode;\n    let o;\n    const l = (e, t, i) => {\n      let a;\n      if (o && this.Reveal.shouldAutoAnimateBetween(o, e)) a = document.createElement(\"div\"), a.className = \"scroll-page-content scroll-auto-animate-page\", a.style.display = \"none\", o.closest(\".scroll-page-content\").parentNode.appendChild(a);else {\n        const e = document.createElement(\"div\");\n        e.className = \"scroll-page\", n.push(e), s && (e.style.background = s);\n        const t = document.createElement(\"div\");\n        t.className = \"scroll-page-sticky\", e.appendChild(t), a = document.createElement(\"div\"), a.className = \"scroll-page-content\", t.appendChild(a);\n      }\n      a.appendChild(e), e.classList.remove(\"past\", \"future\"), e.setAttribute(\"data-index-h\", t), e.setAttribute(\"data-index-v\", i), e.slideBackgroundElement && (e.slideBackgroundElement.remove(\"past\", \"future\"), a.insertBefore(e.slideBackgroundElement, e)), o = e;\n    };\n    i.forEach((e, t) => {\n      this.Reveal.isVerticalStack(e) ? e.querySelectorAll(\"section\").forEach((e, i) => {\n        l(e, t, i);\n      }) : l(e, t, 0);\n    }, this), this.createProgressBar(), t(this.Reveal.getRevealElement(), \".stack\").forEach(e => e.remove()), n.forEach(e => r.appendChild(e)), this.Reveal.slideContent.layout(this.Reveal.getSlidesElement()), this.Reveal.layout(), this.Reveal.setState(e), this.activatedCallbacks.forEach(e => e()), this.activatedCallbacks = [], this.restoreScrollPosition(), this.viewportElement.classList.remove(\"loading-scroll-mode\"), this.viewportElement.addEventListener(\"scroll\", this.onScroll, {\n      passive: !0\n    });\n  }\n  deactivate() {\n    if (!this.active) return;\n    const e = this.Reveal.getState();\n    this.active = !1, this.viewportElement.removeEventListener(\"scroll\", this.onScroll), this.viewportElement.classList.remove(\"reveal-scroll\"), this.removeProgressBar(), this.Reveal.getSlidesElement().innerHTML = this.slideHTMLBeforeActivation, this.Reveal.sync(), this.Reveal.setState(e), this.slideHTMLBeforeActivation = null;\n  }\n  toggle(e) {\n    \"boolean\" == typeof e ? e ? this.activate() : this.deactivate() : this.isActive() ? this.deactivate() : this.activate();\n  }\n  isActive() {\n    return this.active;\n  }\n  createProgressBar() {\n    this.progressBar = document.createElement(\"div\"), this.progressBar.className = \"scrollbar\", this.progressBarInner = document.createElement(\"div\"), this.progressBarInner.className = \"scrollbar-inner\", this.progressBar.appendChild(this.progressBarInner), this.progressBarPlayhead = document.createElement(\"div\"), this.progressBarPlayhead.className = \"scrollbar-playhead\", this.progressBarInner.appendChild(this.progressBarPlayhead), this.viewportElement.insertBefore(this.progressBar, this.viewportElement.firstChild);\n    const e = e => {\n        let t = (e.clientY - this.progressBarInner.getBoundingClientRect().top) / this.progressBarHeight;\n        t = Math.max(Math.min(t, 1), 0), this.viewportElement.scrollTop = t * (this.viewportElement.scrollHeight - this.viewportElement.offsetHeight);\n      },\n      t = i => {\n        this.draggingProgressBar = !1, this.showProgressBar(), document.removeEventListener(\"mousemove\", e), document.removeEventListener(\"mouseup\", t);\n      };\n    this.progressBarInner.addEventListener(\"mousedown\", i => {\n      i.preventDefault(), this.draggingProgressBar = !0, document.addEventListener(\"mousemove\", e), document.addEventListener(\"mouseup\", t), e(i);\n    });\n  }\n  removeProgressBar() {\n    this.progressBar && (this.progressBar.remove(), this.progressBar = null);\n  }\n  layout() {\n    this.isActive() && (this.syncPages(), this.syncScrollPosition());\n  }\n  syncPages() {\n    const e = this.Reveal.getConfig(),\n      t = this.Reveal.getComputedSlideSize(window.innerWidth, window.innerHeight),\n      i = this.Reveal.getScale(),\n      s = \"compact\" === e.scrollLayout,\n      a = this.viewportElement.offsetHeight,\n      n = t.height * i,\n      r = s ? n : a,\n      o = s ? n : a;\n    this.viewportElement.style.setProperty(\"--page-height\", r + \"px\"), this.viewportElement.style.scrollSnapType = \"string\" == typeof e.scrollSnap ? `y ${e.scrollSnap}` : \"\", this.slideTriggers = [];\n    const l = Array.from(this.Reveal.getRevealElement().querySelectorAll(\".scroll-page\"));\n    this.pages = l.map(i => {\n      const n = this.createPage({\n        pageElement: i,\n        slideElement: i.querySelector(\"section\"),\n        stickyElement: i.querySelector(\".scroll-page-sticky\"),\n        contentElement: i.querySelector(\".scroll-page-content\"),\n        backgroundElement: i.querySelector(\".slide-background\"),\n        autoAnimateElements: i.querySelectorAll(\".scroll-auto-animate-page\"),\n        autoAnimatePages: []\n      });\n      n.pageElement.style.setProperty(\"--slide-height\", !0 === e.center ? \"auto\" : t.height + \"px\"), this.slideTriggers.push({\n        page: n,\n        activate: () => this.activatePage(n),\n        deactivate: () => this.deactivatePage(n)\n      }), this.createFragmentTriggersForPage(n), n.autoAnimateElements.length > 0 && this.createAutoAnimateTriggersForPage(n);\n      let l = Math.max(n.scrollTriggers.length - 1, 0);\n      l += n.autoAnimatePages.reduce((e, t) => e + Math.max(t.scrollTriggers.length - 1, 0), n.autoAnimatePages.length), n.pageElement.querySelectorAll(\".scroll-snap-point\").forEach(e => e.remove());\n      for (let e = 0; e < l + 1; e++) {\n        const t = document.createElement(\"div\");\n        t.className = \"scroll-snap-point\", t.style.height = o + \"px\", t.style.scrollSnapAlign = s ? \"center\" : \"start\", n.pageElement.appendChild(t), 0 === e && (t.style.marginTop = -o + \"px\");\n      }\n      return s && n.scrollTriggers.length > 0 ? (n.pageHeight = a, n.pageElement.style.setProperty(\"--page-height\", a + \"px\")) : (n.pageHeight = r, n.pageElement.style.removeProperty(\"--page-height\")), n.scrollPadding = o * l, n.totalHeight = n.pageHeight + n.scrollPadding, n.pageElement.style.setProperty(\"--page-scroll-padding\", n.scrollPadding + \"px\"), l > 0 ? (n.stickyElement.style.position = \"sticky\", n.stickyElement.style.top = Math.max((a - n.pageHeight) / 2, 0) + \"px\") : (n.stickyElement.style.position = \"relative\", n.pageElement.style.scrollSnapAlign = n.pageHeight < a ? \"center\" : \"start\"), n;\n    }), this.setTriggerRanges(), this.viewportElement.setAttribute(\"data-scrollbar\", e.scrollProgress), e.scrollProgress && this.totalScrollTriggerCount > 1 ? (this.progressBar || this.createProgressBar(), this.syncProgressBar()) : this.removeProgressBar();\n  }\n  setTriggerRanges() {\n    this.totalScrollTriggerCount = this.slideTriggers.reduce((e, t) => e + Math.max(t.page.scrollTriggers.length, 1), 0);\n    let e = 0;\n    this.slideTriggers.forEach((t, i) => {\n      t.range = [e, e + Math.max(t.page.scrollTriggers.length, 1) / this.totalScrollTriggerCount];\n      const s = (t.range[1] - t.range[0]) / t.page.scrollTriggers.length;\n      t.page.scrollTriggers.forEach((t, i) => {\n        t.range = [e + i * s, e + (i + 1) * s];\n      }), e = t.range[1];\n    });\n  }\n  createFragmentTriggersForPage(e, t) {\n    t = t || e.slideElement;\n    const i = this.Reveal.fragments.sort(t.querySelectorAll(\".fragment\"), !0);\n    return i.length && (e.fragments = this.Reveal.fragments.sort(t.querySelectorAll(\".fragment:not(.disabled)\")), e.scrollTriggers.push({\n      activate: () => {\n        this.Reveal.fragments.update(-1, e.fragments, t);\n      }\n    }), i.forEach((i, s) => {\n      e.scrollTriggers.push({\n        activate: () => {\n          this.Reveal.fragments.update(s, e.fragments, t);\n        }\n      });\n    })), e.scrollTriggers.length;\n  }\n  createAutoAnimateTriggersForPage(e) {\n    e.autoAnimateElements.length > 0 && this.slideTriggers.push(...Array.from(e.autoAnimateElements).map((t, i) => {\n      let s = this.createPage({\n        slideElement: t.querySelector(\"section\"),\n        contentElement: t,\n        backgroundElement: t.querySelector(\".slide-background\")\n      });\n      return this.createFragmentTriggersForPage(s, s.slideElement), e.autoAnimatePages.push(s), {\n        page: s,\n        activate: () => this.activatePage(s),\n        deactivate: () => this.deactivatePage(s)\n      };\n    }));\n  }\n  createPage(e) {\n    return e.scrollTriggers = [], e.indexh = parseInt(e.slideElement.getAttribute(\"data-index-h\"), 10), e.indexv = parseInt(e.slideElement.getAttribute(\"data-index-v\"), 10), e;\n  }\n  syncProgressBar() {\n    this.progressBarInner.querySelectorAll(\".scrollbar-slide\").forEach(e => e.remove());\n    const e = this.viewportElement.scrollHeight,\n      t = this.viewportElement.offsetHeight,\n      i = t / e;\n    this.progressBarHeight = this.progressBarInner.offsetHeight, this.playheadHeight = Math.max(i * this.progressBarHeight, 8), this.progressBarScrollableHeight = this.progressBarHeight - this.playheadHeight;\n    const s = t / e * this.progressBarHeight,\n      a = Math.min(s / 8, 4);\n    this.progressBarPlayhead.style.height = this.playheadHeight - a + \"px\", s > 6 ? this.slideTriggers.forEach(e => {\n      const {\n        page: t\n      } = e;\n      t.progressBarSlide = document.createElement(\"div\"), t.progressBarSlide.className = \"scrollbar-slide\", t.progressBarSlide.style.top = e.range[0] * this.progressBarHeight + \"px\", t.progressBarSlide.style.height = (e.range[1] - e.range[0]) * this.progressBarHeight - a + \"px\", t.progressBarSlide.classList.toggle(\"has-triggers\", t.scrollTriggers.length > 0), this.progressBarInner.appendChild(t.progressBarSlide), t.scrollTriggerElements = t.scrollTriggers.map((i, s) => {\n        const n = document.createElement(\"div\");\n        return n.className = \"scrollbar-trigger\", n.style.top = (i.range[0] - e.range[0]) * this.progressBarHeight + \"px\", n.style.height = (i.range[1] - i.range[0]) * this.progressBarHeight - a + \"px\", t.progressBarSlide.appendChild(n), 0 === s && (n.style.display = \"none\"), n;\n      });\n    }) : this.pages.forEach(e => e.progressBarSlide = null);\n  }\n  syncScrollPosition() {\n    const e = this.viewportElement.offsetHeight,\n      t = e / this.viewportElement.scrollHeight,\n      i = this.viewportElement.scrollTop,\n      s = this.viewportElement.scrollHeight - e,\n      a = Math.max(Math.min(i / s, 1), 0),\n      n = Math.max(Math.min((i + e / 2) / this.viewportElement.scrollHeight, 1), 0);\n    let r;\n    this.slideTriggers.forEach(e => {\n      const {\n        page: i\n      } = e;\n      a >= e.range[0] - 2 * t && a <= e.range[1] + 2 * t && !i.loaded ? (i.loaded = !0, this.Reveal.slideContent.load(i.slideElement)) : i.loaded && (i.loaded = !1, this.Reveal.slideContent.unload(i.slideElement)), a >= e.range[0] && a <= e.range[1] ? (this.activateTrigger(e), r = e.page) : e.active && this.deactivateTrigger(e);\n    }), r && r.scrollTriggers.forEach(e => {\n      n >= e.range[0] && n <= e.range[1] ? this.activateTrigger(e) : e.active && this.deactivateTrigger(e);\n    }), this.setProgressBarValue(i / (this.viewportElement.scrollHeight - e));\n  }\n  setProgressBarValue(e) {\n    this.progressBar && (this.progressBarPlayhead.style.transform = `translateY(${e * this.progressBarScrollableHeight}px)`, this.getAllPages().filter(e => e.progressBarSlide).forEach(e => {\n      e.progressBarSlide.classList.toggle(\"active\", !0 === e.active), e.scrollTriggers.forEach((t, i) => {\n        e.scrollTriggerElements[i].classList.toggle(\"active\", !0 === e.active && !0 === t.active);\n      });\n    }), this.showProgressBar());\n  }\n  showProgressBar() {\n    this.progressBar.classList.add(\"visible\"), clearTimeout(this.hideProgressBarTimeout), \"auto\" !== this.Reveal.getConfig().scrollProgress || this.draggingProgressBar || (this.hideProgressBarTimeout = setTimeout(() => {\n      this.progressBar && this.progressBar.classList.remove(\"visible\");\n    }, 500));\n  }\n  scrollToSlide(e) {\n    if (this.active) {\n      const t = this.getScrollTriggerBySlide(e);\n      t && (this.viewportElement.scrollTop = t.range[0] * (this.viewportElement.scrollHeight - this.viewportElement.offsetHeight));\n    } else this.activatedCallbacks.push(() => this.scrollToSlide(e));\n  }\n  storeScrollPosition() {\n    clearTimeout(this.storeScrollPositionTimeout), this.storeScrollPositionTimeout = setTimeout(() => {\n      sessionStorage.setItem(\"reveal-scroll-top\", this.viewportElement.scrollTop), sessionStorage.setItem(\"reveal-scroll-origin\", location.origin + location.pathname), this.storeScrollPositionTimeout = null;\n    }, 50);\n  }\n  restoreScrollPosition() {\n    const e = sessionStorage.getItem(\"reveal-scroll-top\"),\n      t = sessionStorage.getItem(\"reveal-scroll-origin\");\n    e && t === location.origin + location.pathname && (this.viewportElement.scrollTop = parseInt(e, 10));\n  }\n  activatePage(e) {\n    if (!e.active) {\n      e.active = !0;\n      const {\n        slideElement: t,\n        backgroundElement: i,\n        contentElement: s,\n        indexh: a,\n        indexv: n\n      } = e;\n      s.style.display = \"block\", t.classList.add(\"present\"), i && i.classList.add(\"present\"), this.Reveal.setCurrentScrollPage(t, a, n), this.Reveal.backgrounds.bubbleSlideContrastClassToElement(t, this.viewportElement), Array.from(s.parentNode.querySelectorAll(\".scroll-page-content\")).forEach(e => {\n        e !== s && (e.style.display = \"none\");\n      });\n    }\n  }\n  deactivatePage(e) {\n    e.active && (e.active = !1, e.slideElement && e.slideElement.classList.remove(\"present\"), e.backgroundElement && e.backgroundElement.classList.remove(\"present\"));\n  }\n  activateTrigger(e) {\n    e.active || (e.active = !0, e.activate());\n  }\n  deactivateTrigger(e) {\n    e.active && (e.active = !1, e.deactivate && e.deactivate());\n  }\n  getSlideByIndices(e, t) {\n    const i = this.getAllPages().find(i => i.indexh === e && i.indexv === t);\n    return i ? i.slideElement : null;\n  }\n  getScrollTriggerBySlide(e) {\n    return this.slideTriggers.find(t => t.page.slideElement === e);\n  }\n  getAllPages() {\n    return this.pages.flatMap(e => [e, ...(e.autoAnimatePages || [])]);\n  }\n  onScroll() {\n    this.syncScrollPosition(), this.storeScrollPosition();\n  }\n  get viewportElement() {\n    return this.Reveal.getViewportElement();\n  }\n}\nclass C {\n  constructor(e) {\n    this.Reveal = e;\n  }\n  async activate() {\n    const e = this.Reveal.getConfig(),\n      i = t(this.Reveal.getRevealElement(), v),\n      s = e.slideNumber && /all|print/i.test(e.showSlideNumber),\n      a = this.Reveal.getComputedSlideSize(window.innerWidth, window.innerHeight),\n      n = Math.floor(a.width * (1 + e.margin)),\n      r = Math.floor(a.height * (1 + e.margin)),\n      l = a.width,\n      d = a.height;\n    await new Promise(requestAnimationFrame), o(\"@page{size:\" + n + \"px \" + r + \"px; margin: 0px;}\"), o(\".reveal section>img, .reveal section>video, .reveal section>iframe{max-width: \" + l + \"px; max-height:\" + d + \"px}\"), document.documentElement.classList.add(\"reveal-print\", \"print-pdf\"), document.body.style.width = n + \"px\", document.body.style.height = r + \"px\";\n    const c = this.Reveal.getViewportElement();\n    let h;\n    if (c) {\n      const e = window.getComputedStyle(c);\n      e && e.background && (h = e.background);\n    }\n    await new Promise(requestAnimationFrame), this.Reveal.layoutSlideContents(l, d), await new Promise(requestAnimationFrame);\n    const u = i.map(e => e.scrollHeight),\n      g = [],\n      p = i[0].parentNode;\n    let m = 1;\n    i.forEach(function (i, a) {\n      if (!1 === i.classList.contains(\"stack\")) {\n        let o = (n - l) / 2,\n          c = (r - d) / 2;\n        const p = u[a];\n        let v = Math.max(Math.ceil(p / r), 1);\n        v = Math.min(v, e.pdfMaxPagesPerSlide), (1 === v && e.center || i.classList.contains(\"center\")) && (c = Math.max((r - p) / 2, 0));\n        const f = document.createElement(\"div\");\n        if (g.push(f), f.className = \"pdf-page\", f.style.height = (r + e.pdfPageHeightOffset) * v + \"px\", h && (f.style.background = h), f.appendChild(i), i.style.left = o + \"px\", i.style.top = c + \"px\", i.style.width = l + \"px\", this.Reveal.slideContent.layout(i), i.slideBackgroundElement && f.insertBefore(i.slideBackgroundElement, i), e.showNotes) {\n          const t = this.Reveal.getSlideNotes(i);\n          if (t) {\n            const i = 8,\n              s = \"string\" == typeof e.showNotes ? e.showNotes : \"inline\",\n              a = document.createElement(\"div\");\n            a.classList.add(\"speaker-notes\"), a.classList.add(\"speaker-notes-pdf\"), a.setAttribute(\"data-layout\", s), a.innerHTML = t, \"separate-page\" === s ? g.push(a) : (a.style.left = i + \"px\", a.style.bottom = i + \"px\", a.style.width = n - 2 * i + \"px\", f.appendChild(a));\n          }\n        }\n        if (s) {\n          const e = document.createElement(\"div\");\n          e.classList.add(\"slide-number\"), e.classList.add(\"slide-number-pdf\"), e.innerHTML = m++, f.appendChild(e);\n        }\n        if (e.pdfSeparateFragments) {\n          const e = this.Reveal.fragments.sort(f.querySelectorAll(\".fragment\"), !0);\n          let t;\n          e.forEach(function (e, i) {\n            t && t.forEach(function (e) {\n              e.classList.remove(\"current-fragment\");\n            }), e.forEach(function (e) {\n              e.classList.add(\"visible\", \"current-fragment\");\n            }, this);\n            const a = f.cloneNode(!0);\n            if (s) {\n              const e = i + 1;\n              a.querySelector(\".slide-number-pdf\").innerHTML += \".\" + e;\n            }\n            g.push(a), t = e;\n          }, this), e.forEach(function (e) {\n            e.forEach(function (e) {\n              e.classList.remove(\"visible\", \"current-fragment\");\n            });\n          });\n        } else t(f, \".fragment:not(.fade-out)\").forEach(function (e) {\n          e.classList.add(\"visible\");\n        });\n      }\n    }, this), await new Promise(requestAnimationFrame), g.forEach(e => p.appendChild(e)), this.Reveal.slideContent.layout(this.Reveal.getSlidesElement()), this.Reveal.dispatchEvent({\n      type: \"pdf-ready\"\n    }), c.classList.remove(\"loading-scroll-mode\");\n  }\n  isActive() {\n    return \"print\" === this.Reveal.getConfig().view;\n  }\n}\nclass x {\n  constructor(e) {\n    this.Reveal = e;\n  }\n  configure(e, t) {\n    !1 === e.fragments ? this.disable() : !1 === t.fragments && this.enable();\n  }\n  disable() {\n    t(this.Reveal.getSlidesElement(), \".fragment\").forEach(e => {\n      e.classList.add(\"visible\"), e.classList.remove(\"current-fragment\");\n    });\n  }\n  enable() {\n    t(this.Reveal.getSlidesElement(), \".fragment\").forEach(e => {\n      e.classList.remove(\"visible\"), e.classList.remove(\"current-fragment\");\n    });\n  }\n  availableRoutes() {\n    let e = this.Reveal.getCurrentSlide();\n    if (e && this.Reveal.getConfig().fragments) {\n      let t = e.querySelectorAll(\".fragment:not(.disabled)\"),\n        i = e.querySelectorAll(\".fragment:not(.disabled):not(.visible)\");\n      return {\n        prev: t.length - i.length > 0,\n        next: !!i.length\n      };\n    }\n    return {\n      prev: !1,\n      next: !1\n    };\n  }\n  sort(e, t = !1) {\n    e = Array.from(e);\n    let i = [],\n      s = [],\n      a = [];\n    e.forEach(e => {\n      if (e.hasAttribute(\"data-fragment-index\")) {\n        let t = parseInt(e.getAttribute(\"data-fragment-index\"), 10);\n        i[t] || (i[t] = []), i[t].push(e);\n      } else s.push([e]);\n    }), i = i.concat(s);\n    let n = 0;\n    return i.forEach(e => {\n      e.forEach(e => {\n        a.push(e), e.setAttribute(\"data-fragment-index\", n);\n      }), n++;\n    }), !0 === t ? i : a;\n  }\n  sortAll() {\n    this.Reveal.getHorizontalSlides().forEach(e => {\n      let i = t(e, \"section\");\n      i.forEach((e, t) => {\n        this.sort(e.querySelectorAll(\".fragment\"));\n      }, this), 0 === i.length && this.sort(e.querySelectorAll(\".fragment\"));\n    });\n  }\n  update(e, t, i = this.Reveal.getCurrentSlide()) {\n    let s = {\n      shown: [],\n      hidden: []\n    };\n    if (i && this.Reveal.getConfig().fragments && (t = t || this.sort(i.querySelectorAll(\".fragment\"))).length) {\n      let a = 0;\n      if (\"number\" != typeof e) {\n        let t = this.sort(i.querySelectorAll(\".fragment.visible\")).pop();\n        t && (e = parseInt(t.getAttribute(\"data-fragment-index\") || 0, 10));\n      }\n      Array.from(t).forEach((t, i) => {\n        if (t.hasAttribute(\"data-fragment-index\") && (i = parseInt(t.getAttribute(\"data-fragment-index\"), 10)), a = Math.max(a, i), i <= e) {\n          let a = t.classList.contains(\"visible\");\n          t.classList.add(\"visible\"), t.classList.remove(\"current-fragment\"), i === e && (this.Reveal.announceStatus(this.Reveal.getStatusText(t)), t.classList.add(\"current-fragment\"), this.Reveal.slideContent.startEmbeddedContent(t)), a || (s.shown.push(t), this.Reveal.dispatchEvent({\n            target: t,\n            type: \"visible\",\n            bubbles: !1\n          }));\n        } else {\n          let e = t.classList.contains(\"visible\");\n          t.classList.remove(\"visible\"), t.classList.remove(\"current-fragment\"), e && (this.Reveal.slideContent.stopEmbeddedContent(t), s.hidden.push(t), this.Reveal.dispatchEvent({\n            target: t,\n            type: \"hidden\",\n            bubbles: !1\n          }));\n        }\n      }), e = \"number\" == typeof e ? e : -1, e = Math.max(Math.min(e, a), -1), i.setAttribute(\"data-fragment\", e);\n    }\n    return s;\n  }\n  sync(e = this.Reveal.getCurrentSlide()) {\n    return this.sort(e.querySelectorAll(\".fragment\"));\n  }\n  goto(e, t = 0) {\n    let i = this.Reveal.getCurrentSlide();\n    if (i && this.Reveal.getConfig().fragments) {\n      let s = this.sort(i.querySelectorAll(\".fragment:not(.disabled)\"));\n      if (s.length) {\n        if (\"number\" != typeof e) {\n          let t = this.sort(i.querySelectorAll(\".fragment:not(.disabled).visible\")).pop();\n          e = t ? parseInt(t.getAttribute(\"data-fragment-index\") || 0, 10) : -1;\n        }\n        e += t;\n        let a = this.update(e, s);\n        return a.hidden.length && this.Reveal.dispatchEvent({\n          type: \"fragmenthidden\",\n          data: {\n            fragment: a.hidden[0],\n            fragments: a.hidden\n          }\n        }), a.shown.length && this.Reveal.dispatchEvent({\n          type: \"fragmentshown\",\n          data: {\n            fragment: a.shown[0],\n            fragments: a.shown\n          }\n        }), this.Reveal.controls.update(), this.Reveal.progress.update(), this.Reveal.getConfig().fragmentInURL && this.Reveal.location.writeURL(), !(!a.shown.length && !a.hidden.length);\n      }\n    }\n    return !1;\n  }\n  next() {\n    return this.goto(null, 1);\n  }\n  prev() {\n    return this.goto(null, -1);\n  }\n}\nclass P {\n  constructor(e) {\n    this.Reveal = e, this.active = !1, this.onSlideClicked = this.onSlideClicked.bind(this);\n  }\n  activate() {\n    if (this.Reveal.getConfig().overview && !this.Reveal.isScrollView() && !this.isActive()) {\n      this.active = !0, this.Reveal.getRevealElement().classList.add(\"overview\"), this.Reveal.cancelAutoSlide(), this.Reveal.getSlidesElement().appendChild(this.Reveal.getBackgroundsElement()), t(this.Reveal.getRevealElement(), v).forEach(e => {\n        e.classList.contains(\"stack\") || e.addEventListener(\"click\", this.onSlideClicked, !0);\n      });\n      const e = 70,\n        i = this.Reveal.getComputedSlideSize();\n      this.overviewSlideWidth = i.width + e, this.overviewSlideHeight = i.height + e, this.Reveal.getConfig().rtl && (this.overviewSlideWidth = -this.overviewSlideWidth), this.Reveal.updateSlidesVisibility(), this.layout(), this.update(), this.Reveal.layout();\n      const s = this.Reveal.getIndices();\n      this.Reveal.dispatchEvent({\n        type: \"overviewshown\",\n        data: {\n          indexh: s.h,\n          indexv: s.v,\n          currentSlide: this.Reveal.getCurrentSlide()\n        }\n      });\n    }\n  }\n  layout() {\n    this.Reveal.getHorizontalSlides().forEach((e, i) => {\n      e.setAttribute(\"data-index-h\", i), a(e, \"translate3d(\" + i * this.overviewSlideWidth + \"px, 0, 0)\"), e.classList.contains(\"stack\") && t(e, \"section\").forEach((e, t) => {\n        e.setAttribute(\"data-index-h\", i), e.setAttribute(\"data-index-v\", t), a(e, \"translate3d(0, \" + t * this.overviewSlideHeight + \"px, 0)\");\n      });\n    }), Array.from(this.Reveal.getBackgroundsElement().childNodes).forEach((e, i) => {\n      a(e, \"translate3d(\" + i * this.overviewSlideWidth + \"px, 0, 0)\"), t(e, \".slide-background\").forEach((e, t) => {\n        a(e, \"translate3d(0, \" + t * this.overviewSlideHeight + \"px, 0)\");\n      });\n    });\n  }\n  update() {\n    const e = Math.min(window.innerWidth, window.innerHeight),\n      t = Math.max(e / 5, 150) / e,\n      i = this.Reveal.getIndices();\n    this.Reveal.transformSlides({\n      overview: [\"scale(\" + t + \")\", \"translateX(\" + -i.h * this.overviewSlideWidth + \"px)\", \"translateY(\" + -i.v * this.overviewSlideHeight + \"px)\"].join(\" \")\n    });\n  }\n  deactivate() {\n    if (this.Reveal.getConfig().overview) {\n      this.active = !1, this.Reveal.getRevealElement().classList.remove(\"overview\"), this.Reveal.getRevealElement().classList.add(\"overview-deactivating\"), setTimeout(() => {\n        this.Reveal.getRevealElement().classList.remove(\"overview-deactivating\");\n      }, 1), this.Reveal.getRevealElement().appendChild(this.Reveal.getBackgroundsElement()), t(this.Reveal.getRevealElement(), v).forEach(e => {\n        a(e, \"\"), e.removeEventListener(\"click\", this.onSlideClicked, !0);\n      }), t(this.Reveal.getBackgroundsElement(), \".slide-background\").forEach(e => {\n        a(e, \"\");\n      }), this.Reveal.transformSlides({\n        overview: \"\"\n      });\n      const e = this.Reveal.getIndices();\n      this.Reveal.slide(e.h, e.v), this.Reveal.layout(), this.Reveal.cueAutoSlide(), this.Reveal.dispatchEvent({\n        type: \"overviewhidden\",\n        data: {\n          indexh: e.h,\n          indexv: e.v,\n          currentSlide: this.Reveal.getCurrentSlide()\n        }\n      });\n    }\n  }\n  toggle(e) {\n    \"boolean\" == typeof e ? e ? this.activate() : this.deactivate() : this.isActive() ? this.deactivate() : this.activate();\n  }\n  isActive() {\n    return this.active;\n  }\n  onSlideClicked(e) {\n    if (this.isActive()) {\n      e.preventDefault();\n      let t = e.target;\n      for (; t && !t.nodeName.match(/section/gi);) t = t.parentNode;\n      if (t && !t.classList.contains(\"disabled\") && (this.deactivate(), t.nodeName.match(/section/gi))) {\n        let e = parseInt(t.getAttribute(\"data-index-h\"), 10),\n          i = parseInt(t.getAttribute(\"data-index-v\"), 10);\n        this.Reveal.slide(e, i);\n      }\n    }\n  }\n}\nclass T {\n  constructor(e) {\n    this.Reveal = e, this.shortcuts = {}, this.bindings = {}, this.onDocumentKeyDown = this.onDocumentKeyDown.bind(this);\n  }\n  configure(e, t) {\n    \"linear\" === e.navigationMode ? (this.shortcuts[\"&#8594;  ,  &#8595;  ,  SPACE  ,  N  ,  L  ,  J\"] = \"Next slide\", this.shortcuts[\"&#8592;  ,  &#8593;  ,  P  ,  H  ,  K\"] = \"Previous slide\") : (this.shortcuts[\"N  ,  SPACE\"] = \"Next slide\", this.shortcuts[\"P  ,  Shift SPACE\"] = \"Previous slide\", this.shortcuts[\"&#8592;  ,  H\"] = \"Navigate left\", this.shortcuts[\"&#8594;  ,  L\"] = \"Navigate right\", this.shortcuts[\"&#8593;  ,  K\"] = \"Navigate up\", this.shortcuts[\"&#8595;  ,  J\"] = \"Navigate down\"), this.shortcuts[\"Alt + &#8592;/&#8593/&#8594;/&#8595;\"] = \"Navigate without fragments\", this.shortcuts[\"Shift + &#8592;/&#8593/&#8594;/&#8595;\"] = \"Jump to first/last slide\", this.shortcuts[\"B  ,  .\"] = \"Pause\", this.shortcuts.F = \"Fullscreen\", this.shortcuts.G = \"Jump to slide\", this.shortcuts[\"ESC, O\"] = \"Slide overview\";\n  }\n  bind() {\n    document.addEventListener(\"keydown\", this.onDocumentKeyDown, !1);\n  }\n  unbind() {\n    document.removeEventListener(\"keydown\", this.onDocumentKeyDown, !1);\n  }\n  addKeyBinding(e, t) {\n    \"object\" == typeof e && e.keyCode ? this.bindings[e.keyCode] = {\n      callback: t,\n      key: e.key,\n      description: e.description\n    } : this.bindings[e] = {\n      callback: t,\n      key: null,\n      description: null\n    };\n  }\n  removeKeyBinding(e) {\n    delete this.bindings[e];\n  }\n  triggerKey(e) {\n    this.onDocumentKeyDown({\n      keyCode: e\n    });\n  }\n  registerKeyboardShortcut(e, t) {\n    this.shortcuts[e] = t;\n  }\n  getShortcuts() {\n    return this.shortcuts;\n  }\n  getBindings() {\n    return this.bindings;\n  }\n  onDocumentKeyDown(e) {\n    let t = this.Reveal.getConfig();\n    if (\"function\" == typeof t.keyboardCondition && !1 === t.keyboardCondition(e)) return !0;\n    if (\"focused\" === t.keyboardCondition && !this.Reveal.isFocused()) return !0;\n    let i = e.keyCode,\n      s = !this.Reveal.isAutoSliding();\n    this.Reveal.onUserInput(e);\n    let a = document.activeElement && !0 === document.activeElement.isContentEditable,\n      n = document.activeElement && document.activeElement.tagName && /input|textarea/i.test(document.activeElement.tagName),\n      r = document.activeElement && document.activeElement.className && /speaker-notes/i.test(document.activeElement.className),\n      o = !(-1 !== [32, 37, 38, 39, 40, 78, 80, 191].indexOf(e.keyCode) && e.shiftKey || e.altKey) && (e.shiftKey || e.altKey || e.ctrlKey || e.metaKey);\n    if (a || n || r || o) return;\n    let l,\n      d = [66, 86, 190, 191];\n    if (\"object\" == typeof t.keyboard) for (l in t.keyboard) \"togglePause\" === t.keyboard[l] && d.push(parseInt(l, 10));\n    if (this.Reveal.isPaused() && -1 === d.indexOf(i)) return !1;\n    let c = \"linear\" === t.navigationMode || !this.Reveal.hasHorizontalSlides() || !this.Reveal.hasVerticalSlides(),\n      h = !1;\n    if (\"object\" == typeof t.keyboard) for (l in t.keyboard) if (parseInt(l, 10) === i) {\n      let i = t.keyboard[l];\n      \"function\" == typeof i ? i.apply(null, [e]) : \"string\" == typeof i && \"function\" == typeof this.Reveal[i] && this.Reveal[i].call(), h = !0;\n    }\n    if (!1 === h) for (l in this.bindings) if (parseInt(l, 10) === i) {\n      let t = this.bindings[l].callback;\n      \"function\" == typeof t ? t.apply(null, [e]) : \"string\" == typeof t && \"function\" == typeof this.Reveal[t] && this.Reveal[t].call(), h = !0;\n    }\n    !1 === h && (h = !0, 80 === i || 33 === i ? this.Reveal.prev({\n      skipFragments: e.altKey\n    }) : 78 === i || 34 === i ? this.Reveal.next({\n      skipFragments: e.altKey\n    }) : 72 === i || 37 === i ? e.shiftKey ? this.Reveal.slide(0) : !this.Reveal.overview.isActive() && c ? this.Reveal.prev({\n      skipFragments: e.altKey\n    }) : this.Reveal.left({\n      skipFragments: e.altKey\n    }) : 76 === i || 39 === i ? e.shiftKey ? this.Reveal.slide(this.Reveal.getHorizontalSlides().length - 1) : !this.Reveal.overview.isActive() && c ? this.Reveal.next({\n      skipFragments: e.altKey\n    }) : this.Reveal.right({\n      skipFragments: e.altKey\n    }) : 75 === i || 38 === i ? e.shiftKey ? this.Reveal.slide(void 0, 0) : !this.Reveal.overview.isActive() && c ? this.Reveal.prev({\n      skipFragments: e.altKey\n    }) : this.Reveal.up({\n      skipFragments: e.altKey\n    }) : 74 === i || 40 === i ? e.shiftKey ? this.Reveal.slide(void 0, Number.MAX_VALUE) : !this.Reveal.overview.isActive() && c ? this.Reveal.next({\n      skipFragments: e.altKey\n    }) : this.Reveal.down({\n      skipFragments: e.altKey\n    }) : 36 === i ? this.Reveal.slide(0) : 35 === i ? this.Reveal.slide(this.Reveal.getHorizontalSlides().length - 1) : 32 === i ? (this.Reveal.overview.isActive() && this.Reveal.overview.deactivate(), e.shiftKey ? this.Reveal.prev({\n      skipFragments: e.altKey\n    }) : this.Reveal.next({\n      skipFragments: e.altKey\n    })) : [58, 59, 66, 86, 190].includes(i) || 191 === i && !e.shiftKey ? this.Reveal.togglePause() : 70 === i ? (e => {\n      let t = (e = e || document.documentElement).requestFullscreen || e.webkitRequestFullscreen || e.webkitRequestFullScreen || e.mozRequestFullScreen || e.msRequestFullscreen;\n      t && t.apply(e);\n    })(t.embedded ? this.Reveal.getViewportElement() : document.documentElement) : 65 === i ? t.autoSlideStoppable && this.Reveal.toggleAutoSlide(s) : 71 === i ? t.jumpToSlide && this.Reveal.toggleJumpToSlide() : 191 === i && e.shiftKey ? this.Reveal.toggleHelp() : h = !1), h ? e.preventDefault && e.preventDefault() : 27 !== i && 79 !== i || (!1 === this.Reveal.closeOverlay() && this.Reveal.overview.toggle(), e.preventDefault && e.preventDefault()), this.Reveal.cueAutoSlide();\n  }\n}\nclass N {\n  MAX_REPLACE_STATE_FREQUENCY = 1e3;\n  constructor(e) {\n    this.Reveal = e, this.writeURLTimeout = 0, this.replaceStateTimestamp = 0, this.onWindowHashChange = this.onWindowHashChange.bind(this);\n  }\n  bind() {\n    window.addEventListener(\"hashchange\", this.onWindowHashChange, !1);\n  }\n  unbind() {\n    window.removeEventListener(\"hashchange\", this.onWindowHashChange, !1);\n  }\n  getIndicesFromHash(e = window.location.hash, t = {}) {\n    let i = e.replace(/^#\\/?/, \"\"),\n      s = i.split(\"/\");\n    if (/^[0-9]*$/.test(s[0]) || !i.length) {\n      const e = this.Reveal.getConfig();\n      let i,\n        a = e.hashOneBasedIndex || t.oneBasedIndex ? 1 : 0,\n        n = parseInt(s[0], 10) - a || 0,\n        r = parseInt(s[1], 10) - a || 0;\n      return e.fragmentInURL && (i = parseInt(s[2], 10), isNaN(i) && (i = void 0)), {\n        h: n,\n        v: r,\n        f: i\n      };\n    }\n    {\n      let e, t;\n      /\\/[-\\d]+$/g.test(i) && (t = parseInt(i.split(\"/\").pop(), 10), t = isNaN(t) ? void 0 : t, i = i.split(\"/\").shift());\n      try {\n        e = document.getElementById(decodeURIComponent(i)).closest(\".slides section\");\n      } catch (e) {}\n      if (e) return {\n        ...this.Reveal.getIndices(e),\n        f: t\n      };\n    }\n    return null;\n  }\n  readURL() {\n    const e = this.Reveal.getIndices(),\n      t = this.getIndicesFromHash();\n    t ? t.h === e.h && t.v === e.v && void 0 === t.f || this.Reveal.slide(t.h, t.v, t.f) : this.Reveal.slide(e.h || 0, e.v || 0);\n  }\n  writeURL(e) {\n    let t = this.Reveal.getConfig(),\n      i = this.Reveal.getCurrentSlide();\n    if (clearTimeout(this.writeURLTimeout), \"number\" == typeof e) this.writeURLTimeout = setTimeout(this.writeURL, e);else if (i) {\n      let e = this.getHash();\n      t.history ? window.location.hash = e : t.hash && (\"/\" === e ? this.debouncedReplaceState(window.location.pathname + window.location.search) : this.debouncedReplaceState(\"#\" + e));\n    }\n  }\n  replaceState(e) {\n    window.history.replaceState(null, null, e), this.replaceStateTimestamp = Date.now();\n  }\n  debouncedReplaceState(e) {\n    clearTimeout(this.replaceStateTimeout), Date.now() - this.replaceStateTimestamp > this.MAX_REPLACE_STATE_FREQUENCY ? this.replaceState(e) : this.replaceStateTimeout = setTimeout(() => this.replaceState(e), this.MAX_REPLACE_STATE_FREQUENCY);\n  }\n  getHash(e) {\n    let t = \"/\",\n      i = e || this.Reveal.getCurrentSlide(),\n      s = i ? i.getAttribute(\"id\") : null;\n    s && (s = encodeURIComponent(s));\n    let a = this.Reveal.getIndices(e);\n    if (this.Reveal.getConfig().fragmentInURL || (a.f = void 0), \"string\" == typeof s && s.length) t = \"/\" + s, a.f >= 0 && (t += \"/\" + a.f);else {\n      let e = this.Reveal.getConfig().hashOneBasedIndex ? 1 : 0;\n      (a.h > 0 || a.v > 0 || a.f >= 0) && (t += a.h + e), (a.v > 0 || a.f >= 0) && (t += \"/\" + (a.v + e)), a.f >= 0 && (t += \"/\" + a.f);\n    }\n    return t;\n  }\n  onWindowHashChange(e) {\n    this.readURL();\n  }\n}\nclass M {\n  constructor(e) {\n    this.Reveal = e, this.onNavigateLeftClicked = this.onNavigateLeftClicked.bind(this), this.onNavigateRightClicked = this.onNavigateRightClicked.bind(this), this.onNavigateUpClicked = this.onNavigateUpClicked.bind(this), this.onNavigateDownClicked = this.onNavigateDownClicked.bind(this), this.onNavigatePrevClicked = this.onNavigatePrevClicked.bind(this), this.onNavigateNextClicked = this.onNavigateNextClicked.bind(this);\n  }\n  render() {\n    const e = this.Reveal.getConfig().rtl,\n      i = this.Reveal.getRevealElement();\n    this.element = document.createElement(\"aside\"), this.element.className = \"controls\", this.element.innerHTML = `<button class=\"navigate-left\" aria-label=\"${e ? \"next slide\" : \"previous slide\"}\"><div class=\"controls-arrow\"></div></button>\\n\\t\\t\\t<button class=\"navigate-right\" aria-label=\"${e ? \"previous slide\" : \"next slide\"}\"><div class=\"controls-arrow\"></div></button>\\n\\t\\t\\t<button class=\"navigate-up\" aria-label=\"above slide\"><div class=\"controls-arrow\"></div></button>\\n\\t\\t\\t<button class=\"navigate-down\" aria-label=\"below slide\"><div class=\"controls-arrow\"></div></button>`, this.Reveal.getRevealElement().appendChild(this.element), this.controlsLeft = t(i, \".navigate-left\"), this.controlsRight = t(i, \".navigate-right\"), this.controlsUp = t(i, \".navigate-up\"), this.controlsDown = t(i, \".navigate-down\"), this.controlsPrev = t(i, \".navigate-prev\"), this.controlsNext = t(i, \".navigate-next\"), this.controlsRightArrow = this.element.querySelector(\".navigate-right\"), this.controlsLeftArrow = this.element.querySelector(\".navigate-left\"), this.controlsDownArrow = this.element.querySelector(\".navigate-down\");\n  }\n  configure(e, t) {\n    this.element.style.display = e.controls ? \"block\" : \"none\", this.element.setAttribute(\"data-controls-layout\", e.controlsLayout), this.element.setAttribute(\"data-controls-back-arrows\", e.controlsBackArrows);\n  }\n  bind() {\n    let e = [\"touchstart\", \"click\"];\n    u && (e = [\"touchstart\"]), e.forEach(e => {\n      this.controlsLeft.forEach(t => t.addEventListener(e, this.onNavigateLeftClicked, !1)), this.controlsRight.forEach(t => t.addEventListener(e, this.onNavigateRightClicked, !1)), this.controlsUp.forEach(t => t.addEventListener(e, this.onNavigateUpClicked, !1)), this.controlsDown.forEach(t => t.addEventListener(e, this.onNavigateDownClicked, !1)), this.controlsPrev.forEach(t => t.addEventListener(e, this.onNavigatePrevClicked, !1)), this.controlsNext.forEach(t => t.addEventListener(e, this.onNavigateNextClicked, !1));\n    });\n  }\n  unbind() {\n    [\"touchstart\", \"click\"].forEach(e => {\n      this.controlsLeft.forEach(t => t.removeEventListener(e, this.onNavigateLeftClicked, !1)), this.controlsRight.forEach(t => t.removeEventListener(e, this.onNavigateRightClicked, !1)), this.controlsUp.forEach(t => t.removeEventListener(e, this.onNavigateUpClicked, !1)), this.controlsDown.forEach(t => t.removeEventListener(e, this.onNavigateDownClicked, !1)), this.controlsPrev.forEach(t => t.removeEventListener(e, this.onNavigatePrevClicked, !1)), this.controlsNext.forEach(t => t.removeEventListener(e, this.onNavigateNextClicked, !1));\n    });\n  }\n  update() {\n    let e = this.Reveal.availableRoutes();\n    [...this.controlsLeft, ...this.controlsRight, ...this.controlsUp, ...this.controlsDown, ...this.controlsPrev, ...this.controlsNext].forEach(e => {\n      e.classList.remove(\"enabled\", \"fragmented\"), e.setAttribute(\"disabled\", \"disabled\");\n    }), e.left && this.controlsLeft.forEach(e => {\n      e.classList.add(\"enabled\"), e.removeAttribute(\"disabled\");\n    }), e.right && this.controlsRight.forEach(e => {\n      e.classList.add(\"enabled\"), e.removeAttribute(\"disabled\");\n    }), e.up && this.controlsUp.forEach(e => {\n      e.classList.add(\"enabled\"), e.removeAttribute(\"disabled\");\n    }), e.down && this.controlsDown.forEach(e => {\n      e.classList.add(\"enabled\"), e.removeAttribute(\"disabled\");\n    }), (e.left || e.up) && this.controlsPrev.forEach(e => {\n      e.classList.add(\"enabled\"), e.removeAttribute(\"disabled\");\n    }), (e.right || e.down) && this.controlsNext.forEach(e => {\n      e.classList.add(\"enabled\"), e.removeAttribute(\"disabled\");\n    });\n    let t = this.Reveal.getCurrentSlide();\n    if (t) {\n      let e = this.Reveal.fragments.availableRoutes();\n      e.prev && this.controlsPrev.forEach(e => {\n        e.classList.add(\"fragmented\", \"enabled\"), e.removeAttribute(\"disabled\");\n      }), e.next && this.controlsNext.forEach(e => {\n        e.classList.add(\"fragmented\", \"enabled\"), e.removeAttribute(\"disabled\");\n      }), this.Reveal.isVerticalSlide(t) ? (e.prev && this.controlsUp.forEach(e => {\n        e.classList.add(\"fragmented\", \"enabled\"), e.removeAttribute(\"disabled\");\n      }), e.next && this.controlsDown.forEach(e => {\n        e.classList.add(\"fragmented\", \"enabled\"), e.removeAttribute(\"disabled\");\n      })) : (e.prev && this.controlsLeft.forEach(e => {\n        e.classList.add(\"fragmented\", \"enabled\"), e.removeAttribute(\"disabled\");\n      }), e.next && this.controlsRight.forEach(e => {\n        e.classList.add(\"fragmented\", \"enabled\"), e.removeAttribute(\"disabled\");\n      }));\n    }\n    if (this.Reveal.getConfig().controlsTutorial) {\n      let t = this.Reveal.getIndices();\n      !this.Reveal.hasNavigatedVertically() && e.down ? this.controlsDownArrow.classList.add(\"highlight\") : (this.controlsDownArrow.classList.remove(\"highlight\"), this.Reveal.getConfig().rtl ? !this.Reveal.hasNavigatedHorizontally() && e.left && 0 === t.v ? this.controlsLeftArrow.classList.add(\"highlight\") : this.controlsLeftArrow.classList.remove(\"highlight\") : !this.Reveal.hasNavigatedHorizontally() && e.right && 0 === t.v ? this.controlsRightArrow.classList.add(\"highlight\") : this.controlsRightArrow.classList.remove(\"highlight\"));\n    }\n  }\n  destroy() {\n    this.unbind(), this.element.remove();\n  }\n  onNavigateLeftClicked(e) {\n    e.preventDefault(), this.Reveal.onUserInput(), \"linear\" === this.Reveal.getConfig().navigationMode ? this.Reveal.prev() : this.Reveal.left();\n  }\n  onNavigateRightClicked(e) {\n    e.preventDefault(), this.Reveal.onUserInput(), \"linear\" === this.Reveal.getConfig().navigationMode ? this.Reveal.next() : this.Reveal.right();\n  }\n  onNavigateUpClicked(e) {\n    e.preventDefault(), this.Reveal.onUserInput(), this.Reveal.up();\n  }\n  onNavigateDownClicked(e) {\n    e.preventDefault(), this.Reveal.onUserInput(), this.Reveal.down();\n  }\n  onNavigatePrevClicked(e) {\n    e.preventDefault(), this.Reveal.onUserInput(), this.Reveal.prev();\n  }\n  onNavigateNextClicked(e) {\n    e.preventDefault(), this.Reveal.onUserInput(), this.Reveal.next();\n  }\n}\nclass I {\n  constructor(e) {\n    this.Reveal = e, this.onProgressClicked = this.onProgressClicked.bind(this);\n  }\n  render() {\n    this.element = document.createElement(\"div\"), this.element.className = \"progress\", this.Reveal.getRevealElement().appendChild(this.element), this.bar = document.createElement(\"span\"), this.element.appendChild(this.bar);\n  }\n  configure(e, t) {\n    this.element.style.display = e.progress ? \"block\" : \"none\";\n  }\n  bind() {\n    this.Reveal.getConfig().progress && this.element && this.element.addEventListener(\"click\", this.onProgressClicked, !1);\n  }\n  unbind() {\n    this.Reveal.getConfig().progress && this.element && this.element.removeEventListener(\"click\", this.onProgressClicked, !1);\n  }\n  update() {\n    if (this.Reveal.getConfig().progress && this.bar) {\n      let e = this.Reveal.getProgress();\n      this.Reveal.getTotalSlides() < 2 && (e = 0), this.bar.style.transform = \"scaleX(\" + e + \")\";\n    }\n  }\n  getMaxWidth() {\n    return this.Reveal.getRevealElement().offsetWidth;\n  }\n  onProgressClicked(e) {\n    this.Reveal.onUserInput(e), e.preventDefault();\n    let t = this.Reveal.getSlides(),\n      i = t.length,\n      s = Math.floor(e.clientX / this.getMaxWidth() * i);\n    this.Reveal.getConfig().rtl && (s = i - s);\n    let a = this.Reveal.getIndices(t[s]);\n    this.Reveal.slide(a.h, a.v);\n  }\n  destroy() {\n    this.element.remove();\n  }\n}\nclass B {\n  constructor(e) {\n    this.Reveal = e, this.lastMouseWheelStep = 0, this.cursorHidden = !1, this.cursorInactiveTimeout = 0, this.onDocumentCursorActive = this.onDocumentCursorActive.bind(this), this.onDocumentMouseScroll = this.onDocumentMouseScroll.bind(this);\n  }\n  configure(e, t) {\n    e.mouseWheel ? document.addEventListener(\"wheel\", this.onDocumentMouseScroll, !1) : document.removeEventListener(\"wheel\", this.onDocumentMouseScroll, !1), e.hideInactiveCursor ? (document.addEventListener(\"mousemove\", this.onDocumentCursorActive, !1), document.addEventListener(\"mousedown\", this.onDocumentCursorActive, !1)) : (this.showCursor(), document.removeEventListener(\"mousemove\", this.onDocumentCursorActive, !1), document.removeEventListener(\"mousedown\", this.onDocumentCursorActive, !1));\n  }\n  showCursor() {\n    this.cursorHidden && (this.cursorHidden = !1, this.Reveal.getRevealElement().style.cursor = \"\");\n  }\n  hideCursor() {\n    !1 === this.cursorHidden && (this.cursorHidden = !0, this.Reveal.getRevealElement().style.cursor = \"none\");\n  }\n  destroy() {\n    this.showCursor(), document.removeEventListener(\"wheel\", this.onDocumentMouseScroll, !1), document.removeEventListener(\"mousemove\", this.onDocumentCursorActive, !1), document.removeEventListener(\"mousedown\", this.onDocumentCursorActive, !1);\n  }\n  onDocumentCursorActive(e) {\n    this.showCursor(), clearTimeout(this.cursorInactiveTimeout), this.cursorInactiveTimeout = setTimeout(this.hideCursor.bind(this), this.Reveal.getConfig().hideCursorTime);\n  }\n  onDocumentMouseScroll(e) {\n    if (Date.now() - this.lastMouseWheelStep > 1e3) {\n      this.lastMouseWheelStep = Date.now();\n      let t = e.detail || -e.wheelDelta;\n      t > 0 ? this.Reveal.next() : t < 0 && this.Reveal.prev();\n    }\n  }\n}\nconst H = (e, t) => {\n  const i = document.createElement(\"script\");\n  i.type = \"text/javascript\", i.async = !1, i.defer = !1, i.src = e, \"function\" == typeof t && (i.onload = i.onreadystatechange = e => {\n    (\"load\" === e.type || /loaded|complete/.test(i.readyState)) && (i.onload = i.onreadystatechange = i.onerror = null, t());\n  }, i.onerror = e => {\n    i.onload = i.onreadystatechange = i.onerror = null, t(new Error(\"Failed loading script: \" + i.src + \"\\n\" + e));\n  });\n  const s = document.querySelector(\"head\");\n  s.insertBefore(i, s.lastChild);\n};\nclass D {\n  constructor(e) {\n    this.Reveal = e, this.state = \"idle\", this.registeredPlugins = {}, this.asyncDependencies = [];\n  }\n  load(e, t) {\n    return this.state = \"loading\", e.forEach(this.registerPlugin.bind(this)), new Promise(e => {\n      let i = [],\n        s = 0;\n      if (t.forEach(e => {\n        e.condition && !e.condition() || (e.async ? this.asyncDependencies.push(e) : i.push(e));\n      }), i.length) {\n        s = i.length;\n        const t = t => {\n          t && \"function\" == typeof t.callback && t.callback(), 0 == --s && this.initPlugins().then(e);\n        };\n        i.forEach(e => {\n          \"string\" == typeof e.id ? (this.registerPlugin(e), t(e)) : \"string\" == typeof e.src ? H(e.src, () => t(e)) : (console.warn(\"Unrecognized plugin format\", e), t());\n        });\n      } else this.initPlugins().then(e);\n    });\n  }\n  initPlugins() {\n    return new Promise(e => {\n      let t = Object.values(this.registeredPlugins),\n        i = t.length;\n      if (0 === i) this.loadAsync().then(e);else {\n        let s,\n          a = () => {\n            0 == --i ? this.loadAsync().then(e) : s();\n          },\n          n = 0;\n        s = () => {\n          let e = t[n++];\n          if (\"function\" == typeof e.init) {\n            let t = e.init(this.Reveal);\n            t && \"function\" == typeof t.then ? t.then(a) : a();\n          } else a();\n        }, s();\n      }\n    });\n  }\n  loadAsync() {\n    return this.state = \"loaded\", this.asyncDependencies.length && this.asyncDependencies.forEach(e => {\n      H(e.src, e.callback);\n    }), Promise.resolve();\n  }\n  registerPlugin(e) {\n    2 === arguments.length && \"string\" == typeof arguments[0] ? (e = arguments[1]).id = arguments[0] : \"function\" == typeof e && (e = e());\n    let t = e.id;\n    \"string\" != typeof t ? console.warn(\"Unrecognized plugin format; can't find plugin.id\", e) : void 0 === this.registeredPlugins[t] ? (this.registeredPlugins[t] = e, \"loaded\" === this.state && \"function\" == typeof e.init && e.init(this.Reveal)) : console.warn('reveal.js: \"' + t + '\" plugin has already been registered');\n  }\n  hasPlugin(e) {\n    return !!this.registeredPlugins[e];\n  }\n  getPlugin(e) {\n    return this.registeredPlugins[e];\n  }\n  getRegisteredPlugins() {\n    return this.registeredPlugins;\n  }\n  destroy() {\n    Object.values(this.registeredPlugins).forEach(e => {\n      \"function\" == typeof e.destroy && e.destroy();\n    }), this.registeredPlugins = {}, this.asyncDependencies = [];\n  }\n}\nclass F {\n  constructor(e) {\n    this.Reveal = e, this.touchStartX = 0, this.touchStartY = 0, this.touchStartCount = 0, this.touchCaptured = !1, this.onPointerDown = this.onPointerDown.bind(this), this.onPointerMove = this.onPointerMove.bind(this), this.onPointerUp = this.onPointerUp.bind(this), this.onTouchStart = this.onTouchStart.bind(this), this.onTouchMove = this.onTouchMove.bind(this), this.onTouchEnd = this.onTouchEnd.bind(this);\n  }\n  bind() {\n    let e = this.Reveal.getRevealElement();\n    \"onpointerdown\" in window ? (e.addEventListener(\"pointerdown\", this.onPointerDown, !1), e.addEventListener(\"pointermove\", this.onPointerMove, !1), e.addEventListener(\"pointerup\", this.onPointerUp, !1)) : window.navigator.msPointerEnabled ? (e.addEventListener(\"MSPointerDown\", this.onPointerDown, !1), e.addEventListener(\"MSPointerMove\", this.onPointerMove, !1), e.addEventListener(\"MSPointerUp\", this.onPointerUp, !1)) : (e.addEventListener(\"touchstart\", this.onTouchStart, !1), e.addEventListener(\"touchmove\", this.onTouchMove, !1), e.addEventListener(\"touchend\", this.onTouchEnd, !1));\n  }\n  unbind() {\n    let e = this.Reveal.getRevealElement();\n    e.removeEventListener(\"pointerdown\", this.onPointerDown, !1), e.removeEventListener(\"pointermove\", this.onPointerMove, !1), e.removeEventListener(\"pointerup\", this.onPointerUp, !1), e.removeEventListener(\"MSPointerDown\", this.onPointerDown, !1), e.removeEventListener(\"MSPointerMove\", this.onPointerMove, !1), e.removeEventListener(\"MSPointerUp\", this.onPointerUp, !1), e.removeEventListener(\"touchstart\", this.onTouchStart, !1), e.removeEventListener(\"touchmove\", this.onTouchMove, !1), e.removeEventListener(\"touchend\", this.onTouchEnd, !1);\n  }\n  isSwipePrevented(e) {\n    if (n(e, \"video, audio\")) return !0;\n    for (; e && \"function\" == typeof e.hasAttribute;) {\n      if (e.hasAttribute(\"data-prevent-swipe\")) return !0;\n      e = e.parentNode;\n    }\n    return !1;\n  }\n  onTouchStart(e) {\n    if (this.isSwipePrevented(e.target)) return !0;\n    this.touchStartX = e.touches[0].clientX, this.touchStartY = e.touches[0].clientY, this.touchStartCount = e.touches.length;\n  }\n  onTouchMove(e) {\n    if (this.isSwipePrevented(e.target)) return !0;\n    let t = this.Reveal.getConfig();\n    if (this.touchCaptured) u && e.preventDefault();else {\n      this.Reveal.onUserInput(e);\n      let i = e.touches[0].clientX,\n        s = e.touches[0].clientY;\n      if (1 === e.touches.length && 2 !== this.touchStartCount) {\n        let a = this.Reveal.availableRoutes({\n            includeFragments: !0\n          }),\n          n = i - this.touchStartX,\n          r = s - this.touchStartY;\n        n > 40 && Math.abs(n) > Math.abs(r) ? (this.touchCaptured = !0, \"linear\" === t.navigationMode ? t.rtl ? this.Reveal.next() : this.Reveal.prev() : this.Reveal.left()) : n < -40 && Math.abs(n) > Math.abs(r) ? (this.touchCaptured = !0, \"linear\" === t.navigationMode ? t.rtl ? this.Reveal.prev() : this.Reveal.next() : this.Reveal.right()) : r > 40 && a.up ? (this.touchCaptured = !0, \"linear\" === t.navigationMode ? this.Reveal.prev() : this.Reveal.up()) : r < -40 && a.down && (this.touchCaptured = !0, \"linear\" === t.navigationMode ? this.Reveal.next() : this.Reveal.down()), t.embedded ? (this.touchCaptured || this.Reveal.isVerticalSlide()) && e.preventDefault() : e.preventDefault();\n      }\n    }\n  }\n  onTouchEnd(e) {\n    this.touchCaptured = !1;\n  }\n  onPointerDown(e) {\n    e.pointerType !== e.MSPOINTER_TYPE_TOUCH && \"touch\" !== e.pointerType || (e.touches = [{\n      clientX: e.clientX,\n      clientY: e.clientY\n    }], this.onTouchStart(e));\n  }\n  onPointerMove(e) {\n    e.pointerType !== e.MSPOINTER_TYPE_TOUCH && \"touch\" !== e.pointerType || (e.touches = [{\n      clientX: e.clientX,\n      clientY: e.clientY\n    }], this.onTouchMove(e));\n  }\n  onPointerUp(e) {\n    e.pointerType !== e.MSPOINTER_TYPE_TOUCH && \"touch\" !== e.pointerType || (e.touches = [{\n      clientX: e.clientX,\n      clientY: e.clientY\n    }], this.onTouchEnd(e));\n  }\n}\nconst z = \"focus\",\n  q = \"blur\";\nclass O {\n  constructor(e) {\n    this.Reveal = e, this.onRevealPointerDown = this.onRevealPointerDown.bind(this), this.onDocumentPointerDown = this.onDocumentPointerDown.bind(this);\n  }\n  configure(e, t) {\n    e.embedded ? this.blur() : (this.focus(), this.unbind());\n  }\n  bind() {\n    this.Reveal.getConfig().embedded && this.Reveal.getRevealElement().addEventListener(\"pointerdown\", this.onRevealPointerDown, !1);\n  }\n  unbind() {\n    this.Reveal.getRevealElement().removeEventListener(\"pointerdown\", this.onRevealPointerDown, !1), document.removeEventListener(\"pointerdown\", this.onDocumentPointerDown, !1);\n  }\n  focus() {\n    this.state !== z && (this.Reveal.getRevealElement().classList.add(\"focused\"), document.addEventListener(\"pointerdown\", this.onDocumentPointerDown, !1)), this.state = z;\n  }\n  blur() {\n    this.state !== q && (this.Reveal.getRevealElement().classList.remove(\"focused\"), document.removeEventListener(\"pointerdown\", this.onDocumentPointerDown, !1)), this.state = q;\n  }\n  isFocused() {\n    return this.state === z;\n  }\n  destroy() {\n    this.Reveal.getRevealElement().classList.remove(\"focused\");\n  }\n  onRevealPointerDown(e) {\n    this.focus();\n  }\n  onDocumentPointerDown(e) {\n    let t = r(e.target, \".reveal\");\n    t && t === this.Reveal.getRevealElement() || this.blur();\n  }\n}\nclass W {\n  constructor(e) {\n    this.Reveal = e;\n  }\n  render() {\n    this.element = document.createElement(\"div\"), this.element.className = \"speaker-notes\", this.element.setAttribute(\"data-prevent-swipe\", \"\"), this.element.setAttribute(\"tabindex\", \"0\"), this.Reveal.getRevealElement().appendChild(this.element);\n  }\n  configure(e, t) {\n    e.showNotes && this.element.setAttribute(\"data-layout\", \"string\" == typeof e.showNotes ? e.showNotes : \"inline\");\n  }\n  update() {\n    this.Reveal.getConfig().showNotes && this.element && this.Reveal.getCurrentSlide() && !this.Reveal.isScrollView() && !this.Reveal.isPrintView() && (this.element.innerHTML = this.getSlideNotes() || '<span class=\"notes-placeholder\">No notes on this slide.</span>');\n  }\n  updateVisibility() {\n    this.Reveal.getConfig().showNotes && this.hasNotes() && !this.Reveal.isScrollView() && !this.Reveal.isPrintView() ? this.Reveal.getRevealElement().classList.add(\"show-notes\") : this.Reveal.getRevealElement().classList.remove(\"show-notes\");\n  }\n  hasNotes() {\n    return this.Reveal.getSlidesElement().querySelectorAll(\"[data-notes], aside.notes\").length > 0;\n  }\n  isSpeakerNotesWindow() {\n    return !!window.location.search.match(/receiver/gi);\n  }\n  getSlideNotes(e = this.Reveal.getCurrentSlide()) {\n    if (e.hasAttribute(\"data-notes\")) return e.getAttribute(\"data-notes\");\n    let t = e.querySelectorAll(\"aside.notes\");\n    return t ? Array.from(t).map(e => e.innerHTML).join(\"\\n\") : null;\n  }\n  destroy() {\n    this.element.remove();\n  }\n}\nclass U {\n  constructor(e, t) {\n    this.diameter = 100, this.diameter2 = this.diameter / 2, this.thickness = 6, this.playing = !1, this.progress = 0, this.progressOffset = 1, this.container = e, this.progressCheck = t, this.canvas = document.createElement(\"canvas\"), this.canvas.className = \"playback\", this.canvas.width = this.diameter, this.canvas.height = this.diameter, this.canvas.style.width = this.diameter2 + \"px\", this.canvas.style.height = this.diameter2 + \"px\", this.context = this.canvas.getContext(\"2d\"), this.container.appendChild(this.canvas), this.render();\n  }\n  setPlaying(e) {\n    const t = this.playing;\n    this.playing = e, !t && this.playing ? this.animate() : this.render();\n  }\n  animate() {\n    const e = this.progress;\n    this.progress = this.progressCheck(), e > .8 && this.progress < .2 && (this.progressOffset = this.progress), this.render(), this.playing && requestAnimationFrame(this.animate.bind(this));\n  }\n  render() {\n    let e = this.playing ? this.progress : 0,\n      t = this.diameter2 - this.thickness,\n      i = this.diameter2,\n      s = this.diameter2,\n      a = 28;\n    this.progressOffset += .1 * (1 - this.progressOffset);\n    const n = -Math.PI / 2 + e * (2 * Math.PI),\n      r = -Math.PI / 2 + this.progressOffset * (2 * Math.PI);\n    this.context.save(), this.context.clearRect(0, 0, this.diameter, this.diameter), this.context.beginPath(), this.context.arc(i, s, t + 4, 0, 2 * Math.PI, !1), this.context.fillStyle = \"rgba( 0, 0, 0, 0.4 )\", this.context.fill(), this.context.beginPath(), this.context.arc(i, s, t, 0, 2 * Math.PI, !1), this.context.lineWidth = this.thickness, this.context.strokeStyle = \"rgba( 255, 255, 255, 0.2 )\", this.context.stroke(), this.playing && (this.context.beginPath(), this.context.arc(i, s, t, r, n, !1), this.context.lineWidth = this.thickness, this.context.strokeStyle = \"#fff\", this.context.stroke()), this.context.translate(i - 14, s - 14), this.playing ? (this.context.fillStyle = \"#fff\", this.context.fillRect(0, 0, 10, a), this.context.fillRect(18, 0, 10, a)) : (this.context.beginPath(), this.context.translate(4, 0), this.context.moveTo(0, 0), this.context.lineTo(24, 14), this.context.lineTo(0, a), this.context.fillStyle = \"#fff\", this.context.fill()), this.context.restore();\n  }\n  on(e, t) {\n    this.canvas.addEventListener(e, t, !1);\n  }\n  off(e, t) {\n    this.canvas.removeEventListener(e, t, !1);\n  }\n  destroy() {\n    this.playing = !1, this.canvas.parentNode && this.container.removeChild(this.canvas);\n  }\n}\nvar V = {\n  width: 960,\n  height: 700,\n  margin: .04,\n  minScale: .2,\n  maxScale: 2,\n  controls: !0,\n  controlsTutorial: !0,\n  controlsLayout: \"bottom-right\",\n  controlsBackArrows: \"faded\",\n  progress: !0,\n  slideNumber: !1,\n  showSlideNumber: \"all\",\n  hashOneBasedIndex: !1,\n  hash: !1,\n  respondToHashChanges: !0,\n  jumpToSlide: !0,\n  history: !1,\n  keyboard: !0,\n  keyboardCondition: null,\n  disableLayout: !1,\n  overview: !0,\n  center: !0,\n  touch: !0,\n  loop: !1,\n  rtl: !1,\n  navigationMode: \"default\",\n  shuffle: !1,\n  fragments: !0,\n  fragmentInURL: !0,\n  embedded: !1,\n  help: !0,\n  pause: !0,\n  showNotes: !1,\n  showHiddenSlides: !1,\n  autoPlayMedia: null,\n  preloadIframes: null,\n  autoAnimate: !0,\n  autoAnimateMatcher: null,\n  autoAnimateEasing: \"ease\",\n  autoAnimateDuration: 1,\n  autoAnimateUnmatched: !0,\n  autoAnimateStyles: [\"opacity\", \"color\", \"background-color\", \"padding\", \"font-size\", \"line-height\", \"letter-spacing\", \"border-width\", \"border-color\", \"border-radius\", \"outline\", \"outline-offset\"],\n  autoSlide: 0,\n  autoSlideStoppable: !0,\n  autoSlideMethod: null,\n  defaultTiming: null,\n  mouseWheel: !1,\n  previewLinks: !1,\n  postMessage: !0,\n  postMessageEvents: !1,\n  focusBodyOnPageVisibilityChange: !0,\n  transition: \"slide\",\n  transitionSpeed: \"default\",\n  backgroundTransition: \"fade\",\n  parallaxBackgroundImage: \"\",\n  parallaxBackgroundSize: \"\",\n  parallaxBackgroundRepeat: \"\",\n  parallaxBackgroundPosition: \"\",\n  parallaxBackgroundHorizontal: null,\n  parallaxBackgroundVertical: null,\n  view: null,\n  scrollLayout: \"full\",\n  scrollSnap: \"mandatory\",\n  scrollProgress: \"auto\",\n  scrollActivationWidth: 435,\n  pdfMaxPagesPerSlide: Number.POSITIVE_INFINITY,\n  pdfSeparateFragments: !0,\n  pdfPageHeightOffset: -1,\n  viewDistance: 3,\n  mobileViewDistance: 2,\n  display: \"block\",\n  hideInactiveCursor: !0,\n  hideCursorTime: 5e3,\n  sortFragmentsOnSync: !0,\n  dependencies: [],\n  plugins: []\n};\nconst j = \"5.0.1\";\nfunction K(n, o) {\n  arguments.length < 2 && (o = arguments[0], n = document.querySelector(\".reveal\"));\n  const d = {};\n  let c,\n    u,\n    g,\n    b,\n    S,\n    R = {},\n    H = !1,\n    z = {\n      hasNavigatedHorizontally: !1,\n      hasNavigatedVertically: !1\n    },\n    q = [],\n    K = 1,\n    $ = {\n      layout: \"\",\n      overview: \"\"\n    },\n    X = {},\n    Y = \"idle\",\n    _ = 0,\n    J = 0,\n    G = -1,\n    Q = !1,\n    Z = new p(d),\n    ee = new w(d),\n    te = new E(d),\n    ie = new k(d),\n    se = new A(d),\n    ae = new L(d),\n    ne = new C(d),\n    re = new x(d),\n    oe = new P(d),\n    le = new T(d),\n    de = new N(d),\n    ce = new M(d),\n    he = new I(d),\n    ue = new B(d),\n    ge = new D(d),\n    pe = new O(d),\n    ve = new F(d),\n    me = new W(d);\n  function fe() {\n    H = !0, R.showHiddenSlides || t(X.wrapper, 'section[data-visibility=\"hidden\"]').forEach(e => {\n      const t = e.parentNode;\n      1 === t.childElementCount && /section/i.test(t.nodeName) ? t.remove() : e.remove();\n    }), function () {\n      X.slides.classList.add(\"no-transition\"), h ? X.wrapper.classList.add(\"no-hover\") : X.wrapper.classList.remove(\"no-hover\");\n      se.render(), ee.render(), te.render(), ce.render(), he.render(), me.render(), X.pauseOverlay = ((e, t, i, s = \"\") => {\n        let a = e.querySelectorAll(\".\" + i);\n        for (let t = 0; t < a.length; t++) {\n          let i = a[t];\n          if (i.parentNode === e) return i;\n        }\n        let n = document.createElement(t);\n        return n.className = i, n.innerHTML = s, e.appendChild(n), n;\n      })(X.wrapper, \"div\", \"pause-overlay\", R.controls ? '<button class=\"resume-button\">Resume presentation</button>' : null), X.statusElement = function () {\n        let e = X.wrapper.querySelector(\".aria-status\");\n        e || (e = document.createElement(\"div\"), e.style.position = \"absolute\", e.style.height = \"1px\", e.style.width = \"1px\", e.style.overflow = \"hidden\", e.style.clip = \"rect( 1px, 1px, 1px, 1px )\", e.classList.add(\"aria-status\"), e.setAttribute(\"aria-live\", \"polite\"), e.setAttribute(\"aria-atomic\", \"true\"), X.wrapper.appendChild(e));\n        return e;\n      }(), X.wrapper.setAttribute(\"role\", \"application\");\n    }(), R.postMessage && window.addEventListener(\"message\", St, !1), setInterval(() => {\n      (!ae.isActive() && 0 !== X.wrapper.scrollTop || 0 !== X.wrapper.scrollLeft) && (X.wrapper.scrollTop = 0, X.wrapper.scrollLeft = 0);\n    }, 1e3), document.addEventListener(\"fullscreenchange\", Ct), document.addEventListener(\"webkitfullscreenchange\", Ct), nt().forEach(e => {\n      t(e, \"section\").forEach((e, t) => {\n        t > 0 && (e.classList.remove(\"present\"), e.classList.remove(\"past\"), e.classList.add(\"future\"), e.setAttribute(\"aria-hidden\", \"true\"));\n      });\n    }), we(), se.update(!0), function () {\n      const e = \"print\" === R.view,\n        t = \"scroll\" === R.view || \"reader\" === R.view;\n      (e || t) && (e ? Se() : ve.unbind(), X.viewport.classList.add(\"loading-scroll-mode\"), e ? \"complete\" === document.readyState ? ne.activate() : window.addEventListener(\"load\", () => ne.activate()) : ae.activate());\n    }(), de.readURL(), setTimeout(() => {\n      X.slides.classList.remove(\"no-transition\"), X.wrapper.classList.add(\"ready\"), Le({\n        type: \"ready\",\n        data: {\n          indexh: c,\n          indexv: u,\n          currentSlide: b\n        }\n      });\n    }, 1);\n  }\n  function ye(e) {\n    X.statusElement.textContent = e;\n  }\n  function be(e) {\n    let t = \"\";\n    if (3 === e.nodeType) t += e.textContent;else if (1 === e.nodeType) {\n      let i = e.getAttribute(\"aria-hidden\"),\n        s = \"none\" === window.getComputedStyle(e).display;\n      \"true\" === i || s || Array.from(e.childNodes).forEach(e => {\n        t += be(e);\n      });\n    }\n    return t = t.trim(), \"\" === t ? \"\" : t + \" \";\n  }\n  function we(t) {\n    const s = {\n      ...R\n    };\n    if (\"object\" == typeof t && e(R, t), !1 === d.isReady()) return;\n    const a = X.wrapper.querySelectorAll(v).length;\n    X.wrapper.classList.remove(s.transition), X.wrapper.classList.add(R.transition), X.wrapper.setAttribute(\"data-transition-speed\", R.transitionSpeed), X.wrapper.setAttribute(\"data-background-transition\", R.backgroundTransition), X.viewport.style.setProperty(\"--slide-width\", \"string\" == typeof R.width ? R.width : R.width + \"px\"), X.viewport.style.setProperty(\"--slide-height\", \"string\" == typeof R.height ? R.height : R.height + \"px\"), R.shuffle && Je(), i(X.wrapper, \"embedded\", R.embedded), i(X.wrapper, \"rtl\", R.rtl), i(X.wrapper, \"center\", R.center), !1 === R.pause && je(), R.previewLinks ? (Pe(), Te(\"[data-preview-link=false]\")) : (Te(), Pe(\"[data-preview-link]:not([data-preview-link=false])\")), ie.reset(), S && (S.destroy(), S = null), a > 1 && R.autoSlide && R.autoSlideStoppable && (S = new U(X.wrapper, () => Math.min(Math.max((Date.now() - G) / _, 0), 1)), S.on(\"click\", Pt), Q = !1), \"default\" !== R.navigationMode ? X.wrapper.setAttribute(\"data-navigation-mode\", R.navigationMode) : X.wrapper.removeAttribute(\"data-navigation-mode\"), me.configure(R, s), pe.configure(R, s), ue.configure(R, s), ce.configure(R, s), he.configure(R, s), le.configure(R, s), re.configure(R, s), ee.configure(R, s), _e();\n  }\n  function Ee() {\n    window.addEventListener(\"resize\", kt, !1), R.touch && ve.bind(), R.keyboard && le.bind(), R.progress && he.bind(), R.respondToHashChanges && de.bind(), ce.bind(), pe.bind(), X.slides.addEventListener(\"click\", Rt, !1), X.slides.addEventListener(\"transitionend\", At, !1), X.pauseOverlay.addEventListener(\"click\", je, !1), R.focusBodyOnPageVisibilityChange && document.addEventListener(\"visibilitychange\", Lt, !1);\n  }\n  function Se() {\n    ve.unbind(), pe.unbind(), le.unbind(), ce.unbind(), he.unbind(), de.unbind(), window.removeEventListener(\"resize\", kt, !1), X.slides.removeEventListener(\"click\", Rt, !1), X.slides.removeEventListener(\"transitionend\", At, !1), X.pauseOverlay.removeEventListener(\"click\", je, !1);\n  }\n  function Ae(e, t, i) {\n    n.addEventListener(e, t, i);\n  }\n  function Re(e, t, i) {\n    n.removeEventListener(e, t, i);\n  }\n  function ke(e) {\n    \"string\" == typeof e.layout && ($.layout = e.layout), \"string\" == typeof e.overview && ($.overview = e.overview), $.layout ? a(X.slides, $.layout + \" \" + $.overview) : a(X.slides, $.overview);\n  }\n  function Le({\n    target: t = X.wrapper,\n    type: i,\n    data: s,\n    bubbles: a = !0\n  }) {\n    let n = document.createEvent(\"HTMLEvents\", 1, 2);\n    return n.initEvent(i, a, !0), e(n, s), t.dispatchEvent(n), t === X.wrapper && xe(i), n;\n  }\n  function Ce(e) {\n    Le({\n      type: \"slidechanged\",\n      data: {\n        indexh: c,\n        indexv: u,\n        previousSlide: g,\n        currentSlide: b,\n        origin: e\n      }\n    });\n  }\n  function xe(t, i) {\n    if (R.postMessageEvents && window.parent !== window.self) {\n      let s = {\n        namespace: \"reveal\",\n        eventName: t,\n        state: ht()\n      };\n      e(s, i), window.parent.postMessage(JSON.stringify(s), \"*\");\n    }\n  }\n  function Pe(e = \"a\") {\n    Array.from(X.wrapper.querySelectorAll(e)).forEach(e => {\n      /^(http|www)/gi.test(e.getAttribute(\"href\")) && e.addEventListener(\"click\", xt, !1);\n    });\n  }\n  function Te(e = \"a\") {\n    Array.from(X.wrapper.querySelectorAll(e)).forEach(e => {\n      /^(http|www)/gi.test(e.getAttribute(\"href\")) && e.removeEventListener(\"click\", xt, !1);\n    });\n  }\n  function Ne(e) {\n    Ie(), X.overlay = document.createElement(\"div\"), X.overlay.classList.add(\"overlay\"), X.overlay.classList.add(\"overlay-preview\"), X.wrapper.appendChild(X.overlay), X.overlay.innerHTML = `<header>\\n\\t\\t\\t\\t<a class=\"close\" href=\"#\"><span class=\"icon\"></span></a>\\n\\t\\t\\t\\t<a class=\"external\" href=\"${e}\" target=\"_blank\"><span class=\"icon\"></span></a>\\n\\t\\t\\t</header>\\n\\t\\t\\t<div class=\"spinner\"></div>\\n\\t\\t\\t<div class=\"viewport\">\\n\\t\\t\\t\\t<iframe src=\"${e}\"></iframe>\\n\\t\\t\\t\\t<small class=\"viewport-inner\">\\n\\t\\t\\t\\t\\t<span class=\"x-frame-error\">Unable to load iframe. This is likely due to the site's policy (x-frame-options).</span>\\n\\t\\t\\t\\t</small>\\n\\t\\t\\t</div>`, X.overlay.querySelector(\"iframe\").addEventListener(\"load\", e => {\n      X.overlay.classList.add(\"loaded\");\n    }, !1), X.overlay.querySelector(\".close\").addEventListener(\"click\", e => {\n      Ie(), e.preventDefault();\n    }, !1), X.overlay.querySelector(\".external\").addEventListener(\"click\", e => {\n      Ie();\n    }, !1);\n  }\n  function Me() {\n    if (R.help) {\n      Ie(), X.overlay = document.createElement(\"div\"), X.overlay.classList.add(\"overlay\"), X.overlay.classList.add(\"overlay-help\"), X.wrapper.appendChild(X.overlay);\n      let e = '<p class=\"title\">Keyboard Shortcuts</p><br/>',\n        t = le.getShortcuts(),\n        i = le.getBindings();\n      e += \"<table><th>KEY</th><th>ACTION</th>\";\n      for (let i in t) e += `<tr><td>${i}</td><td>${t[i]}</td></tr>`;\n      for (let t in i) i[t].key && i[t].description && (e += `<tr><td>${i[t].key}</td><td>${i[t].description}</td></tr>`);\n      e += \"</table>\", X.overlay.innerHTML = `\\n\\t\\t\\t\\t<header>\\n\\t\\t\\t\\t\\t<a class=\"close\" href=\"#\"><span class=\"icon\"></span></a>\\n\\t\\t\\t\\t</header>\\n\\t\\t\\t\\t<div class=\"viewport\">\\n\\t\\t\\t\\t\\t<div class=\"viewport-inner\">${e}</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t`, X.overlay.querySelector(\".close\").addEventListener(\"click\", e => {\n        Ie(), e.preventDefault();\n      }, !1);\n    }\n  }\n  function Ie() {\n    return !!X.overlay && (X.overlay.parentNode.removeChild(X.overlay), X.overlay = null, !0);\n  }\n  function Be() {\n    if (X.wrapper && !ne.isActive()) {\n      const e = X.viewport.offsetWidth,\n        t = X.viewport.offsetHeight;\n      if (!R.disableLayout) {\n        h && !R.embedded && document.documentElement.style.setProperty(\"--vh\", .01 * window.innerHeight + \"px\");\n        const i = ae.isActive() ? De(e, t) : De(),\n          s = K;\n        He(R.width, R.height), X.slides.style.width = i.width + \"px\", X.slides.style.height = i.height + \"px\", K = Math.min(i.presentationWidth / i.width, i.presentationHeight / i.height), K = Math.max(K, R.minScale), K = Math.min(K, R.maxScale), 1 === K || ae.isActive() ? (X.slides.style.zoom = \"\", X.slides.style.left = \"\", X.slides.style.top = \"\", X.slides.style.bottom = \"\", X.slides.style.right = \"\", ke({\n          layout: \"\"\n        })) : (X.slides.style.zoom = \"\", X.slides.style.left = \"50%\", X.slides.style.top = \"50%\", X.slides.style.bottom = \"auto\", X.slides.style.right = \"auto\", ke({\n          layout: \"translate(-50%, -50%) scale(\" + K + \")\"\n        }));\n        const a = Array.from(X.wrapper.querySelectorAll(v));\n        for (let e = 0, t = a.length; e < t; e++) {\n          const t = a[e];\n          \"none\" !== t.style.display && (R.center || t.classList.contains(\"center\") ? t.classList.contains(\"stack\") ? t.style.top = 0 : t.style.top = Math.max((i.height - t.scrollHeight) / 2, 0) + \"px\" : t.style.top = \"\");\n        }\n        s !== K && Le({\n          type: \"resize\",\n          data: {\n            oldScale: s,\n            scale: K,\n            size: i\n          }\n        });\n      }\n      !function () {\n        if (X.wrapper && !R.disableLayout && !ne.isActive() && \"number\" == typeof R.scrollActivationWidth && \"scroll\" !== R.view) {\n          const e = De();\n          e.presentationWidth > 0 && e.presentationWidth <= R.scrollActivationWidth ? ae.isActive() || (se.create(), ae.activate()) : ae.isActive() && ae.deactivate();\n        }\n      }(), X.viewport.style.setProperty(\"--slide-scale\", K), X.viewport.style.setProperty(\"--viewport-width\", e + \"px\"), X.viewport.style.setProperty(\"--viewport-height\", t + \"px\"), ae.layout(), he.update(), se.updateParallax(), oe.isActive() && oe.update();\n    }\n  }\n  function He(e, i) {\n    t(X.slides, \"section > .stretch, section > .r-stretch\").forEach(t => {\n      let s = ((e, t = 0) => {\n        if (e) {\n          let i,\n            s = e.style.height;\n          return e.style.height = \"0px\", e.parentNode.style.height = \"auto\", i = t - e.parentNode.offsetHeight, e.style.height = s + \"px\", e.parentNode.style.removeProperty(\"height\"), i;\n        }\n        return t;\n      })(t, i);\n      if (/(img|video)/gi.test(t.nodeName)) {\n        const i = t.naturalWidth || t.videoWidth,\n          a = t.naturalHeight || t.videoHeight,\n          n = Math.min(e / i, s / a);\n        t.style.width = i * n + \"px\", t.style.height = a * n + \"px\";\n      } else t.style.width = e + \"px\", t.style.height = s + \"px\";\n    });\n  }\n  function De(e, t) {\n    let i = R.width,\n      s = R.height;\n    R.disableLayout && (i = X.slides.offsetWidth, s = X.slides.offsetHeight);\n    const a = {\n      width: i,\n      height: s,\n      presentationWidth: e || X.wrapper.offsetWidth,\n      presentationHeight: t || X.wrapper.offsetHeight\n    };\n    return a.presentationWidth -= a.presentationWidth * R.margin, a.presentationHeight -= a.presentationHeight * R.margin, \"string\" == typeof a.width && /%$/.test(a.width) && (a.width = parseInt(a.width, 10) / 100 * a.presentationWidth), \"string\" == typeof a.height && /%$/.test(a.height) && (a.height = parseInt(a.height, 10) / 100 * a.presentationHeight), a;\n  }\n  function Fe(e, t) {\n    \"object\" == typeof e && \"function\" == typeof e.setAttribute && e.setAttribute(\"data-previous-indexv\", t || 0);\n  }\n  function ze(e) {\n    if (\"object\" == typeof e && \"function\" == typeof e.setAttribute && e.classList.contains(\"stack\")) {\n      const t = e.hasAttribute(\"data-start-indexv\") ? \"data-start-indexv\" : \"data-previous-indexv\";\n      return parseInt(e.getAttribute(t) || 0, 10);\n    }\n    return 0;\n  }\n  function qe(e = b) {\n    return e && e.parentNode && !!e.parentNode.nodeName.match(/section/i);\n  }\n  function Oe() {\n    return !(!b || !qe(b)) && !b.nextElementSibling;\n  }\n  function We() {\n    return 0 === c && 0 === u;\n  }\n  function Ue() {\n    return !!b && !b.nextElementSibling && (!qe(b) || !b.parentNode.nextElementSibling);\n  }\n  function Ve() {\n    if (R.pause) {\n      const e = X.wrapper.classList.contains(\"paused\");\n      gt(), X.wrapper.classList.add(\"paused\"), !1 === e && Le({\n        type: \"paused\"\n      });\n    }\n  }\n  function je() {\n    const e = X.wrapper.classList.contains(\"paused\");\n    X.wrapper.classList.remove(\"paused\"), ut(), e && Le({\n      type: \"resumed\"\n    });\n  }\n  function Ke(e) {\n    \"boolean\" == typeof e ? e ? Ve() : je() : $e() ? je() : Ve();\n  }\n  function $e() {\n    return X.wrapper.classList.contains(\"paused\");\n  }\n  function Xe(e, i, s, a) {\n    if (Le({\n      type: \"beforeslidechange\",\n      data: {\n        indexh: void 0 === e ? c : e,\n        indexv: void 0 === i ? u : i,\n        origin: a\n      }\n    }).defaultPrevented) return;\n    g = b;\n    const n = X.wrapper.querySelectorAll(m);\n    if (ae.isActive()) {\n      const t = ae.getSlideByIndices(e, i);\n      return void (t && ae.scrollToSlide(t));\n    }\n    if (0 === n.length) return;\n    void 0 !== i || oe.isActive() || (i = ze(n[e])), g && g.parentNode && g.parentNode.classList.contains(\"stack\") && Fe(g.parentNode, u);\n    const r = q.concat();\n    q.length = 0;\n    let o = c || 0,\n      l = u || 0;\n    c = Ge(m, void 0 === e ? c : e), u = Ge(f, void 0 === i ? u : i);\n    let d = c !== o || u !== l;\n    d || (g = null);\n    let h = n[c],\n      p = h.querySelectorAll(\"section\");\n    b = p[u] || h;\n    let v = !1;\n    d && g && b && !oe.isActive() && (Y = \"running\", v = Ye(g, b, o, l), v && X.slides.classList.add(\"disable-slide-transitions\")), et(), Be(), oe.isActive() && oe.update(), void 0 !== s && re.goto(s), g && g !== b && (g.classList.remove(\"present\"), g.setAttribute(\"aria-hidden\", \"true\"), We() && setTimeout(() => {\n      t(X.wrapper, m + \".stack\").forEach(e => {\n        Fe(e, 0);\n      });\n    }, 0));\n    e: for (let e = 0, t = q.length; e < t; e++) {\n      for (let t = 0; t < r.length; t++) if (r[t] === q[e]) {\n        r.splice(t, 1);\n        continue e;\n      }\n      X.viewport.classList.add(q[e]), Le({\n        type: q[e]\n      });\n    }\n    for (; r.length;) X.viewport.classList.remove(r.pop());\n    d && Ce(a), !d && g || (Z.stopEmbeddedContent(g), Z.startEmbeddedContent(b)), requestAnimationFrame(() => {\n      ye(be(b));\n    }), he.update(), ce.update(), me.update(), se.update(), se.updateParallax(), ee.update(), re.update(), de.writeURL(), ut(), v && (setTimeout(() => {\n      X.slides.classList.remove(\"disable-slide-transitions\");\n    }, 0), R.autoAnimate && ie.run(g, b));\n  }\n  function Ye(e, t, i, s) {\n    return e.hasAttribute(\"data-auto-animate\") && t.hasAttribute(\"data-auto-animate\") && e.getAttribute(\"data-auto-animate-id\") === t.getAttribute(\"data-auto-animate-id\") && !(c > i || u > s ? t : e).hasAttribute(\"data-auto-animate-restart\");\n  }\n  function _e() {\n    Se(), Ee(), Be(), _ = R.autoSlide, ut(), se.create(), de.writeURL(), !0 === R.sortFragmentsOnSync && re.sortAll(), ce.update(), he.update(), et(), me.update(), me.updateVisibility(), se.update(!0), ee.update(), Z.formatEmbeddedContent(), !1 === R.autoPlayMedia ? Z.stopEmbeddedContent(b, {\n      unloadIframes: !1\n    }) : Z.startEmbeddedContent(b), oe.isActive() && oe.layout();\n  }\n  function Je(e = nt()) {\n    e.forEach((t, i) => {\n      let s = e[Math.floor(Math.random() * e.length)];\n      s.parentNode === t.parentNode && t.parentNode.insertBefore(t, s);\n      let a = t.querySelectorAll(\"section\");\n      a.length && Je(a);\n    });\n  }\n  function Ge(e, i) {\n    let s = t(X.wrapper, e),\n      a = s.length,\n      n = ae.isActive() || ne.isActive(),\n      r = !1,\n      o = !1;\n    if (a) {\n      R.loop && (i >= a && (r = !0), (i %= a) < 0 && (i = a + i, o = !0)), i = Math.max(Math.min(i, a - 1), 0);\n      for (let e = 0; e < a; e++) {\n        let t = s[e],\n          a = R.rtl && !qe(t);\n        t.classList.remove(\"past\"), t.classList.remove(\"present\"), t.classList.remove(\"future\"), t.setAttribute(\"hidden\", \"\"), t.setAttribute(\"aria-hidden\", \"true\"), t.querySelector(\"section\") && t.classList.add(\"stack\"), n ? t.classList.add(\"present\") : e < i ? (t.classList.add(a ? \"future\" : \"past\"), R.fragments && Qe(t)) : e > i ? (t.classList.add(a ? \"past\" : \"future\"), R.fragments && Ze(t)) : e === i && R.fragments && (r ? Ze(t) : o && Qe(t));\n      }\n      let e = s[i],\n        t = e.classList.contains(\"present\");\n      e.classList.add(\"present\"), e.removeAttribute(\"hidden\"), e.removeAttribute(\"aria-hidden\"), t || Le({\n        target: e,\n        type: \"visible\",\n        bubbles: !1\n      });\n      let l = e.getAttribute(\"data-state\");\n      l && (q = q.concat(l.split(\" \")));\n    } else i = 0;\n    return i;\n  }\n  function Qe(e) {\n    t(e, \".fragment\").forEach(e => {\n      e.classList.add(\"visible\"), e.classList.remove(\"current-fragment\");\n    });\n  }\n  function Ze(e) {\n    t(e, \".fragment.visible\").forEach(e => {\n      e.classList.remove(\"visible\", \"current-fragment\");\n    });\n  }\n  function et() {\n    let e,\n      i,\n      s = nt(),\n      a = s.length;\n    if (a && void 0 !== c) {\n      let n = oe.isActive() ? 10 : R.viewDistance;\n      h && (n = oe.isActive() ? 6 : R.mobileViewDistance), ne.isActive() && (n = Number.MAX_VALUE);\n      for (let r = 0; r < a; r++) {\n        let o = s[r],\n          l = t(o, \"section\"),\n          d = l.length;\n        if (e = Math.abs((c || 0) - r) || 0, R.loop && (e = Math.abs(((c || 0) - r) % (a - n)) || 0), e < n ? Z.load(o) : Z.unload(o), d) {\n          let t = ze(o);\n          for (let s = 0; s < d; s++) {\n            let a = l[s];\n            i = r === (c || 0) ? Math.abs((u || 0) - s) : Math.abs(s - t), e + i < n ? Z.load(a) : Z.unload(a);\n          }\n        }\n      }\n      lt() ? X.wrapper.classList.add(\"has-vertical-slides\") : X.wrapper.classList.remove(\"has-vertical-slides\"), ot() ? X.wrapper.classList.add(\"has-horizontal-slides\") : X.wrapper.classList.remove(\"has-horizontal-slides\");\n    }\n  }\n  function tt({\n    includeFragments: e = !1\n  } = {}) {\n    let t = X.wrapper.querySelectorAll(m),\n      i = X.wrapper.querySelectorAll(f),\n      s = {\n        left: c > 0,\n        right: c < t.length - 1,\n        up: u > 0,\n        down: u < i.length - 1\n      };\n    if (R.loop && (t.length > 1 && (s.left = !0, s.right = !0), i.length > 1 && (s.up = !0, s.down = !0)), t.length > 1 && \"linear\" === R.navigationMode && (s.right = s.right || s.down, s.left = s.left || s.up), !0 === e) {\n      let e = re.availableRoutes();\n      s.left = s.left || e.prev, s.up = s.up || e.prev, s.down = s.down || e.next, s.right = s.right || e.next;\n    }\n    if (R.rtl) {\n      let e = s.left;\n      s.left = s.right, s.right = e;\n    }\n    return s;\n  }\n  function it(e = b) {\n    let t = nt(),\n      i = 0;\n    e: for (let s = 0; s < t.length; s++) {\n      let a = t[s],\n        n = a.querySelectorAll(\"section\");\n      for (let t = 0; t < n.length; t++) {\n        if (n[t] === e) break e;\n        \"uncounted\" !== n[t].dataset.visibility && i++;\n      }\n      if (a === e) break;\n      !1 === a.classList.contains(\"stack\") && \"uncounted\" !== a.dataset.visibility && i++;\n    }\n    return i;\n  }\n  function st(e) {\n    let i,\n      s = c,\n      a = u;\n    if (e) if (ae.isActive()) s = parseInt(e.getAttribute(\"data-index-h\"), 10), e.getAttribute(\"data-index-v\") && (a = parseInt(e.getAttribute(\"data-index-v\"), 10));else {\n      let i = qe(e),\n        n = i ? e.parentNode : e,\n        r = nt();\n      s = Math.max(r.indexOf(n), 0), a = void 0, i && (a = Math.max(t(e.parentNode, \"section\").indexOf(e), 0));\n    }\n    if (!e && b) {\n      if (b.querySelectorAll(\".fragment\").length > 0) {\n        let e = b.querySelector(\".current-fragment\");\n        i = e && e.hasAttribute(\"data-fragment-index\") ? parseInt(e.getAttribute(\"data-fragment-index\"), 10) : b.querySelectorAll(\".fragment.visible\").length - 1;\n      }\n    }\n    return {\n      h: s,\n      v: a,\n      f: i\n    };\n  }\n  function at() {\n    return t(X.wrapper, v + ':not(.stack):not([data-visibility=\"uncounted\"])');\n  }\n  function nt() {\n    return t(X.wrapper, m);\n  }\n  function rt() {\n    return t(X.wrapper, \".slides>section>section\");\n  }\n  function ot() {\n    return nt().length > 1;\n  }\n  function lt() {\n    return rt().length > 1;\n  }\n  function dt() {\n    return at().length;\n  }\n  function ct(e, t) {\n    let i = nt()[e],\n      s = i && i.querySelectorAll(\"section\");\n    return s && s.length && \"number\" == typeof t ? s ? s[t] : void 0 : i;\n  }\n  function ht() {\n    let e = st();\n    return {\n      indexh: e.h,\n      indexv: e.v,\n      indexf: e.f,\n      paused: $e(),\n      overview: oe.isActive()\n    };\n  }\n  function ut() {\n    if (gt(), b && !1 !== R.autoSlide) {\n      let e = b.querySelector(\".current-fragment[data-autoslide]\"),\n        i = e ? e.getAttribute(\"data-autoslide\") : null,\n        s = b.parentNode ? b.parentNode.getAttribute(\"data-autoslide\") : null,\n        a = b.getAttribute(\"data-autoslide\");\n      i ? _ = parseInt(i, 10) : a ? _ = parseInt(a, 10) : s ? _ = parseInt(s, 10) : (_ = R.autoSlide, 0 === b.querySelectorAll(\".fragment\").length && t(b, \"video, audio\").forEach(e => {\n        e.hasAttribute(\"data-autoplay\") && _ && 1e3 * e.duration / e.playbackRate > _ && (_ = 1e3 * e.duration / e.playbackRate + 1e3);\n      })), !_ || Q || $e() || oe.isActive() || Ue() && !re.availableRoutes().next && !0 !== R.loop || (J = setTimeout(() => {\n        \"function\" == typeof R.autoSlideMethod ? R.autoSlideMethod() : Et(), ut();\n      }, _), G = Date.now()), S && S.setPlaying(-1 !== J);\n    }\n  }\n  function gt() {\n    clearTimeout(J), J = -1;\n  }\n  function pt() {\n    _ && !Q && (Q = !0, Le({\n      type: \"autoslidepaused\"\n    }), clearTimeout(J), S && S.setPlaying(!1));\n  }\n  function vt() {\n    _ && Q && (Q = !1, Le({\n      type: \"autoslideresumed\"\n    }), ut());\n  }\n  function mt({\n    skipFragments: e = !1\n  } = {}) {\n    z.hasNavigatedHorizontally = !0, R.rtl ? (oe.isActive() || e || !1 === re.next()) && tt().left && Xe(c + 1, \"grid\" === R.navigationMode ? u : void 0) : (oe.isActive() || e || !1 === re.prev()) && tt().left && Xe(c - 1, \"grid\" === R.navigationMode ? u : void 0);\n  }\n  function ft({\n    skipFragments: e = !1\n  } = {}) {\n    z.hasNavigatedHorizontally = !0, R.rtl ? (oe.isActive() || e || !1 === re.prev()) && tt().right && Xe(c - 1, \"grid\" === R.navigationMode ? u : void 0) : (oe.isActive() || e || !1 === re.next()) && tt().right && Xe(c + 1, \"grid\" === R.navigationMode ? u : void 0);\n  }\n  function yt({\n    skipFragments: e = !1\n  } = {}) {\n    (oe.isActive() || e || !1 === re.prev()) && tt().up && Xe(c, u - 1);\n  }\n  function bt({\n    skipFragments: e = !1\n  } = {}) {\n    z.hasNavigatedVertically = !0, (oe.isActive() || e || !1 === re.next()) && tt().down && Xe(c, u + 1);\n  }\n  function wt({\n    skipFragments: e = !1\n  } = {}) {\n    if (e || !1 === re.prev()) if (tt().up) yt({\n      skipFragments: e\n    });else {\n      let i;\n      if (i = R.rtl ? t(X.wrapper, m + \".future\").pop() : t(X.wrapper, m + \".past\").pop(), i && i.classList.contains(\"stack\")) {\n        let e = i.querySelectorAll(\"section\").length - 1 || void 0;\n        Xe(c - 1, e);\n      } else mt({\n        skipFragments: e\n      });\n    }\n  }\n  function Et({\n    skipFragments: e = !1\n  } = {}) {\n    if (z.hasNavigatedHorizontally = !0, z.hasNavigatedVertically = !0, e || !1 === re.next()) {\n      let t = tt();\n      t.down && t.right && R.loop && Oe() && (t.down = !1), t.down ? bt({\n        skipFragments: e\n      }) : R.rtl ? mt({\n        skipFragments: e\n      }) : ft({\n        skipFragments: e\n      });\n    }\n  }\n  function St(e) {\n    let t = e.data;\n    if (\"string\" == typeof t && \"{\" === t.charAt(0) && \"}\" === t.charAt(t.length - 1) && (t = JSON.parse(t), t.method && \"function\" == typeof d[t.method])) if (!1 === y.test(t.method)) {\n      const e = d[t.method].apply(d, t.args);\n      xe(\"callback\", {\n        method: t.method,\n        result: e\n      });\n    } else console.warn('reveal.js: \"' + t.method + '\" is is blacklisted from the postMessage API');\n  }\n  function At(e) {\n    \"running\" === Y && /section/gi.test(e.target.nodeName) && (Y = \"idle\", Le({\n      type: \"slidetransitionend\",\n      data: {\n        indexh: c,\n        indexv: u,\n        previousSlide: g,\n        currentSlide: b\n      }\n    }));\n  }\n  function Rt(e) {\n    const t = r(e.target, 'a[href^=\"#\"]');\n    if (t) {\n      const i = t.getAttribute(\"href\"),\n        s = de.getIndicesFromHash(i);\n      s && (d.slide(s.h, s.v, s.f), e.preventDefault());\n    }\n  }\n  function kt(e) {\n    Be();\n  }\n  function Lt(e) {\n    !1 === document.hidden && document.activeElement !== document.body && (\"function\" == typeof document.activeElement.blur && document.activeElement.blur(), document.body.focus());\n  }\n  function Ct(e) {\n    (document.fullscreenElement || document.webkitFullscreenElement) === X.wrapper && (e.stopImmediatePropagation(), setTimeout(() => {\n      d.layout(), d.focus.focus();\n    }, 1));\n  }\n  function xt(e) {\n    if (e.currentTarget && e.currentTarget.hasAttribute(\"href\")) {\n      let t = e.currentTarget.getAttribute(\"href\");\n      t && (Ne(t), e.preventDefault());\n    }\n  }\n  function Pt(e) {\n    Ue() && !1 === R.loop ? (Xe(0, 0), vt()) : Q ? vt() : pt();\n  }\n  const Tt = {\n    VERSION: j,\n    initialize: function (e) {\n      if (!n) throw 'Unable to find presentation root (<div class=\"reveal\">).';\n      if (X.wrapper = n, X.slides = n.querySelector(\".slides\"), !X.slides) throw 'Unable to find slides container (<div class=\"slides\">).';\n      return R = {\n        ...V,\n        ...R,\n        ...o,\n        ...e,\n        ...l()\n      }, /print-pdf/gi.test(window.location.search) && (R.view = \"print\"), function () {\n        !0 === R.embedded ? X.viewport = r(n, \".reveal-viewport\") || n : (X.viewport = document.body, document.documentElement.classList.add(\"reveal-full-page\"));\n        X.viewport.classList.add(\"reveal-viewport\");\n      }(), window.addEventListener(\"load\", Be, !1), ge.load(R.plugins, R.dependencies).then(fe), new Promise(e => d.on(\"ready\", e));\n    },\n    configure: we,\n    destroy: function () {\n      Se(), gt(), Te(), me.destroy(), pe.destroy(), ge.destroy(), ue.destroy(), ce.destroy(), he.destroy(), se.destroy(), ee.destroy(), te.destroy(), document.removeEventListener(\"fullscreenchange\", Ct), document.removeEventListener(\"webkitfullscreenchange\", Ct), document.removeEventListener(\"visibilitychange\", Lt, !1), window.removeEventListener(\"message\", St, !1), window.removeEventListener(\"load\", Be, !1), X.pauseOverlay && X.pauseOverlay.remove(), X.statusElement && X.statusElement.remove(), document.documentElement.classList.remove(\"reveal-full-page\"), X.wrapper.classList.remove(\"ready\", \"center\", \"has-horizontal-slides\", \"has-vertical-slides\"), X.wrapper.removeAttribute(\"data-transition-speed\"), X.wrapper.removeAttribute(\"data-background-transition\"), X.viewport.classList.remove(\"reveal-viewport\"), X.viewport.style.removeProperty(\"--slide-width\"), X.viewport.style.removeProperty(\"--slide-height\"), X.slides.style.removeProperty(\"width\"), X.slides.style.removeProperty(\"height\"), X.slides.style.removeProperty(\"zoom\"), X.slides.style.removeProperty(\"left\"), X.slides.style.removeProperty(\"top\"), X.slides.style.removeProperty(\"bottom\"), X.slides.style.removeProperty(\"right\"), X.slides.style.removeProperty(\"transform\"), Array.from(X.wrapper.querySelectorAll(v)).forEach(e => {\n        e.style.removeProperty(\"display\"), e.style.removeProperty(\"top\"), e.removeAttribute(\"hidden\"), e.removeAttribute(\"aria-hidden\");\n      });\n    },\n    sync: _e,\n    syncSlide: function (e = b) {\n      se.sync(e), re.sync(e), Z.load(e), se.update(), me.update();\n    },\n    syncFragments: re.sync.bind(re),\n    slide: Xe,\n    left: mt,\n    right: ft,\n    up: yt,\n    down: bt,\n    prev: wt,\n    next: Et,\n    navigateLeft: mt,\n    navigateRight: ft,\n    navigateUp: yt,\n    navigateDown: bt,\n    navigatePrev: wt,\n    navigateNext: Et,\n    navigateFragment: re.goto.bind(re),\n    prevFragment: re.prev.bind(re),\n    nextFragment: re.next.bind(re),\n    on: Ae,\n    off: Re,\n    addEventListener: Ae,\n    removeEventListener: Re,\n    layout: Be,\n    shuffle: Je,\n    availableRoutes: tt,\n    availableFragments: re.availableRoutes.bind(re),\n    toggleHelp: function (e) {\n      \"boolean\" == typeof e ? e ? Me() : Ie() : X.overlay ? Ie() : Me();\n    },\n    toggleOverview: oe.toggle.bind(oe),\n    toggleScrollView: ae.toggle.bind(ae),\n    togglePause: Ke,\n    toggleAutoSlide: function (e) {\n      \"boolean\" == typeof e ? e ? vt() : pt() : Q ? vt() : pt();\n    },\n    toggleJumpToSlide: function (e) {\n      \"boolean\" == typeof e ? e ? te.show() : te.hide() : te.isVisible() ? te.hide() : te.show();\n    },\n    isFirstSlide: We,\n    isLastSlide: Ue,\n    isLastVerticalSlide: Oe,\n    isVerticalSlide: qe,\n    isVerticalStack: function (e = b) {\n      return e.classList.contains(\".stack\") || null !== e.querySelector(\"section\");\n    },\n    isPaused: $e,\n    isAutoSliding: function () {\n      return !(!_ || Q);\n    },\n    isSpeakerNotes: me.isSpeakerNotesWindow.bind(me),\n    isOverview: oe.isActive.bind(oe),\n    isFocused: pe.isFocused.bind(pe),\n    isScrollView: ae.isActive.bind(ae),\n    isPrintView: ne.isActive.bind(ne),\n    isReady: () => H,\n    loadSlide: Z.load.bind(Z),\n    unloadSlide: Z.unload.bind(Z),\n    startEmbeddedContent: () => Z.startEmbeddedContent(b),\n    stopEmbeddedContent: () => Z.stopEmbeddedContent(b, {\n      unloadIframes: !1\n    }),\n    showPreview: Ne,\n    hidePreview: Ie,\n    addEventListeners: Ee,\n    removeEventListeners: Se,\n    dispatchEvent: Le,\n    getState: ht,\n    setState: function (e) {\n      if (\"object\" == typeof e) {\n        Xe(s(e.indexh), s(e.indexv), s(e.indexf));\n        let t = s(e.paused),\n          i = s(e.overview);\n        \"boolean\" == typeof t && t !== $e() && Ke(t), \"boolean\" == typeof i && i !== oe.isActive() && oe.toggle(i);\n      }\n    },\n    getProgress: function () {\n      let e = dt(),\n        t = it();\n      if (b) {\n        let e = b.querySelectorAll(\".fragment\");\n        if (e.length > 0) {\n          let i = .9;\n          t += b.querySelectorAll(\".fragment.visible\").length / e.length * i;\n        }\n      }\n      return Math.min(t / (e - 1), 1);\n    },\n    getIndices: st,\n    getSlidesAttributes: function () {\n      return at().map(e => {\n        let t = {};\n        for (let i = 0; i < e.attributes.length; i++) {\n          let s = e.attributes[i];\n          t[s.name] = s.value;\n        }\n        return t;\n      });\n    },\n    getSlidePastCount: it,\n    getTotalSlides: dt,\n    getSlide: ct,\n    getPreviousSlide: () => g,\n    getCurrentSlide: () => b,\n    getSlideBackground: function (e, t) {\n      let i = \"number\" == typeof e ? ct(e, t) : e;\n      if (i) return i.slideBackgroundElement;\n    },\n    getSlideNotes: me.getSlideNotes.bind(me),\n    getSlides: at,\n    getHorizontalSlides: nt,\n    getVerticalSlides: rt,\n    hasHorizontalSlides: ot,\n    hasVerticalSlides: lt,\n    hasNavigatedHorizontally: () => z.hasNavigatedHorizontally,\n    hasNavigatedVertically: () => z.hasNavigatedVertically,\n    shouldAutoAnimateBetween: Ye,\n    addKeyBinding: le.addKeyBinding.bind(le),\n    removeKeyBinding: le.removeKeyBinding.bind(le),\n    triggerKey: le.triggerKey.bind(le),\n    registerKeyboardShortcut: le.registerKeyboardShortcut.bind(le),\n    getComputedSlideSize: De,\n    setCurrentScrollPage: function (e, t, i) {\n      let s = c || 0;\n      c = t, u = i;\n      const a = b !== e;\n      g = b, b = e, b && g && R.autoAnimate && Ye(g, b, s, u) && ie.run(g, b), a && (g && (Z.stopEmbeddedContent(g), Z.stopEmbeddedContent(g.slideBackgroundElement)), Z.startEmbeddedContent(b), Z.startEmbeddedContent(b.slideBackgroundElement)), requestAnimationFrame(() => {\n        ye(be(b));\n      }), Ce();\n    },\n    getScale: () => K,\n    getConfig: () => R,\n    getQueryHash: l,\n    getSlidePath: de.getHash.bind(de),\n    getRevealElement: () => n,\n    getSlidesElement: () => X.slides,\n    getViewportElement: () => X.viewport,\n    getBackgroundsElement: () => se.element,\n    registerPlugin: ge.registerPlugin.bind(ge),\n    hasPlugin: ge.hasPlugin.bind(ge),\n    getPlugin: ge.getPlugin.bind(ge),\n    getPlugins: ge.getRegisteredPlugins.bind(ge)\n  };\n  return e(d, {\n    ...Tt,\n    announceStatus: ye,\n    getStatusText: be,\n    focus: pe,\n    scroll: ae,\n    progress: he,\n    controls: ce,\n    location: de,\n    overview: oe,\n    fragments: re,\n    backgrounds: se,\n    slideContent: Z,\n    slideNumber: ee,\n    onUserInput: function (e) {\n      R.autoSlideStoppable && pt();\n    },\n    closeOverlay: Ie,\n    updateSlidesVisibility: et,\n    layoutSlideContents: He,\n    transformSlides: ke,\n    cueAutoSlide: ut,\n    cancelAutoSlide: gt\n  }), Tt;\n}\nlet $ = K,\n  X = [];\n$.initialize = e => (Object.assign($, new K(document.querySelector(\".reveal\"), e)), X.map(e => e($)), $.initialize()), [\"configure\", \"on\", \"off\", \"addEventListener\", \"removeEventListener\", \"registerPlugin\"].forEach(e => {\n  $[e] = (...t) => {\n    X.push(i => i[e].call(null, ...t));\n  };\n}), $.isReady = () => !1, $.VERSION = j;\nexport { $ as default };","map":{"version":3,"names":["e","t","i","Array","from","querySelectorAll","classList","add","remove","s","match","parseFloat","a","style","transform","n","matches","matchesSelector","msMatchesSelector","call","r","closest","parentNode","o","document","createElement","type","length","styleSheet","cssText","appendChild","createTextNode","head","l","location","search","replace","split","shift","pop","unescape","dependencies","d","mp4","m4a","ogv","mpeg","webm","c","navigator","userAgent","h","test","platform","maxTouchPoints","u","g","slice","cancelAnimationFrame","requestAnimationFrame","filter","dirty","active","forEach","styleComputed","p","f","availableWidth","element","clientWidth","currentWidth","scrollWidth","previousFontSize","currentFontSize","Math","min","max","minSize","maxSize","whiteSpace","multiLine","m","getComputedStyle","getPropertyValue","display","y","preStyleTestCompleted","v","fontSize","S","dispatchEvent","CustomEvent","detail","oldValue","newValue","scaleFactor","w","observeMutations","observer","disconnect","originalStyle","b","z","F","MutationObserver","observe","subtree","childList","characterData","E","clearTimeout","setTimeout","k","observeWindowDelay","A","Object","defineProperty","set","concat","observeWindow","fitAll","R","assign","map","newbie","push","fit","unfreeze","freeze","unsubscribe","arguments","window","constructor","Reveal","startEmbeddedIframe","bind","shouldPreload","isScrollView","getConfig","preloadIframes","hasAttribute","load","tagName","setAttribute","getAttribute","removeAttribute","slideBackgroundElement","slideBackgroundContentElement","trim","backgroundImage","encodeURI","charCodeAt","toString","toUpperCase","decodeURI","join","isSpeakerNotes","muted","excludeIframes","width","height","maxHeight","maxWidth","querySelector","layout","unload","getSlideBackground","formatEmbeddedContent","getSlidesElement","indexOf","startEmbeddedContent","autoPlayMedia","play","readyState","startEmbeddedMedia","target","catch","controls","addEventListener","removeEventListener","currentTime","contentWindow","postMessage","stopEmbeddedContent","unloadIframes","pause","render","className","getRevealElement","configure","slideNumber","isPrintView","showSlideNumber","update","innerHTML","getSlideNumber","getCurrentSlide","getHorizontalSlides","dataset","visibility","getSlidePastCount","getTotalSlides","getIndices","isVerticalSlide","getHash","formatNumber","isNaN","destroy","onInput","onBlur","onKeyDown","jumpInput","placeholder","show","indicesOnShow","focus","hide","isVisible","value","jumpTimeout","jump","getSlides","parseInt","getIndicesFromHash","oneBasedIndex","slide","jumpAfter","RegExp","find","innerText","cancel","confirm","keyCode","stopImmediatePropagation","charAt","create","createBackground","parallaxBackgroundImage","backgroundSize","parallaxBackgroundSize","backgroundRepeat","parallaxBackgroundRepeat","backgroundPosition","parallaxBackgroundPosition","sync","background","backgroundVideo","backgroundIframe","backgroundColor","backgroundGradient","backgroundTransition","backgroundOpacity","opacity","getContrastClass","bubbleSlideContrastClassToElement","contains","rtl","childNodes","previousBackground","slideContent","updateParallax","getVerticalSlides","offsetWidth","parallaxBackgroundHorizontal","offsetHeight","parallaxBackgroundVertical","run","reset","autoAnimateStyleSheet","getAutoAnimateOptions","autoAnimate","slideDirection","getAutoAnimatableElements","autoAnimateElements","to","options","autoAnimateUnmatched","duration","getUnmatchedAutoAnimateElements","delay","autoAnimateTarget","fontWeight","data","fromSlide","toSlide","sheet","removeChild","easing","getAutoAnimatableProperties","styles","translate","scale","getScale","x","scaleX","scaleY","round","explicitValue","keys","transition","autoAnimateEasing","autoAnimateDuration","autoAnimateDelay","measure","center","getBoundingClientRect","offsetLeft","offsetTop","autoAnimateStyles","property","autoAnimateMatcher","getAutoAnimatePairs","findAutoAnimateMatches","nodeName","textContent","getLocalBoundingBox","children","reduce","L","activatedCallbacks","onScroll","activate","getState","slideHTMLBeforeActivation","viewportElement","shouldAutoAnimateBetween","insertBefore","isVerticalStack","createProgressBar","setState","restoreScrollPosition","passive","deactivate","removeProgressBar","toggle","isActive","progressBar","progressBarInner","progressBarPlayhead","firstChild","clientY","top","progressBarHeight","scrollTop","scrollHeight","draggingProgressBar","showProgressBar","preventDefault","syncPages","syncScrollPosition","getComputedSlideSize","innerWidth","innerHeight","scrollLayout","setProperty","scrollSnapType","scrollSnap","slideTriggers","pages","createPage","pageElement","slideElement","stickyElement","contentElement","backgroundElement","autoAnimatePages","page","activatePage","deactivatePage","createFragmentTriggersForPage","createAutoAnimateTriggersForPage","scrollTriggers","scrollSnapAlign","marginTop","pageHeight","removeProperty","scrollPadding","totalHeight","position","setTriggerRanges","scrollProgress","totalScrollTriggerCount","syncProgressBar","range","fragments","sort","indexh","indexv","playheadHeight","progressBarScrollableHeight","progressBarSlide","scrollTriggerElements","loaded","activateTrigger","deactivateTrigger","setProgressBarValue","getAllPages","hideProgressBarTimeout","scrollToSlide","getScrollTriggerBySlide","storeScrollPosition","storeScrollPositionTimeout","sessionStorage","setItem","origin","pathname","getItem","setCurrentScrollPage","backgrounds","getSlideByIndices","flatMap","getViewportElement","C","floor","margin","Promise","documentElement","body","layoutSlideContents","ceil","pdfMaxPagesPerSlide","pdfPageHeightOffset","left","showNotes","getSlideNotes","bottom","pdfSeparateFragments","cloneNode","view","disable","enable","availableRoutes","prev","next","sortAll","shown","hidden","announceStatus","getStatusText","bubbles","goto","fragment","progress","fragmentInURL","writeURL","P","onSlideClicked","overview","cancelAutoSlide","getBackgroundsElement","overviewSlideWidth","overviewSlideHeight","updateSlidesVisibility","currentSlide","transformSlides","cueAutoSlide","T","shortcuts","bindings","onDocumentKeyDown","navigationMode","G","unbind","addKeyBinding","callback","key","description","removeKeyBinding","triggerKey","registerKeyboardShortcut","getShortcuts","getBindings","keyboardCondition","isFocused","isAutoSliding","onUserInput","activeElement","isContentEditable","shiftKey","altKey","ctrlKey","metaKey","keyboard","isPaused","hasHorizontalSlides","hasVerticalSlides","apply","skipFragments","right","up","Number","MAX_VALUE","down","includes","togglePause","requestFullscreen","webkitRequestFullscreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen","embedded","autoSlideStoppable","toggleAutoSlide","jumpToSlide","toggleJumpToSlide","toggleHelp","closeOverlay","N","MAX_REPLACE_STATE_FREQUENCY","writeURLTimeout","replaceStateTimestamp","onWindowHashChange","hash","hashOneBasedIndex","getElementById","decodeURIComponent","readURL","history","debouncedReplaceState","replaceState","Date","now","replaceStateTimeout","encodeURIComponent","M","onNavigateLeftClicked","onNavigateRightClicked","onNavigateUpClicked","onNavigateDownClicked","onNavigatePrevClicked","onNavigateNextClicked","controlsLeft","controlsRight","controlsUp","controlsDown","controlsPrev","controlsNext","controlsRightArrow","controlsLeftArrow","controlsDownArrow","controlsLayout","controlsBackArrows","controlsTutorial","hasNavigatedVertically","hasNavigatedHorizontally","I","onProgressClicked","bar","getProgress","getMaxWidth","clientX","B","lastMouseWheelStep","cursorHidden","cursorInactiveTimeout","onDocumentCursorActive","onDocumentMouseScroll","mouseWheel","hideInactiveCursor","showCursor","cursor","hideCursor","hideCursorTime","wheelDelta","H","async","defer","src","onload","onreadystatechange","onerror","Error","lastChild","D","state","registeredPlugins","asyncDependencies","registerPlugin","condition","initPlugins","then","id","console","warn","values","loadAsync","init","resolve","hasPlugin","getPlugin","getRegisteredPlugins","touchStartX","touchStartY","touchStartCount","touchCaptured","onPointerDown","onPointerMove","onPointerUp","onTouchStart","onTouchMove","onTouchEnd","msPointerEnabled","isSwipePrevented","touches","includeFragments","abs","pointerType","MSPOINTER_TYPE_TOUCH","q","O","onRevealPointerDown","onDocumentPointerDown","blur","W","updateVisibility","hasNotes","isSpeakerNotesWindow","U","diameter","diameter2","thickness","playing","progressOffset","container","progressCheck","canvas","context","getContext","setPlaying","animate","PI","save","clearRect","beginPath","arc","fillStyle","fill","lineWidth","strokeStyle","stroke","fillRect","moveTo","lineTo","restore","on","off","V","minScale","maxScale","respondToHashChanges","disableLayout","touch","loop","shuffle","help","showHiddenSlides","autoSlide","autoSlideMethod","defaultTiming","previewLinks","postMessageEvents","focusBodyOnPageVisibilityChange","transitionSpeed","scrollActivationWidth","POSITIVE_INFINITY","viewDistance","mobileViewDistance","sortFragmentsOnSync","plugins","j","K","$","X","Y","_","J","Q","Z","ee","te","ie","se","ae","ne","re","oe","le","de","ce","he","ue","ge","pe","ve","me","fe","wrapper","childElementCount","slides","pauseOverlay","statusElement","overflow","clip","St","setInterval","scrollLeft","Ct","nt","we","Se","viewport","Le","ye","be","nodeType","isReady","Je","je","Pe","Te","Pt","_e","Ee","kt","Rt","At","Lt","Ae","Re","ke","createEvent","initEvent","xe","Ce","previousSlide","parent","self","namespace","eventName","ht","JSON","stringify","xt","Ne","Ie","overlay","Me","Be","De","He","presentationWidth","presentationHeight","zoom","oldScale","size","naturalWidth","videoWidth","naturalHeight","videoHeight","Fe","ze","qe","Oe","nextElementSibling","We","Ue","Ve","gt","ut","Ke","$e","Xe","defaultPrevented","Ge","Ye","et","splice","random","Qe","Ze","lt","ot","tt","it","st","at","rt","dt","ct","indexf","paused","playbackRate","Et","pt","vt","mt","ft","yt","bt","wt","parse","method","args","result","fullscreenElement","webkitFullscreenElement","currentTarget","Tt","VERSION","initialize","syncSlide","syncFragments","navigateLeft","navigateRight","navigateUp","navigateDown","navigatePrev","navigateNext","navigateFragment","prevFragment","nextFragment","availableFragments","toggleOverview","toggleScrollView","isFirstSlide","isLastSlide","isLastVerticalSlide","isOverview","loadSlide","unloadSlide","showPreview","hidePreview","addEventListeners","removeEventListeners","getSlidesAttributes","attributes","name","getSlide","getPreviousSlide","getQueryHash","getSlidePath","getPlugins","scroll","default"],"sources":["/home/abdur/Documents/Ongoing/present-buddy-api/frontend/node_modules/reveal.js/js/utils/util.js","/home/abdur/Documents/Ongoing/present-buddy-api/frontend/node_modules/reveal.js/js/utils/device.js","/home/abdur/Documents/Ongoing/present-buddy-api/frontend/node_modules/reveal.js/node_modules/fitty/dist/fitty.module.js","/home/abdur/Documents/Ongoing/present-buddy-api/frontend/node_modules/reveal.js/js/controllers/slidecontent.js","/home/abdur/Documents/Ongoing/present-buddy-api/frontend/node_modules/reveal.js/js/utils/constants.js","/home/abdur/Documents/Ongoing/present-buddy-api/frontend/node_modules/reveal.js/js/controllers/slidenumber.js","/home/abdur/Documents/Ongoing/present-buddy-api/frontend/node_modules/reveal.js/js/controllers/jumptoslide.js","/home/abdur/Documents/Ongoing/present-buddy-api/frontend/node_modules/reveal.js/js/utils/color.js","/home/abdur/Documents/Ongoing/present-buddy-api/frontend/node_modules/reveal.js/js/controllers/backgrounds.js","/home/abdur/Documents/Ongoing/present-buddy-api/frontend/node_modules/reveal.js/js/controllers/autoanimate.js","/home/abdur/Documents/Ongoing/present-buddy-api/frontend/node_modules/reveal.js/js/controllers/scrollview.js","/home/abdur/Documents/Ongoing/present-buddy-api/frontend/node_modules/reveal.js/js/controllers/printview.js","/home/abdur/Documents/Ongoing/present-buddy-api/frontend/node_modules/reveal.js/js/controllers/fragments.js","/home/abdur/Documents/Ongoing/present-buddy-api/frontend/node_modules/reveal.js/js/controllers/overview.js","/home/abdur/Documents/Ongoing/present-buddy-api/frontend/node_modules/reveal.js/js/controllers/keyboard.js","/home/abdur/Documents/Ongoing/present-buddy-api/frontend/node_modules/reveal.js/js/controllers/location.js","/home/abdur/Documents/Ongoing/present-buddy-api/frontend/node_modules/reveal.js/js/controllers/controls.js","/home/abdur/Documents/Ongoing/present-buddy-api/frontend/node_modules/reveal.js/js/controllers/progress.js","/home/abdur/Documents/Ongoing/present-buddy-api/frontend/node_modules/reveal.js/js/controllers/pointer.js","/home/abdur/Documents/Ongoing/present-buddy-api/frontend/node_modules/reveal.js/js/utils/loader.js","/home/abdur/Documents/Ongoing/present-buddy-api/frontend/node_modules/reveal.js/js/controllers/plugins.js","/home/abdur/Documents/Ongoing/present-buddy-api/frontend/node_modules/reveal.js/js/controllers/touch.js","/home/abdur/Documents/Ongoing/present-buddy-api/frontend/node_modules/reveal.js/js/controllers/focus.js","/home/abdur/Documents/Ongoing/present-buddy-api/frontend/node_modules/reveal.js/js/controllers/notes.js","/home/abdur/Documents/Ongoing/present-buddy-api/frontend/node_modules/reveal.js/js/components/playback.js","/home/abdur/Documents/Ongoing/present-buddy-api/frontend/node_modules/reveal.js/js/config.js","/home/abdur/Documents/Ongoing/present-buddy-api/frontend/node_modules/reveal.js/js/reveal.js","/home/abdur/Documents/Ongoing/present-buddy-api/frontend/node_modules/reveal.js/js/index.js"],"sourcesContent":["/**\n * Extend object a with the properties of object b.\n * If there's a conflict, object b takes precedence.\n *\n * @param {object} a\n * @param {object} b\n */\nexport const extend = ( a, b ) => {\n\n\tfor( let i in b ) {\n\t\ta[ i ] = b[ i ];\n\t}\n\n\treturn a;\n\n}\n\n/**\n * querySelectorAll but returns an Array.\n */\nexport const queryAll = ( el, selector ) => {\n\n\treturn Array.from( el.querySelectorAll( selector ) );\n\n}\n\n/**\n * classList.toggle() with cross browser support\n */\nexport const toggleClass = ( el, className, value ) => {\n\tif( value ) {\n\t\tel.classList.add( className );\n\t}\n\telse {\n\t\tel.classList.remove( className );\n\t}\n}\n\n/**\n * Utility for deserializing a value.\n *\n * @param {*} value\n * @return {*}\n */\nexport const deserialize = ( value ) => {\n\n\tif( typeof value === 'string' ) {\n\t\tif( value === 'null' ) return null;\n\t\telse if( value === 'true' ) return true;\n\t\telse if( value === 'false' ) return false;\n\t\telse if( value.match( /^-?[\\d\\.]+$/ ) ) return parseFloat( value );\n\t}\n\n\treturn value;\n\n}\n\n/**\n * Measures the distance in pixels between point a\n * and point b.\n *\n * @param {object} a point with x/y properties\n * @param {object} b point with x/y properties\n *\n * @return {number}\n */\nexport const distanceBetween = ( a, b ) => {\n\n\tlet dx = a.x - b.x,\n\t\tdy = a.y - b.y;\n\n\treturn Math.sqrt( dx*dx + dy*dy );\n\n}\n\n/**\n * Applies a CSS transform to the target element.\n *\n * @param {HTMLElement} element\n * @param {string} transform\n */\nexport const transformElement = ( element, transform ) => {\n\n\telement.style.transform = transform;\n\n}\n\n/**\n * Element.matches with IE support.\n *\n * @param {HTMLElement} target The element to match\n * @param {String} selector The CSS selector to match\n * the element against\n *\n * @return {Boolean}\n */\nexport const matches = ( target, selector ) => {\n\n\tlet matchesMethod = target.matches || target.matchesSelector || target.msMatchesSelector;\n\n\treturn !!( matchesMethod && matchesMethod.call( target, selector ) );\n\n}\n\n/**\n * Find the closest parent that matches the given\n * selector.\n *\n * @param {HTMLElement} target The child element\n * @param {String} selector The CSS selector to match\n * the parents against\n *\n * @return {HTMLElement} The matched parent or null\n * if no matching parent was found\n */\nexport const closest = ( target, selector ) => {\n\n\t// Native Element.closest\n\tif( typeof target.closest === 'function' ) {\n\t\treturn target.closest( selector );\n\t}\n\n\t// Polyfill\n\twhile( target ) {\n\t\tif( matches( target, selector ) ) {\n\t\t\treturn target;\n\t\t}\n\n\t\t// Keep searching\n\t\ttarget = target.parentNode;\n\t}\n\n\treturn null;\n\n}\n\n/**\n * Handling the fullscreen functionality via the fullscreen API\n *\n * @see http://fullscreen.spec.whatwg.org/\n * @see https://developer.mozilla.org/en-US/docs/DOM/Using_fullscreen_mode\n */\nexport const enterFullscreen = element => {\n\n\telement = element || document.documentElement;\n\n\t// Check which implementation is available\n\tlet requestMethod = element.requestFullscreen ||\n\t\t\t\t\t\telement.webkitRequestFullscreen ||\n\t\t\t\t\t\telement.webkitRequestFullScreen ||\n\t\t\t\t\t\telement.mozRequestFullScreen ||\n\t\t\t\t\t\telement.msRequestFullscreen;\n\n\tif( requestMethod ) {\n\t\trequestMethod.apply( element );\n\t}\n\n}\n\n/**\n * Creates an HTML element and returns a reference to it.\n * If the element already exists the existing instance will\n * be returned.\n *\n * @param {HTMLElement} container\n * @param {string} tagname\n * @param {string} classname\n * @param {string} innerHTML\n *\n * @return {HTMLElement}\n */\nexport const createSingletonNode = ( container, tagname, classname, innerHTML='' ) => {\n\n\t// Find all nodes matching the description\n\tlet nodes = container.querySelectorAll( '.' + classname );\n\n\t// Check all matches to find one which is a direct child of\n\t// the specified container\n\tfor( let i = 0; i < nodes.length; i++ ) {\n\t\tlet testNode = nodes[i];\n\t\tif( testNode.parentNode === container ) {\n\t\t\treturn testNode;\n\t\t}\n\t}\n\n\t// If no node was found, create it now\n\tlet node = document.createElement( tagname );\n\tnode.className = classname;\n\tnode.innerHTML = innerHTML;\n\tcontainer.appendChild( node );\n\n\treturn node;\n\n}\n\n/**\n * Injects the given CSS styles into the DOM.\n *\n * @param {string} value\n */\nexport const createStyleSheet = ( value ) => {\n\n\tlet tag = document.createElement( 'style' );\n\ttag.type = 'text/css';\n\n\tif( value && value.length > 0 ) {\n\t\tif( tag.styleSheet ) {\n\t\t\ttag.styleSheet.cssText = value;\n\t\t}\n\t\telse {\n\t\t\ttag.appendChild( document.createTextNode( value ) );\n\t\t}\n\t}\n\n\tdocument.head.appendChild( tag );\n\n\treturn tag;\n\n}\n\n/**\n * Returns a key:value hash of all query params.\n */\nexport const getQueryHash = () => {\n\n\tlet query = {};\n\n\tlocation.search.replace( /[A-Z0-9]+?=([\\w\\.%-]*)/gi, a => {\n\t\tquery[ a.split( '=' ).shift() ] = a.split( '=' ).pop();\n\t} );\n\n\t// Basic deserialization\n\tfor( let i in query ) {\n\t\tlet value = query[ i ];\n\n\t\tquery[ i ] = deserialize( unescape( value ) );\n\t}\n\n\t// Do not accept new dependencies via query config to avoid\n\t// the potential of malicious script injection\n\tif( typeof query['dependencies'] !== 'undefined' ) delete query['dependencies'];\n\n\treturn query;\n\n}\n\n/**\n * Returns the remaining height within the parent of the\n * target element.\n *\n * remaining height = [ configured parent height ] - [ current parent height ]\n *\n * @param {HTMLElement} element\n * @param {number} [height]\n */\nexport const getRemainingHeight = ( element, height = 0 ) => {\n\n\tif( element ) {\n\t\tlet newHeight, oldHeight = element.style.height;\n\n\t\t// Change the .stretch element height to 0 in order find the height of all\n\t\t// the other elements\n\t\telement.style.height = '0px';\n\n\t\t// In Overview mode, the parent (.slide) height is set of 700px.\n\t\t// Restore it temporarily to its natural height.\n\t\telement.parentNode.style.height = 'auto';\n\n\t\tnewHeight = height - element.parentNode.offsetHeight;\n\n\t\t// Restore the old height, just in case\n\t\telement.style.height = oldHeight + 'px';\n\n\t\t// Clear the parent (.slide) height. .removeProperty works in IE9+\n\t\telement.parentNode.style.removeProperty('height');\n\n\t\treturn newHeight;\n\t}\n\n\treturn height;\n\n}\n\nconst fileExtensionToMimeMap = {\n\t'mp4': 'video/mp4',\n\t'm4a': 'video/mp4',\n\t'ogv': 'video/ogg',\n\t'mpeg': 'video/mpeg',\n\t'webm': 'video/webm'\n}\n\n/**\n * Guess the MIME type for common file formats.\n */\nexport const getMimeTypeFromFile = ( filename='' ) => {\n\treturn fileExtensionToMimeMap[filename.split('.').pop()]\n}\n\n/**\n * Encodes a string for RFC3986-compliant URL format.\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURI#encoding_for_rfc3986\n *\n * @param {string} url\n */\nexport const encodeRFC3986URI = ( url='' ) => {\n\treturn encodeURI(url)\n\t  .replace(/%5B/g, \"[\")\n\t  .replace(/%5D/g, \"]\")\n\t  .replace(\n\t\t/[!'()*]/g,\n\t\t(c) => `%${c.charCodeAt(0).toString(16).toUpperCase()}`\n\t  );\n}","const UA = navigator.userAgent;\n\nexport const isMobile = /(iphone|ipod|ipad|android)/gi.test( UA ) ||\n\t\t\t\t\t\t( navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1 ); // iPadOS\n\nexport const isChrome = /chrome/i.test( UA ) && !/edge/i.test( UA );\n\nexport const isAndroid = /android/gi.test( UA );","/**\n * fitty v2.3.7 - Snugly resizes text to fit its parent container\n * Copyright (c) 2023 Rik Schennink <rik@pqina.nl> (https://pqina.nl/)\n */\n\nvar e=function(e){if(e){var t=function(e){return[].slice.call(e)},n=0,i=1,r=2,o=3,a=[],l=null,u=\"requestAnimationFrame\"in e?function(){e.cancelAnimationFrame(l),l=e.requestAnimationFrame((function(){return s(a.filter((function(e){return e.dirty&&e.active})))}))}:function(){},c=function(e){return function(){a.forEach((function(t){return t.dirty=e})),u()}},s=function(e){e.filter((function(e){return!e.styleComputed})).forEach((function(e){e.styleComputed=m(e)})),e.filter(y).forEach(v);var t=e.filter(p);t.forEach(d),t.forEach((function(e){v(e),f(e)})),t.forEach(S)},f=function(e){return e.dirty=n},d=function(e){e.availableWidth=e.element.parentNode.clientWidth,e.currentWidth=e.element.scrollWidth,e.previousFontSize=e.currentFontSize,e.currentFontSize=Math.min(Math.max(e.minSize,e.availableWidth/e.currentWidth*e.previousFontSize),e.maxSize),e.whiteSpace=e.multiLine&&e.currentFontSize===e.minSize?\"normal\":\"nowrap\"},p=function(e){return e.dirty!==r||e.dirty===r&&e.element.parentNode.clientWidth!==e.availableWidth},m=function(t){var n=e.getComputedStyle(t.element,null);return t.currentFontSize=parseFloat(n.getPropertyValue(\"font-size\")),t.display=n.getPropertyValue(\"display\"),t.whiteSpace=n.getPropertyValue(\"white-space\"),!0},y=function(e){var t=!1;return!e.preStyleTestCompleted&&(/inline-/.test(e.display)||(t=!0,e.display=\"inline-block\"),\"nowrap\"!==e.whiteSpace&&(t=!0,e.whiteSpace=\"nowrap\"),e.preStyleTestCompleted=!0,t)},v=function(e){e.element.style.whiteSpace=e.whiteSpace,e.element.style.display=e.display,e.element.style.fontSize=e.currentFontSize+\"px\"},S=function(e){e.element.dispatchEvent(new CustomEvent(\"fit\",{detail:{oldValue:e.previousFontSize,newValue:e.currentFontSize,scaleFactor:e.currentFontSize/e.previousFontSize}}))},h=function(e,t){return function(){e.dirty=t,e.active&&u()}},w=function(e){return function(){a=a.filter((function(t){return t.element!==e.element})),e.observeMutations&&e.observer.disconnect(),e.element.style.whiteSpace=e.originalStyle.whiteSpace,e.element.style.display=e.originalStyle.display,e.element.style.fontSize=e.originalStyle.fontSize}},b=function(e){return function(){e.active||(e.active=!0,u())}},z=function(e){return function(){return e.active=!1}},F=function(e){e.observeMutations&&(e.observer=new MutationObserver(h(e,i)),e.observer.observe(e.element,e.observeMutations))},g={minSize:16,maxSize:512,multiLine:!0,observeMutations:\"MutationObserver\"in e&&{subtree:!0,childList:!0,characterData:!0}},W=null,E=function(){e.clearTimeout(W),W=e.setTimeout(c(r),x.observeWindowDelay)},M=[\"resize\",\"orientationchange\"];return Object.defineProperty(x,\"observeWindow\",{set:function(t){var n=\"\".concat(t?\"add\":\"remove\",\"EventListener\");M.forEach((function(t){e[n](t,E)}))}}),x.observeWindow=!0,x.observeWindowDelay=100,x.fitAll=c(o),x}function C(e,t){var n=Object.assign({},g,t),i=e.map((function(e){var t=Object.assign({},n,{element:e,active:!0});return function(e){e.originalStyle={whiteSpace:e.element.style.whiteSpace,display:e.element.style.display,fontSize:e.element.style.fontSize},F(e),e.newbie=!0,e.dirty=!0,a.push(e)}(t),{element:e,fit:h(t,o),unfreeze:b(t),freeze:z(t),unsubscribe:w(t)}}));return u(),i}function x(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return\"string\"==typeof e?C(t(document.querySelectorAll(e)),n):C([e],n)[0]}}(\"undefined\"==typeof window?null:window);export default e;\n","import { extend, queryAll, closest, getMimeTypeFromFile, encodeRFC3986URI } from '../utils/util.js'\nimport { isMobile } from '../utils/device.js'\n\nimport fitty from 'fitty';\n\n/**\n * Handles loading, unloading and playback of slide\n * content such as images, videos and iframes.\n */\nexport default class SlideContent {\n\n\tconstructor( Reveal ) {\n\n\t\tthis.Reveal = Reveal;\n\n\t\tthis.startEmbeddedIframe = this.startEmbeddedIframe.bind( this );\n\n\t}\n\n\t/**\n\t * Should the given element be preloaded?\n\t * Decides based on local element attributes and global config.\n\t *\n\t * @param {HTMLElement} element\n\t */\n\tshouldPreload( element ) {\n\n\t\tif( this.Reveal.isScrollView() ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Prefer an explicit global preload setting\n\t\tlet preload = this.Reveal.getConfig().preloadIframes;\n\n\t\t// If no global setting is available, fall back on the element's\n\t\t// own preload setting\n\t\tif( typeof preload !== 'boolean' ) {\n\t\t\tpreload = element.hasAttribute( 'data-preload' );\n\t\t}\n\n\t\treturn preload;\n\t}\n\n\t/**\n\t * Called when the given slide is within the configured view\n\t * distance. Shows the slide element and loads any content\n\t * that is set to load lazily (data-src).\n\t *\n\t * @param {HTMLElement} slide Slide to show\n\t */\n\tload( slide, options = {} ) {\n\n\t\t// Show the slide element\n\t\tslide.style.display = this.Reveal.getConfig().display;\n\n\t\t// Media elements with data-src attributes\n\t\tqueryAll( slide, 'img[data-src], video[data-src], audio[data-src], iframe[data-src]' ).forEach( element => {\n\t\t\tif( element.tagName !== 'IFRAME' || this.shouldPreload( element ) ) {\n\t\t\t\telement.setAttribute( 'src', element.getAttribute( 'data-src' ) );\n\t\t\t\telement.setAttribute( 'data-lazy-loaded', '' );\n\t\t\t\telement.removeAttribute( 'data-src' );\n\t\t\t}\n\t\t} );\n\n\t\t// Media elements with <source> children\n\t\tqueryAll( slide, 'video, audio' ).forEach( media => {\n\t\t\tlet sources = 0;\n\n\t\t\tqueryAll( media, 'source[data-src]' ).forEach( source => {\n\t\t\t\tsource.setAttribute( 'src', source.getAttribute( 'data-src' ) );\n\t\t\t\tsource.removeAttribute( 'data-src' );\n\t\t\t\tsource.setAttribute( 'data-lazy-loaded', '' );\n\t\t\t\tsources += 1;\n\t\t\t} );\n\n\t\t\t// Enable inline video playback in mobile Safari\n\t\t\tif( isMobile && media.tagName === 'VIDEO' ) {\n\t\t\t\tmedia.setAttribute( 'playsinline', '' );\n\t\t\t}\n\n\t\t\t// If we rewrote sources for this video/audio element, we need\n\t\t\t// to manually tell it to load from its new origin\n\t\t\tif( sources > 0 ) {\n\t\t\t\tmedia.load();\n\t\t\t}\n\t\t} );\n\n\n\t\t// Show the corresponding background element\n\t\tlet background = slide.slideBackgroundElement;\n\t\tif( background ) {\n\t\t\tbackground.style.display = 'block';\n\n\t\t\tlet backgroundContent = slide.slideBackgroundContentElement;\n\t\t\tlet backgroundIframe = slide.getAttribute( 'data-background-iframe' );\n\n\t\t\t// If the background contains media, load it\n\t\t\tif( background.hasAttribute( 'data-loaded' ) === false ) {\n\t\t\t\tbackground.setAttribute( 'data-loaded', 'true' );\n\n\t\t\t\tlet backgroundImage = slide.getAttribute( 'data-background-image' ),\n\t\t\t\t\tbackgroundVideo = slide.getAttribute( 'data-background-video' ),\n\t\t\t\t\tbackgroundVideoLoop = slide.hasAttribute( 'data-background-video-loop' ),\n\t\t\t\t\tbackgroundVideoMuted = slide.hasAttribute( 'data-background-video-muted' );\n\n\t\t\t\t// Images\n\t\t\t\tif( backgroundImage ) {\n\t\t\t\t\t// base64\n\t\t\t\t\tif(  /^data:/.test( backgroundImage.trim() ) ) {\n\t\t\t\t\t\tbackgroundContent.style.backgroundImage = `url(${backgroundImage.trim()})`;\n\t\t\t\t\t}\n\t\t\t\t\t// URL(s)\n\t\t\t\t\telse {\n\t\t\t\t\t\tbackgroundContent.style.backgroundImage = backgroundImage.split( ',' ).map( background => {\n\t\t\t\t\t\t\t// Decode URL(s) that are already encoded first\n\t\t\t\t\t\t\tlet decoded = decodeURI(background.trim());\n\t\t\t\t\t\t\treturn `url(${encodeRFC3986URI(decoded)})`;\n\t\t\t\t\t\t}).join( ',' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Videos\n\t\t\t\telse if ( backgroundVideo && !this.Reveal.isSpeakerNotes() ) {\n\t\t\t\t\tlet video = document.createElement( 'video' );\n\n\t\t\t\t\tif( backgroundVideoLoop ) {\n\t\t\t\t\t\tvideo.setAttribute( 'loop', '' );\n\t\t\t\t\t}\n\n\t\t\t\t\tif( backgroundVideoMuted ) {\n\t\t\t\t\t\tvideo.muted = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Enable inline playback in mobile Safari\n\t\t\t\t\t//\n\t\t\t\t\t// Mute is required for video to play when using\n\t\t\t\t\t// swipe gestures to navigate since they don't\n\t\t\t\t\t// count as direct user actions :'(\n\t\t\t\t\tif( isMobile ) {\n\t\t\t\t\t\tvideo.muted = true;\n\t\t\t\t\t\tvideo.setAttribute( 'playsinline', '' );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Support comma separated lists of video sources\n\t\t\t\t\tbackgroundVideo.split( ',' ).forEach( source => {\n\t\t\t\t\t\tconst sourceElement = document.createElement( 'source' );\n\t\t\t\t\t\tsourceElement.setAttribute( 'src', source );\n\n\t\t\t\t\t\tlet type = getMimeTypeFromFile( source );\n\t\t\t\t\t\tif( type ) {\n\t\t\t\t\t\t\tsourceElement.setAttribute( 'type', type );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvideo.appendChild( sourceElement );\n\t\t\t\t\t} );\n\n\t\t\t\t\tbackgroundContent.appendChild( video );\n\t\t\t\t}\n\t\t\t\t// Iframes\n\t\t\t\telse if( backgroundIframe && options.excludeIframes !== true ) {\n\t\t\t\t\tlet iframe = document.createElement( 'iframe' );\n\t\t\t\t\tiframe.setAttribute( 'allowfullscreen', '' );\n\t\t\t\t\tiframe.setAttribute( 'mozallowfullscreen', '' );\n\t\t\t\t\tiframe.setAttribute( 'webkitallowfullscreen', '' );\n\t\t\t\t\tiframe.setAttribute( 'allow', 'autoplay' );\n\n\t\t\t\t\tiframe.setAttribute( 'data-src', backgroundIframe );\n\n\t\t\t\t\tiframe.style.width  = '100%';\n\t\t\t\t\tiframe.style.height = '100%';\n\t\t\t\t\tiframe.style.maxHeight = '100%';\n\t\t\t\t\tiframe.style.maxWidth = '100%';\n\n\t\t\t\t\tbackgroundContent.appendChild( iframe );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Start loading preloadable iframes\n\t\t\tlet backgroundIframeElement = backgroundContent.querySelector( 'iframe[data-src]' );\n\t\t\tif( backgroundIframeElement ) {\n\n\t\t\t\t// Check if this iframe is eligible to be preloaded\n\t\t\t\tif( this.shouldPreload( background ) && !/autoplay=(1|true|yes)/gi.test( backgroundIframe ) ) {\n\t\t\t\t\tif( backgroundIframeElement.getAttribute( 'src' ) !== backgroundIframe ) {\n\t\t\t\t\t\tbackgroundIframeElement.setAttribute( 'src', backgroundIframe );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.layout( slide );\n\n\t}\n\n\t/**\n\t * Applies JS-dependent layout helpers for the scope.\n\t */\n\tlayout( scopeElement ) {\n\n\t\t// Autosize text with the r-fit-text class based on the\n\t\t// size of its container. This needs to happen after the\n\t\t// slide is visible in order to measure the text.\n\t\tArray.from( scopeElement.querySelectorAll( '.r-fit-text' ) ).forEach( element => {\n\t\t\tfitty( element, {\n\t\t\t\tminSize: 24,\n\t\t\t\tmaxSize: this.Reveal.getConfig().height * 0.8,\n\t\t\t\tobserveMutations: false,\n\t\t\t\tobserveWindow: false\n\t\t\t} );\n\t\t} );\n\n\t}\n\n\t/**\n\t * Unloads and hides the given slide. This is called when the\n\t * slide is moved outside of the configured view distance.\n\t *\n\t * @param {HTMLElement} slide\n\t */\n\tunload( slide ) {\n\n\t\t// Hide the slide element\n\t\tslide.style.display = 'none';\n\n\t\t// Hide the corresponding background element\n\t\tlet background = this.Reveal.getSlideBackground( slide );\n\t\tif( background ) {\n\t\t\tbackground.style.display = 'none';\n\n\t\t\t// Unload any background iframes\n\t\t\tqueryAll( background, 'iframe[src]' ).forEach( element => {\n\t\t\t\telement.removeAttribute( 'src' );\n\t\t\t} );\n\t\t}\n\n\t\t// Reset lazy-loaded media elements with src attributes\n\t\tqueryAll( slide, 'video[data-lazy-loaded][src], audio[data-lazy-loaded][src], iframe[data-lazy-loaded][src]' ).forEach( element => {\n\t\t\telement.setAttribute( 'data-src', element.getAttribute( 'src' ) );\n\t\t\telement.removeAttribute( 'src' );\n\t\t} );\n\n\t\t// Reset lazy-loaded media elements with <source> children\n\t\tqueryAll( slide, 'video[data-lazy-loaded] source[src], audio source[src]' ).forEach( source => {\n\t\t\tsource.setAttribute( 'data-src', source.getAttribute( 'src' ) );\n\t\t\tsource.removeAttribute( 'src' );\n\t\t} );\n\n\t}\n\n\t/**\n\t * Enforces origin-specific format rules for embedded media.\n\t */\n\tformatEmbeddedContent() {\n\n\t\tlet _appendParamToIframeSource = ( sourceAttribute, sourceURL, param ) => {\n\t\t\tqueryAll( this.Reveal.getSlidesElement(), 'iframe['+ sourceAttribute +'*=\"'+ sourceURL +'\"]' ).forEach( el => {\n\t\t\t\tlet src = el.getAttribute( sourceAttribute );\n\t\t\t\tif( src && src.indexOf( param ) === -1 ) {\n\t\t\t\t\tel.setAttribute( sourceAttribute, src + ( !/\\?/.test( src ) ? '?' : '&' ) + param );\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\t// YouTube frames must include \"?enablejsapi=1\"\n\t\t_appendParamToIframeSource( 'src', 'youtube.com/embed/', 'enablejsapi=1' );\n\t\t_appendParamToIframeSource( 'data-src', 'youtube.com/embed/', 'enablejsapi=1' );\n\n\t\t// Vimeo frames must include \"?api=1\"\n\t\t_appendParamToIframeSource( 'src', 'player.vimeo.com/', 'api=1' );\n\t\t_appendParamToIframeSource( 'data-src', 'player.vimeo.com/', 'api=1' );\n\n\t}\n\n\t/**\n\t * Start playback of any embedded content inside of\n\t * the given element.\n\t *\n\t * @param {HTMLElement} element\n\t */\n\tstartEmbeddedContent( element ) {\n\n\t\tif( element && !this.Reveal.isSpeakerNotes() ) {\n\n\t\t\t// Restart GIFs\n\t\t\tqueryAll( element, 'img[src$=\".gif\"]' ).forEach( el => {\n\t\t\t\t// Setting the same unchanged source like this was confirmed\n\t\t\t\t// to work in Chrome, FF & Safari\n\t\t\t\tel.setAttribute( 'src', el.getAttribute( 'src' ) );\n\t\t\t} );\n\n\t\t\t// HTML5 media elements\n\t\t\tqueryAll( element, 'video, audio' ).forEach( el => {\n\t\t\t\tif( closest( el, '.fragment' ) && !closest( el, '.fragment.visible' ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Prefer an explicit global autoplay setting\n\t\t\t\tlet autoplay = this.Reveal.getConfig().autoPlayMedia;\n\n\t\t\t\t// If no global setting is available, fall back on the element's\n\t\t\t\t// own autoplay setting\n\t\t\t\tif( typeof autoplay !== 'boolean' ) {\n\t\t\t\t\tautoplay = el.hasAttribute( 'data-autoplay' ) || !!closest( el, '.slide-background' );\n\t\t\t\t}\n\n\t\t\t\tif( autoplay && typeof el.play === 'function' ) {\n\n\t\t\t\t\t// If the media is ready, start playback\n\t\t\t\t\tif( el.readyState > 1 ) {\n\t\t\t\t\t\tthis.startEmbeddedMedia( { target: el } );\n\t\t\t\t\t}\n\t\t\t\t\t// Mobile devices never fire a loaded event so instead\n\t\t\t\t\t// of waiting, we initiate playback\n\t\t\t\t\telse if( isMobile ) {\n\t\t\t\t\t\tlet promise = el.play();\n\n\t\t\t\t\t\t// If autoplay does not work, ensure that the controls are visible so\n\t\t\t\t\t\t// that the viewer can start the media on their own\n\t\t\t\t\t\tif( promise && typeof promise.catch === 'function' && el.controls === false ) {\n\t\t\t\t\t\t\tpromise.catch( () => {\n\t\t\t\t\t\t\t\tel.controls = true;\n\n\t\t\t\t\t\t\t\t// Once the video does start playing, hide the controls again\n\t\t\t\t\t\t\t\tel.addEventListener( 'play', () => {\n\t\t\t\t\t\t\t\t\tel.controls = false;\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// If the media isn't loaded, wait before playing\n\t\t\t\t\telse {\n\t\t\t\t\t\tel.removeEventListener( 'loadeddata', this.startEmbeddedMedia ); // remove first to avoid dupes\n\t\t\t\t\t\tel.addEventListener( 'loadeddata', this.startEmbeddedMedia );\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t// Normal iframes\n\t\t\tqueryAll( element, 'iframe[src]' ).forEach( el => {\n\t\t\t\tif( closest( el, '.fragment' ) && !closest( el, '.fragment.visible' ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.startEmbeddedIframe( { target: el } );\n\t\t\t} );\n\n\t\t\t// Lazy loading iframes\n\t\t\tqueryAll( element, 'iframe[data-src]' ).forEach( el => {\n\t\t\t\tif( closest( el, '.fragment' ) && !closest( el, '.fragment.visible' ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif( el.getAttribute( 'src' ) !== el.getAttribute( 'data-src' ) ) {\n\t\t\t\t\tel.removeEventListener( 'load', this.startEmbeddedIframe ); // remove first to avoid dupes\n\t\t\t\t\tel.addEventListener( 'load', this.startEmbeddedIframe );\n\t\t\t\t\tel.setAttribute( 'src', el.getAttribute( 'data-src' ) );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Starts playing an embedded video/audio element after\n\t * it has finished loading.\n\t *\n\t * @param {object} event\n\t */\n\tstartEmbeddedMedia( event ) {\n\n\t\tlet isAttachedToDOM = !!closest( event.target, 'html' ),\n\t\t\tisVisible  \t\t= !!closest( event.target, '.present' );\n\n\t\tif( isAttachedToDOM && isVisible ) {\n\t\t\tevent.target.currentTime = 0;\n\t\t\tevent.target.play();\n\t\t}\n\n\t\tevent.target.removeEventListener( 'loadeddata', this.startEmbeddedMedia );\n\n\t}\n\n\t/**\n\t * \"Starts\" the content of an embedded iframe using the\n\t * postMessage API.\n\t *\n\t * @param {object} event\n\t */\n\tstartEmbeddedIframe( event ) {\n\n\t\tlet iframe = event.target;\n\n\t\tif( iframe && iframe.contentWindow ) {\n\n\t\t\tlet isAttachedToDOM = !!closest( event.target, 'html' ),\n\t\t\t\tisVisible  \t\t= !!closest( event.target, '.present' );\n\n\t\t\tif( isAttachedToDOM && isVisible ) {\n\n\t\t\t\t// Prefer an explicit global autoplay setting\n\t\t\t\tlet autoplay = this.Reveal.getConfig().autoPlayMedia;\n\n\t\t\t\t// If no global setting is available, fall back on the element's\n\t\t\t\t// own autoplay setting\n\t\t\t\tif( typeof autoplay !== 'boolean' ) {\n\t\t\t\t\tautoplay = iframe.hasAttribute( 'data-autoplay' ) || !!closest( iframe, '.slide-background' );\n\t\t\t\t}\n\n\t\t\t\t// YouTube postMessage API\n\t\t\t\tif( /youtube\\.com\\/embed\\//.test( iframe.getAttribute( 'src' ) ) && autoplay ) {\n\t\t\t\t\tiframe.contentWindow.postMessage( '{\"event\":\"command\",\"func\":\"playVideo\",\"args\":\"\"}', '*' );\n\t\t\t\t}\n\t\t\t\t// Vimeo postMessage API\n\t\t\t\telse if( /player\\.vimeo\\.com\\//.test( iframe.getAttribute( 'src' ) ) && autoplay ) {\n\t\t\t\t\tiframe.contentWindow.postMessage( '{\"method\":\"play\"}', '*' );\n\t\t\t\t}\n\t\t\t\t// Generic postMessage API\n\t\t\t\telse {\n\t\t\t\t\tiframe.contentWindow.postMessage( 'slide:start', '*' );\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Stop playback of any embedded content inside of\n\t * the targeted slide.\n\t *\n\t * @param {HTMLElement} element\n\t */\n\tstopEmbeddedContent( element, options = {} ) {\n\n\t\toptions = extend( {\n\t\t\t// Defaults\n\t\t\tunloadIframes: true\n\t\t}, options );\n\n\t\tif( element && element.parentNode ) {\n\t\t\t// HTML5 media elements\n\t\t\tqueryAll( element, 'video, audio' ).forEach( el => {\n\t\t\t\tif( !el.hasAttribute( 'data-ignore' ) && typeof el.pause === 'function' ) {\n\t\t\t\t\tel.setAttribute('data-paused-by-reveal', '');\n\t\t\t\t\tel.pause();\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t// Generic postMessage API for non-lazy loaded iframes\n\t\t\tqueryAll( element, 'iframe' ).forEach( el => {\n\t\t\t\tif( el.contentWindow ) el.contentWindow.postMessage( 'slide:stop', '*' );\n\t\t\t\tel.removeEventListener( 'load', this.startEmbeddedIframe );\n\t\t\t});\n\n\t\t\t// YouTube postMessage API\n\t\t\tqueryAll( element, 'iframe[src*=\"youtube.com/embed/\"]' ).forEach( el => {\n\t\t\t\tif( !el.hasAttribute( 'data-ignore' ) && el.contentWindow && typeof el.contentWindow.postMessage === 'function' ) {\n\t\t\t\t\tel.contentWindow.postMessage( '{\"event\":\"command\",\"func\":\"pauseVideo\",\"args\":\"\"}', '*' );\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Vimeo postMessage API\n\t\t\tqueryAll( element, 'iframe[src*=\"player.vimeo.com/\"]' ).forEach( el => {\n\t\t\t\tif( !el.hasAttribute( 'data-ignore' ) && el.contentWindow && typeof el.contentWindow.postMessage === 'function' ) {\n\t\t\t\t\tel.contentWindow.postMessage( '{\"method\":\"pause\"}', '*' );\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif( options.unloadIframes === true ) {\n\t\t\t\t// Unload lazy-loaded iframes\n\t\t\t\tqueryAll( element, 'iframe[data-src]' ).forEach( el => {\n\t\t\t\t\t// Only removing the src doesn't actually unload the frame\n\t\t\t\t\t// in all browsers (Firefox) so we set it to blank first\n\t\t\t\t\tel.setAttribute( 'src', 'about:blank' );\n\t\t\t\t\tel.removeAttribute( 'src' );\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\n\t}\n\n}\n","\nexport const SLIDES_SELECTOR = '.slides section';\nexport const HORIZONTAL_SLIDES_SELECTOR = '.slides>section';\nexport const VERTICAL_SLIDES_SELECTOR = '.slides>section.present>section';\n\n// Methods that may not be invoked via the postMessage API\nexport const POST_MESSAGE_METHOD_BLACKLIST = /registerPlugin|registerKeyboardShortcut|addKeyBinding|addEventListener|showPreview/;\n\n// Regex for retrieving the fragment style from a class attribute\nexport const FRAGMENT_STYLE_REGEX = /fade-(down|up|right|left|out|in-then-out|in-then-semi-out)|semi-fade-out|current-visible|shrink|grow/;\n\n// Slide number formats\nexport const SLIDE_NUMBER_FORMAT_HORIZONTAL_DOT_VERTICAL = 'h.v';\nexport const SLIDE_NUMBER_FORMAT_HORIZONTAL_SLASH_VERTICAL = 'h/v';\nexport const SLIDE_NUMBER_FORMAT_CURRENT = 'c';\nexport const SLIDE_NUMBER_FORMAT_CURRENT_SLASH_TOTAL = 'c/t';","import {\n\tSLIDE_NUMBER_FORMAT_CURRENT,\n\tSLIDE_NUMBER_FORMAT_CURRENT_SLASH_TOTAL,\n\tSLIDE_NUMBER_FORMAT_HORIZONTAL_DOT_VERTICAL,\n\tSLIDE_NUMBER_FORMAT_HORIZONTAL_SLASH_VERTICAL\n} from \"../utils/constants\";\n\n/**\n * Handles the display of reveal.js' optional slide number.\n */\nexport default class SlideNumber {\n\n\tconstructor( Reveal ) {\n\n\t\tthis.Reveal = Reveal;\n\n\t}\n\n\trender() {\n\n\t\tthis.element = document.createElement( 'div' );\n\t\tthis.element.className = 'slide-number';\n\t\tthis.Reveal.getRevealElement().appendChild( this.element );\n\n\t}\n\n\t/**\n\t * Called when the reveal.js config is updated.\n\t */\n\tconfigure( config, oldConfig ) {\n\n\t\tlet slideNumberDisplay = 'none';\n\t\tif( config.slideNumber && !this.Reveal.isPrintView() ) {\n\t\t\tif( config.showSlideNumber === 'all' ) {\n\t\t\t\tslideNumberDisplay = 'block';\n\t\t\t}\n\t\t\telse if( config.showSlideNumber === 'speaker' && this.Reveal.isSpeakerNotes() ) {\n\t\t\t\tslideNumberDisplay = 'block';\n\t\t\t}\n\t\t}\n\n\t\tthis.element.style.display = slideNumberDisplay;\n\n\t}\n\n\t/**\n\t * Updates the slide number to match the current slide.\n\t */\n\tupdate() {\n\n\t\t// Update slide number if enabled\n\t\tif( this.Reveal.getConfig().slideNumber && this.element ) {\n\t\t\tthis.element.innerHTML = this.getSlideNumber();\n\t\t}\n\n\t}\n\n\t/**\n\t * Returns the HTML string corresponding to the current slide\n\t * number, including formatting.\n\t */\n\tgetSlideNumber( slide = this.Reveal.getCurrentSlide() ) {\n\n\t\tlet config = this.Reveal.getConfig();\n\t\tlet value;\n\t\tlet format = SLIDE_NUMBER_FORMAT_HORIZONTAL_DOT_VERTICAL;\n\n\t\tif ( typeof config.slideNumber === 'function' ) {\n\t\t\tvalue = config.slideNumber( slide );\n\t\t} else {\n\t\t\t// Check if a custom number format is available\n\t\t\tif( typeof config.slideNumber === 'string' ) {\n\t\t\t\tformat = config.slideNumber;\n\t\t\t}\n\n\t\t\t// If there are ONLY vertical slides in this deck, always use\n\t\t\t// a flattened slide number\n\t\t\tif( !/c/.test( format ) && this.Reveal.getHorizontalSlides().length === 1 ) {\n\t\t\t\tformat = SLIDE_NUMBER_FORMAT_CURRENT;\n\t\t\t}\n\n\t\t\t// Offset the current slide number by 1 to make it 1-indexed\n\t\t\tlet horizontalOffset = slide && slide.dataset.visibility === 'uncounted' ? 0 : 1;\n\n\t\t\tvalue = [];\n\t\t\tswitch( format ) {\n\t\t\t\tcase SLIDE_NUMBER_FORMAT_CURRENT:\n\t\t\t\t\tvalue.push( this.Reveal.getSlidePastCount( slide ) + horizontalOffset );\n\t\t\t\t\tbreak;\n\t\t\t\tcase SLIDE_NUMBER_FORMAT_CURRENT_SLASH_TOTAL:\n\t\t\t\t\tvalue.push( this.Reveal.getSlidePastCount( slide ) + horizontalOffset, '/', this.Reveal.getTotalSlides() );\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tlet indices = this.Reveal.getIndices( slide );\n\t\t\t\t\tvalue.push( indices.h + horizontalOffset );\n\t\t\t\t\tlet sep = format === SLIDE_NUMBER_FORMAT_HORIZONTAL_SLASH_VERTICAL ? '/' : '.';\n\t\t\t\t\tif( this.Reveal.isVerticalSlide( slide ) ) value.push( sep, indices.v + 1 );\n\t\t\t}\n\t\t}\n\n\t\tlet url = '#' + this.Reveal.location.getHash( slide );\n\t\treturn this.formatNumber( value[0], value[1], value[2], url );\n\n\t}\n\n\t/**\n\t * Applies HTML formatting to a slide number before it's\n\t * written to the DOM.\n\t *\n\t * @param {number} a Current slide\n\t * @param {string} delimiter Character to separate slide numbers\n\t * @param {(number|*)} b Total slides\n\t * @param {HTMLElement} [url='#'+locationHash()] The url to link to\n\t * @return {string} HTML string fragment\n\t */\n\tformatNumber( a, delimiter, b, url = '#' + this.Reveal.location.getHash() ) {\n\n\t\tif( typeof b === 'number' && !isNaN( b ) ) {\n\t\t\treturn  `<a href=\"${url}\">\n\t\t\t\t\t<span class=\"slide-number-a\">${a}</span>\n\t\t\t\t\t<span class=\"slide-number-delimiter\">${delimiter}</span>\n\t\t\t\t\t<span class=\"slide-number-b\">${b}</span>\n\t\t\t\t\t</a>`;\n\t\t}\n\t\telse {\n\t\t\treturn `<a href=\"${url}\">\n\t\t\t\t\t<span class=\"slide-number-a\">${a}</span>\n\t\t\t\t\t</a>`;\n\t\t}\n\n\t}\n\n\tdestroy() {\n\n\t\tthis.element.remove();\n\n\t}\n\n}","import {\n\tSLIDE_NUMBER_FORMAT_CURRENT,\n\tSLIDE_NUMBER_FORMAT_CURRENT_SLASH_TOTAL\n} from \"../utils/constants\";\n\n/**\n * Makes it possible to jump to a slide by entering its\n * slide number or id.\n */\nexport default class JumpToSlide {\n\n\tconstructor( Reveal ) {\n\n\t\tthis.Reveal = Reveal;\n\n\t\tthis.onInput = this.onInput.bind( this );\n\t\tthis.onBlur = this.onBlur.bind( this );\n\t\tthis.onKeyDown = this.onKeyDown.bind( this );\n\n\t}\n\n\trender() {\n\n\t\tthis.element = document.createElement( 'div' );\n\t\tthis.element.className = 'jump-to-slide';\n\n    this.jumpInput = document.createElement( 'input' );\n    this.jumpInput.type = 'text';\n    this.jumpInput.className = 'jump-to-slide-input';\n    this.jumpInput.placeholder = 'Jump to slide';\n\t\tthis.jumpInput.addEventListener( 'input', this.onInput );\n\t\tthis.jumpInput.addEventListener( 'keydown', this.onKeyDown );\n\t\tthis.jumpInput.addEventListener( 'blur', this.onBlur );\n\n    this.element.appendChild( this.jumpInput );\n\n\t}\n\n\tshow() {\n\n\t\tthis.indicesOnShow = this.Reveal.getIndices();\n\n\t\tthis.Reveal.getRevealElement().appendChild( this.element );\n\t\tthis.jumpInput.focus();\n\n\t}\n\n\thide() {\n\n\t\tif( this.isVisible() ) {\n\t\t\tthis.element.remove();\n\t\t\tthis.jumpInput.value = '';\n\n\t\t\tclearTimeout( this.jumpTimeout );\n\t\t\tdelete this.jumpTimeout;\n\t\t}\n\n\t}\n\n\tisVisible() {\n\n\t\treturn !!this.element.parentNode;\n\n\t}\n\n\t/**\n\t * Parses the current input and jumps to the given slide.\n\t */\n\tjump() {\n\n\t\tclearTimeout( this.jumpTimeout );\n\t\tdelete this.jumpTimeout;\n\n\t\tlet query = this.jumpInput.value.trim( '' );\n\t\tlet indices;\n\n\t\t// When slide numbers are formatted to be a single linear mumber\n\t\t// (instead of showing a separate horizontal/vertical index) we\n\t\t// use the same format for slide jumps\n\t\tif( /^\\d+$/.test( query ) ) {\n\t\t\tconst slideNumberFormat = this.Reveal.getConfig().slideNumber;\n\t\t\tif( slideNumberFormat === SLIDE_NUMBER_FORMAT_CURRENT || slideNumberFormat === SLIDE_NUMBER_FORMAT_CURRENT_SLASH_TOTAL ) {\n\t\t\t\tconst slide = this.Reveal.getSlides()[ parseInt( query, 10 ) - 1 ];\n\t\t\t\tif( slide ) {\n\t\t\t\t\tindices = this.Reveal.getIndices( slide );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif( !indices ) {\n\t\t\t// If the query uses \"horizontal.vertical\" format, convert to\n\t\t\t// \"horizontal/vertical\" so that our URL parser can understand\n\t\t\tif( /^\\d+\\.\\d+$/.test( query ) ) {\n\t\t\t\tquery = query.replace( '.', '/' );\n\t\t\t}\n\n\t\t\tindices = this.Reveal.location.getIndicesFromHash( query, { oneBasedIndex: true } );\n\t\t}\n\n\t\t// Still no valid index? Fall back on a text search\n\t\tif( !indices && /\\S+/i.test( query ) && query.length > 1 ) {\n\t\t\tindices = this.search( query );\n\t\t}\n\n\t\tif( indices && query !== '' ) {\n\t\t\tthis.Reveal.slide( indices.h, indices.v, indices.f );\n\t\t\treturn true;\n\t\t}\n\t\telse {\n\t\t\tthis.Reveal.slide( this.indicesOnShow.h, this.indicesOnShow.v, this.indicesOnShow.f );\n\t\t\treturn false;\n\t\t}\n\n\t}\n\n\tjumpAfter( delay ) {\n\n\t\tclearTimeout( this.jumpTimeout );\n\t\tthis.jumpTimeout = setTimeout( () => this.jump(), delay );\n\n\t}\n\n\t/**\n\t * A lofi search that looks for the given query in all\n\t * of our slides and returns the first match.\n\t */\n\tsearch( query ) {\n\n\t\tconst regex = new RegExp( '\\\\b' + query.trim() + '\\\\b', 'i' );\n\n\t\tconst slide = this.Reveal.getSlides().find( ( slide ) => {\n\t\t\treturn regex.test( slide.innerText );\n\t\t} );\n\n\t\tif( slide ) {\n\t\t\treturn this.Reveal.getIndices( slide );\n\t\t}\n\t\telse {\n\t\t\treturn null;\n\t\t}\n\n\t}\n\n\t/**\n\t * Reverts back to the slide we were on when jump to slide was\n\t * invoked.\n\t */\n\tcancel() {\n\n\t\tthis.Reveal.slide( this.indicesOnShow.h, this.indicesOnShow.v, this.indicesOnShow.f );\n\t\tthis.hide();\n\n\t}\n\n\tconfirm() {\n\n\t\tthis.jump();\n\t\tthis.hide();\n\n\t}\n\n\tdestroy() {\n\n\t\tthis.jumpInput.removeEventListener( 'input', this.onInput );\n\t\tthis.jumpInput.removeEventListener( 'keydown', this.onKeyDown );\n\t\tthis.jumpInput.removeEventListener( 'blur', this.onBlur );\n\n\t\tthis.element.remove();\n\n\t}\n\n\tonKeyDown( event ) {\n\n\t\tif( event.keyCode === 13 ) {\n\t\t\tthis.confirm();\n\t\t}\n\t\telse if( event.keyCode === 27 ) {\n\t\t\tthis.cancel();\n\n\t\t\tevent.stopImmediatePropagation();\n\t\t}\n\n\t}\n\n\tonInput( event ) {\n\n\t\tthis.jumpAfter( 200 );\n\n\t}\n\n\tonBlur() {\n\n\t\tsetTimeout( () => this.hide(), 1 );\n\n\t}\n\n}","/**\n * Converts various color input formats to an {r:0,g:0,b:0} object.\n *\n * @param {string} color The string representation of a color\n * @example\n * colorToRgb('#000');\n * @example\n * colorToRgb('#000000');\n * @example\n * colorToRgb('rgb(0,0,0)');\n * @example\n * colorToRgb('rgba(0,0,0)');\n *\n * @return {{r: number, g: number, b: number, [a]: number}|null}\n */\nexport const colorToRgb = ( color ) => {\n\n\tlet hex3 = color.match( /^#([0-9a-f]{3})$/i );\n\tif( hex3 && hex3[1] ) {\n\t\thex3 = hex3[1];\n\t\treturn {\n\t\t\tr: parseInt( hex3.charAt( 0 ), 16 ) * 0x11,\n\t\t\tg: parseInt( hex3.charAt( 1 ), 16 ) * 0x11,\n\t\t\tb: parseInt( hex3.charAt( 2 ), 16 ) * 0x11\n\t\t};\n\t}\n\n\tlet hex6 = color.match( /^#([0-9a-f]{6})$/i );\n\tif( hex6 && hex6[1] ) {\n\t\thex6 = hex6[1];\n\t\treturn {\n\t\t\tr: parseInt( hex6.slice( 0, 2 ), 16 ),\n\t\t\tg: parseInt( hex6.slice( 2, 4 ), 16 ),\n\t\t\tb: parseInt( hex6.slice( 4, 6 ), 16 )\n\t\t};\n\t}\n\n\tlet rgb = color.match( /^rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)$/i );\n\tif( rgb ) {\n\t\treturn {\n\t\t\tr: parseInt( rgb[1], 10 ),\n\t\t\tg: parseInt( rgb[2], 10 ),\n\t\t\tb: parseInt( rgb[3], 10 )\n\t\t};\n\t}\n\n\tlet rgba = color.match( /^rgba\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\,\\s*([\\d]+|[\\d]*.[\\d]+)\\s*\\)$/i );\n\tif( rgba ) {\n\t\treturn {\n\t\t\tr: parseInt( rgba[1], 10 ),\n\t\t\tg: parseInt( rgba[2], 10 ),\n\t\t\tb: parseInt( rgba[3], 10 ),\n\t\t\ta: parseFloat( rgba[4] )\n\t\t};\n\t}\n\n\treturn null;\n\n}\n\n/**\n * Calculates brightness on a scale of 0-255.\n *\n * @param {string} color See colorToRgb for supported formats.\n * @see {@link colorToRgb}\n */\nexport const colorBrightness = ( color ) => {\n\n\tif( typeof color === 'string' ) color = colorToRgb( color );\n\n\tif( color ) {\n\t\treturn ( color.r * 299 + color.g * 587 + color.b * 114 ) / 1000;\n\t}\n\n\treturn null;\n\n}","import { queryAll } from '../utils/util.js'\nimport { colorToRgb, colorBrightness } from '../utils/color.js'\n\n/**\n * Creates and updates slide backgrounds.\n */\nexport default class Backgrounds {\n\n\tconstructor( Reveal ) {\n\n\t\tthis.Reveal = Reveal;\n\n\t}\n\n\trender() {\n\n\t\tthis.element = document.createElement( 'div' );\n\t\tthis.element.className = 'backgrounds';\n\t\tthis.Reveal.getRevealElement().appendChild( this.element );\n\n\t}\n\n\t/**\n\t * Creates the slide background elements and appends them\n\t * to the background container. One element is created per\n\t * slide no matter if the given slide has visible background.\n\t */\n\tcreate() {\n\n\t\t// Clear prior backgrounds\n\t\tthis.element.innerHTML = '';\n\t\tthis.element.classList.add( 'no-transition' );\n\n\t\t// Iterate over all horizontal slides\n\t\tthis.Reveal.getHorizontalSlides().forEach( slideh => {\n\n\t\t\tlet backgroundStack = this.createBackground( slideh, this.element );\n\n\t\t\t// Iterate over all vertical slides\n\t\t\tqueryAll( slideh, 'section' ).forEach( slidev => {\n\n\t\t\t\tthis.createBackground( slidev, backgroundStack );\n\n\t\t\t\tbackgroundStack.classList.add( 'stack' );\n\n\t\t\t} );\n\n\t\t} );\n\n\t\t// Add parallax background if specified\n\t\tif( this.Reveal.getConfig().parallaxBackgroundImage ) {\n\n\t\t\tthis.element.style.backgroundImage = 'url(\"' + this.Reveal.getConfig().parallaxBackgroundImage + '\")';\n\t\t\tthis.element.style.backgroundSize = this.Reveal.getConfig().parallaxBackgroundSize;\n\t\t\tthis.element.style.backgroundRepeat = this.Reveal.getConfig().parallaxBackgroundRepeat;\n\t\t\tthis.element.style.backgroundPosition = this.Reveal.getConfig().parallaxBackgroundPosition;\n\n\t\t\t// Make sure the below properties are set on the element - these properties are\n\t\t\t// needed for proper transitions to be set on the element via CSS. To remove\n\t\t\t// annoying background slide-in effect when the presentation starts, apply\n\t\t\t// these properties after short time delay\n\t\t\tsetTimeout( () => {\n\t\t\t\tthis.Reveal.getRevealElement().classList.add( 'has-parallax-background' );\n\t\t\t}, 1 );\n\n\t\t}\n\t\telse {\n\n\t\t\tthis.element.style.backgroundImage = '';\n\t\t\tthis.Reveal.getRevealElement().classList.remove( 'has-parallax-background' );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Creates a background for the given slide.\n\t *\n\t * @param {HTMLElement} slide\n\t * @param {HTMLElement} container The element that the background\n\t * should be appended to\n\t * @return {HTMLElement} New background div\n\t */\n\tcreateBackground( slide, container ) {\n\n\t\t// Main slide background element\n\t\tlet element = document.createElement( 'div' );\n\t\telement.className = 'slide-background ' + slide.className.replace( /present|past|future/, '' );\n\n\t\t// Inner background element that wraps images/videos/iframes\n\t\tlet contentElement = document.createElement( 'div' );\n\t\tcontentElement.className = 'slide-background-content';\n\n\t\telement.appendChild( contentElement );\n\t\tcontainer.appendChild( element );\n\n\t\tslide.slideBackgroundElement = element;\n\t\tslide.slideBackgroundContentElement = contentElement;\n\n\t\t// Syncs the background to reflect all current background settings\n\t\tthis.sync( slide );\n\n\t\treturn element;\n\n\t}\n\n\t/**\n\t * Renders all of the visual properties of a slide background\n\t * based on the various background attributes.\n\t *\n\t * @param {HTMLElement} slide\n\t */\n\tsync( slide ) {\n\n\t\tconst element = slide.slideBackgroundElement,\n\t\t\tcontentElement = slide.slideBackgroundContentElement;\n\n\t\tconst data = {\n\t\t\tbackground: slide.getAttribute( 'data-background' ),\n\t\t\tbackgroundSize: slide.getAttribute( 'data-background-size' ),\n\t\t\tbackgroundImage: slide.getAttribute( 'data-background-image' ),\n\t\t\tbackgroundVideo: slide.getAttribute( 'data-background-video' ),\n\t\t\tbackgroundIframe: slide.getAttribute( 'data-background-iframe' ),\n\t\t\tbackgroundColor: slide.getAttribute( 'data-background-color' ),\n\t\t\tbackgroundGradient: slide.getAttribute( 'data-background-gradient' ),\n\t\t\tbackgroundRepeat: slide.getAttribute( 'data-background-repeat' ),\n\t\t\tbackgroundPosition: slide.getAttribute( 'data-background-position' ),\n\t\t\tbackgroundTransition: slide.getAttribute( 'data-background-transition' ),\n\t\t\tbackgroundOpacity: slide.getAttribute( 'data-background-opacity' ),\n\t\t};\n\n\t\tconst dataPreload = slide.hasAttribute( 'data-preload' );\n\n\t\t// Reset the prior background state in case this is not the\n\t\t// initial sync\n\t\tslide.classList.remove( 'has-dark-background' );\n\t\tslide.classList.remove( 'has-light-background' );\n\n\t\telement.removeAttribute( 'data-loaded' );\n\t\telement.removeAttribute( 'data-background-hash' );\n\t\telement.removeAttribute( 'data-background-size' );\n\t\telement.removeAttribute( 'data-background-transition' );\n\t\telement.style.backgroundColor = '';\n\n\t\tcontentElement.style.backgroundSize = '';\n\t\tcontentElement.style.backgroundRepeat = '';\n\t\tcontentElement.style.backgroundPosition = '';\n\t\tcontentElement.style.backgroundImage = '';\n\t\tcontentElement.style.opacity = '';\n\t\tcontentElement.innerHTML = '';\n\n\t\tif( data.background ) {\n\t\t\t// Auto-wrap image urls in url(...)\n\t\t\tif( /^(http|file|\\/\\/)/gi.test( data.background ) || /\\.(svg|png|jpg|jpeg|gif|bmp|webp)([?#\\s]|$)/gi.test( data.background ) ) {\n\t\t\t\tslide.setAttribute( 'data-background-image', data.background );\n\t\t\t}\n\t\t\telse {\n\t\t\t\telement.style.background = data.background;\n\t\t\t}\n\t\t}\n\n\t\t// Create a hash for this combination of background settings.\n\t\t// This is used to determine when two slide backgrounds are\n\t\t// the same.\n\t\tif( data.background || data.backgroundColor || data.backgroundGradient || data.backgroundImage || data.backgroundVideo || data.backgroundIframe ) {\n\t\t\telement.setAttribute( 'data-background-hash', data.background +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.backgroundSize +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.backgroundImage +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.backgroundVideo +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.backgroundIframe +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.backgroundColor +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.backgroundGradient +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.backgroundRepeat +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.backgroundPosition +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.backgroundTransition +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.backgroundOpacity );\n\t\t}\n\n\t\t// Additional and optional background properties\n\t\tif( data.backgroundSize ) element.setAttribute( 'data-background-size', data.backgroundSize );\n\t\tif( data.backgroundColor ) element.style.backgroundColor = data.backgroundColor;\n\t\tif( data.backgroundGradient ) element.style.backgroundImage = data.backgroundGradient;\n\t\tif( data.backgroundTransition ) element.setAttribute( 'data-background-transition', data.backgroundTransition );\n\n\t\tif( dataPreload ) element.setAttribute( 'data-preload', '' );\n\n\t\t// Background image options are set on the content wrapper\n\t\tif( data.backgroundSize ) contentElement.style.backgroundSize = data.backgroundSize;\n\t\tif( data.backgroundRepeat ) contentElement.style.backgroundRepeat = data.backgroundRepeat;\n\t\tif( data.backgroundPosition ) contentElement.style.backgroundPosition = data.backgroundPosition;\n\t\tif( data.backgroundOpacity ) contentElement.style.opacity = data.backgroundOpacity;\n\n\t\tconst contrastClass = this.getContrastClass( slide );\n\n\t\tif( typeof contrastClass === 'string' ) {\n\t\t\tslide.classList.add( contrastClass );\n\t\t}\n\n\t}\n\n\t/**\n\t * Returns a class name that can be applied to a slide to indicate\n\t * if it has a light or dark background.\n\t *\n\t * @param {*} slide\n\t *\n\t * @returns {string|null}\n\t */\n\tgetContrastClass( slide ) {\n\n\t\tconst element = slide.slideBackgroundElement;\n\n\t\t// If this slide has a background color, we add a class that\n\t\t// signals if it is light or dark. If the slide has no background\n\t\t// color, no class will be added\n\t\tlet contrastColor = slide.getAttribute( 'data-background-color' );\n\n\t\t// If no bg color was found, or it cannot be converted by colorToRgb, check the computed background\n\t\tif( !contrastColor || !colorToRgb( contrastColor ) ) {\n\t\t\tlet computedBackgroundStyle = window.getComputedStyle( element );\n\t\t\tif( computedBackgroundStyle && computedBackgroundStyle.backgroundColor ) {\n\t\t\t\tcontrastColor = computedBackgroundStyle.backgroundColor;\n\t\t\t}\n\t\t}\n\n\t\tif( contrastColor ) {\n\t\t\tconst rgb = colorToRgb( contrastColor );\n\n\t\t\t// Ignore fully transparent backgrounds. Some browsers return\n\t\t\t// rgba(0,0,0,0) when reading the computed background color of\n\t\t\t// an element with no background\n\t\t\tif( rgb && rgb.a !== 0 ) {\n\t\t\t\tif( colorBrightness( contrastColor ) < 128 ) {\n\t\t\t\t\treturn 'has-dark-background';\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\treturn 'has-light-background';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\t/**\n\t * Bubble the 'has-light-background'/'has-dark-background' classes.\n\t */\n\tbubbleSlideContrastClassToElement( slide, target ) {\n\n\t\t[ 'has-light-background', 'has-dark-background' ].forEach( classToBubble => {\n\t\t\tif( slide.classList.contains( classToBubble ) ) {\n\t\t\t\ttarget.classList.add( classToBubble );\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttarget.classList.remove( classToBubble );\n\t\t\t}\n\t\t}, this );\n\n\t}\n\n\t/**\n\t * Updates the background elements to reflect the current\n\t * slide.\n\t *\n\t * @param {boolean} includeAll If true, the backgrounds of\n\t * all vertical slides (not just the present) will be updated.\n\t */\n\tupdate( includeAll = false ) {\n\n\t\tlet currentSlide = this.Reveal.getCurrentSlide();\n\t\tlet indices = this.Reveal.getIndices();\n\n\t\tlet currentBackground = null;\n\n\t\t// Reverse past/future classes when in RTL mode\n\t\tlet horizontalPast = this.Reveal.getConfig().rtl ? 'future' : 'past',\n\t\t\thorizontalFuture = this.Reveal.getConfig().rtl ? 'past' : 'future';\n\n\t\t// Update the classes of all backgrounds to match the\n\t\t// states of their slides (past/present/future)\n\t\tArray.from( this.element.childNodes ).forEach( ( backgroundh, h ) => {\n\n\t\t\tbackgroundh.classList.remove( 'past', 'present', 'future' );\n\n\t\t\tif( h < indices.h ) {\n\t\t\t\tbackgroundh.classList.add( horizontalPast );\n\t\t\t}\n\t\t\telse if ( h > indices.h ) {\n\t\t\t\tbackgroundh.classList.add( horizontalFuture );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tbackgroundh.classList.add( 'present' );\n\n\t\t\t\t// Store a reference to the current background element\n\t\t\t\tcurrentBackground = backgroundh;\n\t\t\t}\n\n\t\t\tif( includeAll || h === indices.h ) {\n\t\t\t\tqueryAll( backgroundh, '.slide-background' ).forEach( ( backgroundv, v ) => {\n\n\t\t\t\t\tbackgroundv.classList.remove( 'past', 'present', 'future' );\n\n\t\t\t\t\tconst indexv = typeof indices.v === 'number' ? indices.v : 0;\n\n\t\t\t\t\tif( v < indexv ) {\n\t\t\t\t\t\tbackgroundv.classList.add( 'past' );\n\t\t\t\t\t}\n\t\t\t\t\telse if ( v > indexv ) {\n\t\t\t\t\t\tbackgroundv.classList.add( 'future' );\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tbackgroundv.classList.add( 'present' );\n\n\t\t\t\t\t\t// Only if this is the present horizontal and vertical slide\n\t\t\t\t\t\tif( h === indices.h ) currentBackground = backgroundv;\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\t\t\t}\n\n\t\t} );\n\n\t\t// Stop content inside of previous backgrounds\n\t\tif( this.previousBackground ) {\n\n\t\t\tthis.Reveal.slideContent.stopEmbeddedContent( this.previousBackground, { unloadIframes: !this.Reveal.slideContent.shouldPreload( this.previousBackground ) } );\n\n\t\t}\n\n\t\t// Start content in the current background\n\t\tif( currentBackground ) {\n\n\t\t\tthis.Reveal.slideContent.startEmbeddedContent( currentBackground );\n\n\t\t\tlet currentBackgroundContent = currentBackground.querySelector( '.slide-background-content' );\n\t\t\tif( currentBackgroundContent ) {\n\n\t\t\t\tlet backgroundImageURL = currentBackgroundContent.style.backgroundImage || '';\n\n\t\t\t\t// Restart GIFs (doesn't work in Firefox)\n\t\t\t\tif( /\\.gif/i.test( backgroundImageURL ) ) {\n\t\t\t\t\tcurrentBackgroundContent.style.backgroundImage = '';\n\t\t\t\t\twindow.getComputedStyle( currentBackgroundContent ).opacity;\n\t\t\t\t\tcurrentBackgroundContent.style.backgroundImage = backgroundImageURL;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Don't transition between identical backgrounds. This\n\t\t\t// prevents unwanted flicker.\n\t\t\tlet previousBackgroundHash = this.previousBackground ? this.previousBackground.getAttribute( 'data-background-hash' ) : null;\n\t\t\tlet currentBackgroundHash = currentBackground.getAttribute( 'data-background-hash' );\n\t\t\tif( currentBackgroundHash && currentBackgroundHash === previousBackgroundHash && currentBackground !== this.previousBackground ) {\n\t\t\t\tthis.element.classList.add( 'no-transition' );\n\t\t\t}\n\n\t\t\tthis.previousBackground = currentBackground;\n\n\t\t}\n\n\t\t// If there's a background brightness flag for this slide,\n\t\t// bubble it to the .reveal container\n\t\tif( currentSlide ) {\n\t\t\tthis.bubbleSlideContrastClassToElement( currentSlide, this.Reveal.getRevealElement() );\n\t\t}\n\n\t\t// Allow the first background to apply without transition\n\t\tsetTimeout( () => {\n\t\t\tthis.element.classList.remove( 'no-transition' );\n\t\t}, 1 );\n\n\t}\n\n\t/**\n\t * Updates the position of the parallax background based\n\t * on the current slide index.\n\t */\n\tupdateParallax() {\n\n\t\tlet indices = this.Reveal.getIndices();\n\n\t\tif( this.Reveal.getConfig().parallaxBackgroundImage ) {\n\n\t\t\tlet horizontalSlides = this.Reveal.getHorizontalSlides(),\n\t\t\t\tverticalSlides = this.Reveal.getVerticalSlides();\n\n\t\t\tlet backgroundSize = this.element.style.backgroundSize.split( ' ' ),\n\t\t\t\tbackgroundWidth, backgroundHeight;\n\n\t\t\tif( backgroundSize.length === 1 ) {\n\t\t\t\tbackgroundWidth = backgroundHeight = parseInt( backgroundSize[0], 10 );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tbackgroundWidth = parseInt( backgroundSize[0], 10 );\n\t\t\t\tbackgroundHeight = parseInt( backgroundSize[1], 10 );\n\t\t\t}\n\n\t\t\tlet slideWidth = this.element.offsetWidth,\n\t\t\t\thorizontalSlideCount = horizontalSlides.length,\n\t\t\t\thorizontalOffsetMultiplier,\n\t\t\t\thorizontalOffset;\n\n\t\t\tif( typeof this.Reveal.getConfig().parallaxBackgroundHorizontal === 'number' ) {\n\t\t\t\thorizontalOffsetMultiplier = this.Reveal.getConfig().parallaxBackgroundHorizontal;\n\t\t\t}\n\t\t\telse {\n\t\t\t\thorizontalOffsetMultiplier = horizontalSlideCount > 1 ? ( backgroundWidth - slideWidth ) / ( horizontalSlideCount-1 ) : 0;\n\t\t\t}\n\n\t\t\thorizontalOffset = horizontalOffsetMultiplier * indices.h * -1;\n\n\t\t\tlet slideHeight = this.element.offsetHeight,\n\t\t\t\tverticalSlideCount = verticalSlides.length,\n\t\t\t\tverticalOffsetMultiplier,\n\t\t\t\tverticalOffset;\n\n\t\t\tif( typeof this.Reveal.getConfig().parallaxBackgroundVertical === 'number' ) {\n\t\t\t\tverticalOffsetMultiplier = this.Reveal.getConfig().parallaxBackgroundVertical;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tverticalOffsetMultiplier = ( backgroundHeight - slideHeight ) / ( verticalSlideCount-1 );\n\t\t\t}\n\n\t\t\tverticalOffset = verticalSlideCount > 0 ?  verticalOffsetMultiplier * indices.v : 0;\n\n\t\t\tthis.element.style.backgroundPosition = horizontalOffset + 'px ' + -verticalOffset + 'px';\n\n\t\t}\n\n\t}\n\n\tdestroy() {\n\n\t\tthis.element.remove();\n\n\t}\n\n}\n","import { queryAll, extend, createStyleSheet, matches, closest } from '../utils/util.js'\nimport { FRAGMENT_STYLE_REGEX } from '../utils/constants.js'\n\n// Counter used to generate unique IDs for auto-animated elements\nlet autoAnimateCounter = 0;\n\n/**\n * Automatically animates matching elements across\n * slides with the [data-auto-animate] attribute.\n */\nexport default class AutoAnimate {\n\n\tconstructor( Reveal ) {\n\n\t\tthis.Reveal = Reveal;\n\n\t}\n\n\t/**\n\t * Runs an auto-animation between the given slides.\n\t *\n\t * @param  {HTMLElement} fromSlide\n\t * @param  {HTMLElement} toSlide\n\t */\n\trun( fromSlide, toSlide ) {\n\n\t\t// Clean up after prior animations\n\t\tthis.reset();\n\n\t\tlet allSlides = this.Reveal.getSlides();\n\t\tlet toSlideIndex = allSlides.indexOf( toSlide );\n\t\tlet fromSlideIndex = allSlides.indexOf( fromSlide );\n\n\t\t// Ensure that both slides are auto-animate targets with the same data-auto-animate-id value\n\t\t// (including null if absent on both) and that data-auto-animate-restart isn't set on the\n\t\t// physically latter slide (independent of slide direction)\n\t\tif( fromSlide.hasAttribute( 'data-auto-animate' ) && toSlide.hasAttribute( 'data-auto-animate' )\n\t\t\t\t&& fromSlide.getAttribute( 'data-auto-animate-id' ) === toSlide.getAttribute( 'data-auto-animate-id' ) \n\t\t\t\t&& !( toSlideIndex > fromSlideIndex ? toSlide : fromSlide ).hasAttribute( 'data-auto-animate-restart' ) ) {\n\n\t\t\t// Create a new auto-animate sheet\n\t\t\tthis.autoAnimateStyleSheet = this.autoAnimateStyleSheet || createStyleSheet();\n\n\t\t\tlet animationOptions = this.getAutoAnimateOptions( toSlide );\n\n\t\t\t// Set our starting state\n\t\t\tfromSlide.dataset.autoAnimate = 'pending';\n\t\t\ttoSlide.dataset.autoAnimate = 'pending';\n\n\t\t\t// Flag the navigation direction, needed for fragment buildup\n\t\t\tanimationOptions.slideDirection = toSlideIndex > fromSlideIndex ? 'forward' : 'backward';\n\n\t\t\t// If the from-slide is hidden because it has moved outside\n\t\t\t// the view distance, we need to temporarily show it while\n\t\t\t// measuring\n\t\t\tlet fromSlideIsHidden = fromSlide.style.display === 'none';\n\t\t\tif( fromSlideIsHidden ) fromSlide.style.display = this.Reveal.getConfig().display;\n\n\t\t\t// Inject our auto-animate styles for this transition\n\t\t\tlet css = this.getAutoAnimatableElements( fromSlide, toSlide ).map( elements => {\n\t\t\t\treturn this.autoAnimateElements( elements.from, elements.to, elements.options || {}, animationOptions, autoAnimateCounter++ );\n\t\t\t} );\n\n\t\t\tif( fromSlideIsHidden ) fromSlide.style.display = 'none';\n\n\t\t\t// Animate unmatched elements, if enabled\n\t\t\tif( toSlide.dataset.autoAnimateUnmatched !== 'false' && this.Reveal.getConfig().autoAnimateUnmatched === true ) {\n\n\t\t\t\t// Our default timings for unmatched elements\n\t\t\t\tlet defaultUnmatchedDuration = animationOptions.duration * 0.8,\n\t\t\t\t\tdefaultUnmatchedDelay = animationOptions.duration * 0.2;\n\n\t\t\t\tthis.getUnmatchedAutoAnimateElements( toSlide ).forEach( unmatchedElement => {\n\n\t\t\t\t\tlet unmatchedOptions = this.getAutoAnimateOptions( unmatchedElement, animationOptions );\n\t\t\t\t\tlet id = 'unmatched';\n\n\t\t\t\t\t// If there is a duration or delay set specifically for this\n\t\t\t\t\t// element our unmatched elements should adhere to those\n\t\t\t\t\tif( unmatchedOptions.duration !== animationOptions.duration || unmatchedOptions.delay !== animationOptions.delay ) {\n\t\t\t\t\t\tid = 'unmatched-' + autoAnimateCounter++;\n\t\t\t\t\t\tcss.push( `[data-auto-animate=\"running\"] [data-auto-animate-target=\"${id}\"] { transition: opacity ${unmatchedOptions.duration}s ease ${unmatchedOptions.delay}s; }` );\n\t\t\t\t\t}\n\n\t\t\t\t\tunmatchedElement.dataset.autoAnimateTarget = id;\n\n\t\t\t\t}, this );\n\n\t\t\t\t// Our default transition for unmatched elements\n\t\t\t\tcss.push( `[data-auto-animate=\"running\"] [data-auto-animate-target=\"unmatched\"] { transition: opacity ${defaultUnmatchedDuration}s ease ${defaultUnmatchedDelay}s; }` );\n\n\t\t\t}\n\n\t\t\t// Setting the whole chunk of CSS at once is the most\n\t\t\t// efficient way to do this. Using sheet.insertRule\n\t\t\t// is multiple factors slower.\n\t\t\tthis.autoAnimateStyleSheet.innerHTML = css.join( '' );\n\n\t\t\t// Start the animation next cycle\n\t\t\trequestAnimationFrame( () => {\n\t\t\t\tif( this.autoAnimateStyleSheet ) {\n\t\t\t\t\t// This forces our newly injected styles to be applied in Firefox\n\t\t\t\t\tgetComputedStyle( this.autoAnimateStyleSheet ).fontWeight;\n\n\t\t\t\t\ttoSlide.dataset.autoAnimate = 'running';\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\tthis.Reveal.dispatchEvent({\n\t\t\t\ttype: 'autoanimate',\n\t\t\t\tdata: {\n\t\t\t\t\tfromSlide,\n\t\t\t\t\ttoSlide,\n\t\t\t\t\tsheet: this.autoAnimateStyleSheet\n\t\t\t\t}\n\t\t\t});\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Rolls back all changes that we've made to the DOM so\n\t * that as part of animating.\n\t */\n\treset() {\n\n\t\t// Reset slides\n\t\tqueryAll( this.Reveal.getRevealElement(), '[data-auto-animate]:not([data-auto-animate=\"\"])' ).forEach( element => {\n\t\t\telement.dataset.autoAnimate = '';\n\t\t} );\n\n\t\t// Reset elements\n\t\tqueryAll( this.Reveal.getRevealElement(), '[data-auto-animate-target]' ).forEach( element => {\n\t\t\tdelete element.dataset.autoAnimateTarget;\n\t\t} );\n\n\t\t// Remove the animation sheet\n\t\tif( this.autoAnimateStyleSheet && this.autoAnimateStyleSheet.parentNode ) {\n\t\t\tthis.autoAnimateStyleSheet.parentNode.removeChild( this.autoAnimateStyleSheet );\n\t\t\tthis.autoAnimateStyleSheet = null;\n\t\t}\n\n\t}\n\n\t/**\n\t * Creates a FLIP animation where the `to` element starts out\n\t * in the `from` element position and animates to its original\n\t * state.\n\t *\n\t * @param {HTMLElement} from\n\t * @param {HTMLElement} to\n\t * @param {Object} elementOptions Options for this element pair\n\t * @param {Object} animationOptions Options set at the slide level\n\t * @param {String} id Unique ID that we can use to identify this\n\t * auto-animate element in the DOM\n\t */\n\tautoAnimateElements( from, to, elementOptions, animationOptions, id ) {\n\n\t\t// 'from' elements are given a data-auto-animate-target with no value,\n\t\t// 'to' elements are are given a data-auto-animate-target with an ID\n\t\tfrom.dataset.autoAnimateTarget = '';\n\t\tto.dataset.autoAnimateTarget = id;\n\n\t\t// Each element may override any of the auto-animate options\n\t\t// like transition easing, duration and delay via data-attributes\n\t\tlet options = this.getAutoAnimateOptions( to, animationOptions );\n\n\t\t// If we're using a custom element matcher the element options\n\t\t// may contain additional transition overrides\n\t\tif( typeof elementOptions.delay !== 'undefined' ) options.delay = elementOptions.delay;\n\t\tif( typeof elementOptions.duration !== 'undefined' ) options.duration = elementOptions.duration;\n\t\tif( typeof elementOptions.easing !== 'undefined' ) options.easing = elementOptions.easing;\n\n\t\tlet fromProps = this.getAutoAnimatableProperties( 'from', from, elementOptions ),\n\t\t\ttoProps = this.getAutoAnimatableProperties( 'to', to, elementOptions );\n\n\t\t// Maintain fragment visibility for matching elements when\n\t\t// we're navigating forwards, this way the viewer won't need\n\t\t// to step through the same fragments twice\n\t\tif( to.classList.contains( 'fragment' ) ) {\n\n\t\t\t// Don't auto-animate the opacity of fragments to avoid\n\t\t\t// conflicts with fragment animations\n\t\t\tdelete toProps.styles['opacity'];\n\n\t\t\tif( from.classList.contains( 'fragment' ) ) {\n\n\t\t\t\tlet fromFragmentStyle = ( from.className.match( FRAGMENT_STYLE_REGEX ) || [''] )[0];\n\t\t\t\tlet toFragmentStyle = ( to.className.match( FRAGMENT_STYLE_REGEX ) || [''] )[0];\n\n\t\t\t\t// Only skip the fragment if the fragment animation style\n\t\t\t\t// remains unchanged\n\t\t\t\tif( fromFragmentStyle === toFragmentStyle && animationOptions.slideDirection === 'forward' ) {\n\t\t\t\t\tto.classList.add( 'visible', 'disabled' );\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// If translation and/or scaling are enabled, css transform\n\t\t// the 'to' element so that it matches the position and size\n\t\t// of the 'from' element\n\t\tif( elementOptions.translate !== false || elementOptions.scale !== false ) {\n\n\t\t\tlet presentationScale = this.Reveal.getScale();\n\n\t\t\tlet delta = {\n\t\t\t\tx: ( fromProps.x - toProps.x ) / presentationScale,\n\t\t\t\ty: ( fromProps.y - toProps.y ) / presentationScale,\n\t\t\t\tscaleX: fromProps.width / toProps.width,\n\t\t\t\tscaleY: fromProps.height / toProps.height\n\t\t\t};\n\n\t\t\t// Limit decimal points to avoid 0.0001px blur and stutter\n\t\t\tdelta.x = Math.round( delta.x * 1000 ) / 1000;\n\t\t\tdelta.y = Math.round( delta.y * 1000 ) / 1000;\n\t\t\tdelta.scaleX = Math.round( delta.scaleX * 1000 ) / 1000;\n\t\t\tdelta.scaleX = Math.round( delta.scaleX * 1000 ) / 1000;\n\n\t\t\tlet translate = elementOptions.translate !== false && ( delta.x !== 0 || delta.y !== 0 ),\n\t\t\t\tscale = elementOptions.scale !== false && ( delta.scaleX !== 0 || delta.scaleY !== 0 );\n\n\t\t\t// No need to transform if nothing's changed\n\t\t\tif( translate || scale ) {\n\n\t\t\t\tlet transform = [];\n\n\t\t\t\tif( translate ) transform.push( `translate(${delta.x}px, ${delta.y}px)` );\n\t\t\t\tif( scale ) transform.push( `scale(${delta.scaleX}, ${delta.scaleY})` );\n\n\t\t\t\tfromProps.styles['transform'] = transform.join( ' ' );\n\t\t\t\tfromProps.styles['transform-origin'] = 'top left';\n\n\t\t\t\ttoProps.styles['transform'] = 'none';\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Delete all unchanged 'to' styles\n\t\tfor( let propertyName in toProps.styles ) {\n\t\t\tconst toValue = toProps.styles[propertyName];\n\t\t\tconst fromValue = fromProps.styles[propertyName];\n\n\t\t\tif( toValue === fromValue ) {\n\t\t\t\tdelete toProps.styles[propertyName];\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// If these property values were set via a custom matcher providing\n\t\t\t\t// an explicit 'from' and/or 'to' value, we always inject those values.\n\t\t\t\tif( toValue.explicitValue === true ) {\n\t\t\t\t\ttoProps.styles[propertyName] = toValue.value;\n\t\t\t\t}\n\n\t\t\t\tif( fromValue.explicitValue === true ) {\n\t\t\t\t\tfromProps.styles[propertyName] = fromValue.value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tlet css = '';\n\n\t\tlet toStyleProperties = Object.keys( toProps.styles );\n\n\t\t// Only create animate this element IF at least one style\n\t\t// property has changed\n\t\tif( toStyleProperties.length > 0 ) {\n\n\t\t\t// Instantly move to the 'from' state\n\t\t\tfromProps.styles['transition'] = 'none';\n\n\t\t\t// Animate towards the 'to' state\n\t\t\ttoProps.styles['transition'] = `all ${options.duration}s ${options.easing} ${options.delay}s`;\n\t\t\ttoProps.styles['transition-property'] = toStyleProperties.join( ', ' );\n\t\t\ttoProps.styles['will-change'] = toStyleProperties.join( ', ' );\n\n\t\t\t// Build up our custom CSS. We need to override inline styles\n\t\t\t// so we need to make our styles vErY IMPORTANT!1!!\n\t\t\tlet fromCSS = Object.keys( fromProps.styles ).map( propertyName => {\n\t\t\t\treturn propertyName + ': ' + fromProps.styles[propertyName] + ' !important;';\n\t\t\t} ).join( '' );\n\n\t\t\tlet toCSS = Object.keys( toProps.styles ).map( propertyName => {\n\t\t\t\treturn propertyName + ': ' + toProps.styles[propertyName] + ' !important;';\n\t\t\t} ).join( '' );\n\n\t\t\tcss = \t'[data-auto-animate-target=\"'+ id +'\"] {'+ fromCSS +'}' +\n\t\t\t\t\t'[data-auto-animate=\"running\"] [data-auto-animate-target=\"'+ id +'\"] {'+ toCSS +'}';\n\n\t\t}\n\n\t\treturn css;\n\n\t}\n\n\t/**\n\t * Returns the auto-animate options for the given element.\n\t *\n\t * @param {HTMLElement} element Element to pick up options\n\t * from, either a slide or an animation target\n\t * @param {Object} [inheritedOptions] Optional set of existing\n\t * options\n\t */\n\tgetAutoAnimateOptions( element, inheritedOptions ) {\n\n\t\tlet options = {\n\t\t\teasing: this.Reveal.getConfig().autoAnimateEasing,\n\t\t\tduration: this.Reveal.getConfig().autoAnimateDuration,\n\t\t\tdelay: 0\n\t\t};\n\n\t\toptions = extend( options, inheritedOptions );\n\n\t\t// Inherit options from parent elements\n\t\tif( element.parentNode ) {\n\t\t\tlet autoAnimatedParent = closest( element.parentNode, '[data-auto-animate-target]' );\n\t\t\tif( autoAnimatedParent ) {\n\t\t\t\toptions = this.getAutoAnimateOptions( autoAnimatedParent, options );\n\t\t\t}\n\t\t}\n\n\t\tif( element.dataset.autoAnimateEasing ) {\n\t\t\toptions.easing = element.dataset.autoAnimateEasing;\n\t\t}\n\n\t\tif( element.dataset.autoAnimateDuration ) {\n\t\t\toptions.duration = parseFloat( element.dataset.autoAnimateDuration );\n\t\t}\n\n\t\tif( element.dataset.autoAnimateDelay ) {\n\t\t\toptions.delay = parseFloat( element.dataset.autoAnimateDelay );\n\t\t}\n\n\t\treturn options;\n\n\t}\n\n\t/**\n\t * Returns an object containing all of the properties\n\t * that can be auto-animated for the given element and\n\t * their current computed values.\n\t *\n\t * @param {String} direction 'from' or 'to'\n\t */\n\tgetAutoAnimatableProperties( direction, element, elementOptions ) {\n\n\t\tlet config = this.Reveal.getConfig();\n\n\t\tlet properties = { styles: [] };\n\n\t\t// Position and size\n\t\tif( elementOptions.translate !== false || elementOptions.scale !== false ) {\n\t\t\tlet bounds;\n\n\t\t\t// Custom auto-animate may optionally return a custom tailored\n\t\t\t// measurement function\n\t\t\tif( typeof elementOptions.measure === 'function' ) {\n\t\t\t\tbounds = elementOptions.measure( element );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif( config.center ) {\n\t\t\t\t\t// More precise, but breaks when used in combination\n\t\t\t\t\t// with zoom for scaling the deck ¯\\_(ツ)_/¯\n\t\t\t\t\tbounds = element.getBoundingClientRect();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tlet scale = this.Reveal.getScale();\n\t\t\t\t\tbounds = {\n\t\t\t\t\t\tx: element.offsetLeft * scale,\n\t\t\t\t\t\ty: element.offsetTop * scale,\n\t\t\t\t\t\twidth: element.offsetWidth * scale,\n\t\t\t\t\t\theight: element.offsetHeight * scale\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tproperties.x = bounds.x;\n\t\t\tproperties.y = bounds.y;\n\t\t\tproperties.width = bounds.width;\n\t\t\tproperties.height = bounds.height;\n\t\t}\n\n\t\tconst computedStyles = getComputedStyle( element );\n\n\t\t// CSS styles\n\t\t( elementOptions.styles || config.autoAnimateStyles ).forEach( style => {\n\t\t\tlet value;\n\n\t\t\t// `style` is either the property name directly, or an object\n\t\t\t// definition of a style property\n\t\t\tif( typeof style === 'string' ) style = { property: style };\n\n\t\t\tif( typeof style.from !== 'undefined' && direction === 'from' ) {\n\t\t\t\tvalue = { value: style.from, explicitValue: true };\n\t\t\t}\n\t\t\telse if( typeof style.to !== 'undefined' && direction === 'to' ) {\n\t\t\t\tvalue = { value: style.to, explicitValue: true };\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Use a unitless value for line-height so that it inherits properly\n\t\t\t\tif( style.property === 'line-height' ) {\n\t\t\t\t\tvalue = parseFloat( computedStyles['line-height'] ) / parseFloat( computedStyles['font-size'] );\n\t\t\t\t}\n\n\t\t\t\tif( isNaN(value) ) {\n\t\t\t\t\tvalue = computedStyles[style.property];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif( value !== '' ) {\n\t\t\t\tproperties.styles[style.property] = value;\n\t\t\t}\n\t\t} );\n\n\t\treturn properties;\n\n\t}\n\n\t/**\n\t * Get a list of all element pairs that we can animate\n\t * between the given slides.\n\t *\n\t * @param {HTMLElement} fromSlide\n\t * @param {HTMLElement} toSlide\n\t *\n\t * @return {Array} Each value is an array where [0] is\n\t * the element we're animating from and [1] is the\n\t * element we're animating to\n\t */\n\tgetAutoAnimatableElements( fromSlide, toSlide ) {\n\n\t\tlet matcher = typeof this.Reveal.getConfig().autoAnimateMatcher === 'function' ? this.Reveal.getConfig().autoAnimateMatcher : this.getAutoAnimatePairs;\n\n\t\tlet pairs = matcher.call( this, fromSlide, toSlide );\n\n\t\tlet reserved = [];\n\n\t\t// Remove duplicate pairs\n\t\treturn pairs.filter( ( pair, index ) => {\n\t\t\tif( reserved.indexOf( pair.to ) === -1 ) {\n\t\t\t\treserved.push( pair.to );\n\t\t\t\treturn true;\n\t\t\t}\n\t\t} );\n\n\t}\n\n\t/**\n\t * Identifies matching elements between slides.\n\t *\n\t * You can specify a custom matcher function by using\n\t * the `autoAnimateMatcher` config option.\n\t */\n\tgetAutoAnimatePairs( fromSlide, toSlide ) {\n\n\t\tlet pairs = [];\n\n\t\tconst codeNodes = 'pre';\n\t\tconst textNodes = 'h1, h2, h3, h4, h5, h6, p, li';\n\t\tconst mediaNodes = 'img, video, iframe';\n\n\t\t// Explicit matches via data-id\n\t\tthis.findAutoAnimateMatches( pairs, fromSlide, toSlide, '[data-id]', node => {\n\t\t\treturn node.nodeName + ':::' + node.getAttribute( 'data-id' );\n\t\t} );\n\n\t\t// Text\n\t\tthis.findAutoAnimateMatches( pairs, fromSlide, toSlide, textNodes, node => {\n\t\t\treturn node.nodeName + ':::' + node.innerText;\n\t\t} );\n\n\t\t// Media\n\t\tthis.findAutoAnimateMatches( pairs, fromSlide, toSlide, mediaNodes, node => {\n\t\t\treturn node.nodeName + ':::' + ( node.getAttribute( 'src' ) || node.getAttribute( 'data-src' ) );\n\t\t} );\n\n\t\t// Code\n\t\tthis.findAutoAnimateMatches( pairs, fromSlide, toSlide, codeNodes, node => {\n\t\t\treturn node.nodeName + ':::' + node.innerText;\n\t\t} );\n\n\t\tpairs.forEach( pair => {\n\t\t\t// Disable scale transformations on text nodes, we transition\n\t\t\t// each individual text property instead\n\t\t\tif( matches( pair.from, textNodes ) ) {\n\t\t\t\tpair.options = { scale: false };\n\t\t\t}\n\t\t\t// Animate individual lines of code\n\t\t\telse if( matches( pair.from, codeNodes ) ) {\n\n\t\t\t\t// Transition the code block's width and height instead of scaling\n\t\t\t\t// to prevent its content from being squished\n\t\t\t\tpair.options = { scale: false, styles: [ 'width', 'height' ] };\n\n\t\t\t\t// Lines of code\n\t\t\t\tthis.findAutoAnimateMatches( pairs, pair.from, pair.to, '.hljs .hljs-ln-code', node => {\n\t\t\t\t\treturn node.textContent;\n\t\t\t\t}, {\n\t\t\t\t\tscale: false,\n\t\t\t\t\tstyles: [],\n\t\t\t\t\tmeasure: this.getLocalBoundingBox.bind( this )\n\t\t\t\t} );\n\n\t\t\t\t// Line numbers\n\t\t\t\tthis.findAutoAnimateMatches( pairs, pair.from, pair.to, '.hljs .hljs-ln-numbers[data-line-number]', node => {\n\t\t\t\t\treturn node.getAttribute( 'data-line-number' );\n\t\t\t\t}, {\n\t\t\t\t\tscale: false,\n\t\t\t\t\tstyles: [ 'width' ],\n\t\t\t\t\tmeasure: this.getLocalBoundingBox.bind( this )\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t}, this );\n\n\t\treturn pairs;\n\n\t}\n\n\t/**\n\t * Helper method which returns a bounding box based on\n\t * the given elements offset coordinates.\n\t *\n\t * @param {HTMLElement} element\n\t * @return {Object} x, y, width, height\n\t */\n\tgetLocalBoundingBox( element ) {\n\n\t\tconst presentationScale = this.Reveal.getScale();\n\n\t\treturn {\n\t\t\tx: Math.round( ( element.offsetLeft * presentationScale ) * 100 ) / 100,\n\t\t\ty: Math.round( ( element.offsetTop * presentationScale ) * 100 ) / 100,\n\t\t\twidth: Math.round( ( element.offsetWidth * presentationScale ) * 100 ) / 100,\n\t\t\theight: Math.round( ( element.offsetHeight * presentationScale ) * 100 ) / 100\n\t\t};\n\n\t}\n\n\t/**\n\t * Finds matching elements between two slides.\n\t *\n\t * @param {Array} pairs            \tList of pairs to push matches to\n\t * @param {HTMLElement} fromScope   Scope within the from element exists\n\t * @param {HTMLElement} toScope     Scope within the to element exists\n\t * @param {String} selector         CSS selector of the element to match\n\t * @param {Function} serializer     A function that accepts an element and returns\n\t *                                  a stringified ID based on its contents\n\t * @param {Object} animationOptions Optional config options for this pair\n\t */\n\tfindAutoAnimateMatches( pairs, fromScope, toScope, selector, serializer, animationOptions ) {\n\n\t\tlet fromMatches = {};\n\t\tlet toMatches = {};\n\n\t\t[].slice.call( fromScope.querySelectorAll( selector ) ).forEach( ( element, i ) => {\n\t\t\tconst key = serializer( element );\n\t\t\tif( typeof key === 'string' && key.length ) {\n\t\t\t\tfromMatches[key] = fromMatches[key] || [];\n\t\t\t\tfromMatches[key].push( element );\n\t\t\t}\n\t\t} );\n\n\t\t[].slice.call( toScope.querySelectorAll( selector ) ).forEach( ( element, i ) => {\n\t\t\tconst key = serializer( element );\n\t\t\ttoMatches[key] = toMatches[key] || [];\n\t\t\ttoMatches[key].push( element );\n\n\t\t\tlet fromElement;\n\n\t\t\t// Retrieve the 'from' element\n\t\t\tif( fromMatches[key] ) {\n\t\t\t\tconst primaryIndex = toMatches[key].length - 1;\n\t\t\t\tconst secondaryIndex = fromMatches[key].length - 1;\n\n\t\t\t\t// If there are multiple identical from elements, retrieve\n\t\t\t\t// the one at the same index as our to-element.\n\t\t\t\tif( fromMatches[key][ primaryIndex ] ) {\n\t\t\t\t\tfromElement = fromMatches[key][ primaryIndex ];\n\t\t\t\t\tfromMatches[key][ primaryIndex ] = null;\n\t\t\t\t}\n\t\t\t\t// If there are no matching from-elements at the same index,\n\t\t\t\t// use the last one.\n\t\t\t\telse if( fromMatches[key][ secondaryIndex ] ) {\n\t\t\t\t\tfromElement = fromMatches[key][ secondaryIndex ];\n\t\t\t\t\tfromMatches[key][ secondaryIndex ] = null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// If we've got a matching pair, push it to the list of pairs\n\t\t\tif( fromElement ) {\n\t\t\t\tpairs.push({\n\t\t\t\t\tfrom: fromElement,\n\t\t\t\t\tto: element,\n\t\t\t\t\toptions: animationOptions\n\t\t\t\t});\n\t\t\t}\n\t\t} );\n\n\t}\n\n\t/**\n\t * Returns a all elements within the given scope that should\n\t * be considered unmatched in an auto-animate transition. If\n\t * fading of unmatched elements is turned on, these elements\n\t * will fade when going between auto-animate slides.\n\t *\n\t * Note that parents of auto-animate targets are NOT considered\n\t * unmatched since fading them would break the auto-animation.\n\t *\n\t * @param {HTMLElement} rootElement\n\t * @return {Array}\n\t */\n\tgetUnmatchedAutoAnimateElements( rootElement ) {\n\n\t\treturn [].slice.call( rootElement.children ).reduce( ( result, element ) => {\n\n\t\t\tconst containsAnimatedElements = element.querySelector( '[data-auto-animate-target]' );\n\n\t\t\t// The element is unmatched if\n\t\t\t// - It is not an auto-animate target\n\t\t\t// - It does not contain any auto-animate targets\n\t\t\tif( !element.hasAttribute( 'data-auto-animate-target' ) && !containsAnimatedElements ) {\n\t\t\t\tresult.push( element );\n\t\t\t}\n\n\t\t\tif( element.querySelector( '[data-auto-animate-target]' ) ) {\n\t\t\t\tresult = result.concat( this.getUnmatchedAutoAnimateElements( element ) );\n\t\t\t}\n\n\t\t\treturn result;\n\n\t\t}, [] );\n\n\t}\n\n}\n","import { HORIZONTAL_SLIDES_SELECTOR } from '../utils/constants.js'\nimport { queryAll } from '../utils/util.js'\n\nconst HIDE_SCROLLBAR_TIMEOUT = 500;\nconst MAX_PROGRESS_SPACING = 4;\nconst MIN_PROGRESS_SEGMENT_HEIGHT = 6;\nconst MIN_PLAYHEAD_HEIGHT = 8;\n\n/**\n * The scroll view lets you read a reveal.js presentation\n * as a linear scrollable page.\n */\nexport default class ScrollView {\n\n\tconstructor( Reveal ) {\n\n\t\tthis.Reveal = Reveal;\n\n\t\tthis.active = false;\n\t\tthis.activatedCallbacks = [];\n\n\t\tthis.onScroll = this.onScroll.bind( this );\n\n\t}\n\n\t/**\n\t * Activates the scroll view. This rearranges the presentation DOM\n\t * by—among other things—wrapping each slide in a page element.\n\t */\n\tactivate() {\n\n\t\tif( this.active ) return;\n\n\t\tconst stateBeforeActivation = this.Reveal.getState();\n\n\t\tthis.active = true;\n\n\t\t// Store the full presentation HTML so that we can restore it\n\t\t// when/if the scroll view is deactivated\n\t\tthis.slideHTMLBeforeActivation = this.Reveal.getSlidesElement().innerHTML;\n\n\t\tconst horizontalSlides = queryAll( this.Reveal.getRevealElement(), HORIZONTAL_SLIDES_SELECTOR );\n\n\t\tthis.viewportElement.classList.add( 'loading-scroll-mode', 'reveal-scroll' );\n\n\t\tlet presentationBackground;\n\n\t\tconst viewportStyles = window.getComputedStyle( this.viewportElement );\n\t\tif( viewportStyles && viewportStyles.background ) {\n\t\t\tpresentationBackground = viewportStyles.background;\n\t\t}\n\n\t\tconst pageElements = [];\n\t\tconst pageContainer = horizontalSlides[0].parentNode;\n\n\t\tlet previousSlide;\n\n\t\t// Creates a new page element and appends the given slide/bg\n\t\t// to it.\n\t\tconst createPageElement = ( slide, h, v ) => {\n\n\t\t\tlet contentContainer;\n\n\t\t\t// If this slide is part of an auto-animation sequence, we\n\t\t\t// group it under the same page element as the previous slide\n\t\t\tif( previousSlide && this.Reveal.shouldAutoAnimateBetween( previousSlide, slide ) ) {\n\t\t\t\tcontentContainer = document.createElement( 'div' );\n\t\t\t\tcontentContainer.className = 'scroll-page-content scroll-auto-animate-page';\n\t\t\t\tcontentContainer.style.display = 'none';\n\t\t\t\tpreviousSlide.closest( '.scroll-page-content' ).parentNode.appendChild( contentContainer );\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Wrap the slide in a page element and hide its overflow\n\t\t\t\t// so that no page ever flows onto another\n\t\t\t\tconst page = document.createElement( 'div' );\n\t\t\t\tpage.className = 'scroll-page';\n\t\t\t\tpageElements.push( page );\n\n\t\t\t\t// Copy the presentation-wide background to each page\n\t\t\t\tif( presentationBackground ) {\n\t\t\t\t\tpage.style.background = presentationBackground;\n\t\t\t\t}\n\n\t\t\t\tconst stickyContainer = document.createElement( 'div' );\n\t\t\t\tstickyContainer.className = 'scroll-page-sticky';\n\t\t\t\tpage.appendChild( stickyContainer );\n\n\t\t\t\tcontentContainer = document.createElement( 'div' );\n\t\t\t\tcontentContainer.className = 'scroll-page-content';\n\t\t\t\tstickyContainer.appendChild( contentContainer );\n\t\t\t}\n\n\t\t\tcontentContainer.appendChild( slide );\n\n\t\t\tslide.classList.remove( 'past', 'future' );\n\t\t\tslide.setAttribute( 'data-index-h', h );\n\t\t\tslide.setAttribute( 'data-index-v', v );\n\n\t\t\tif( slide.slideBackgroundElement ) {\n\t\t\t\tslide.slideBackgroundElement.remove( 'past', 'future' );\n\t\t\t\tcontentContainer.insertBefore( slide.slideBackgroundElement, slide );\n\t\t\t}\n\n\t\t\tpreviousSlide = slide;\n\n\t\t}\n\n\t\t// Slide and slide background layout\n\t\thorizontalSlides.forEach( ( horizontalSlide, h ) => {\n\n\t\t\tif( this.Reveal.isVerticalStack( horizontalSlide ) ) {\n\t\t\t\thorizontalSlide.querySelectorAll( 'section' ).forEach( ( verticalSlide, v ) => {\n\t\t\t\t\tcreatePageElement( verticalSlide, h, v );\n\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcreatePageElement( horizontalSlide, h, 0 );\n\t\t\t}\n\n\t\t}, this );\n\n\t\tthis.createProgressBar();\n\n\t\t// Remove leftover stacks\n\t\tqueryAll( this.Reveal.getRevealElement(), '.stack' ).forEach( stack => stack.remove() );\n\n\t\t// Add our newly created pages to the DOM\n\t\tpageElements.forEach( page => pageContainer.appendChild( page ) );\n\n\t\t// Re-run JS-based content layout after the slide is added to page DOM\n\t\tthis.Reveal.slideContent.layout( this.Reveal.getSlidesElement() );\n\n\t\tthis.Reveal.layout();\n\t\tthis.Reveal.setState( stateBeforeActivation );\n\n\t\tthis.activatedCallbacks.forEach( callback => callback() );\n\t\tthis.activatedCallbacks = [];\n\n\t\tthis.restoreScrollPosition();\n\n\t\tthis.viewportElement.classList.remove( 'loading-scroll-mode' );\n\t\tthis.viewportElement.addEventListener( 'scroll', this.onScroll, { passive: true } );\n\n\t}\n\n\t/**\n\t * Deactivates the scroll view and restores the standard slide-based\n\t * presentation.\n\t */\n\tdeactivate() {\n\n\t\tif( !this.active ) return;\n\n\t\tconst stateBeforeDeactivation = this.Reveal.getState();\n\n\t\tthis.active = false;\n\n\t\tthis.viewportElement.removeEventListener( 'scroll', this.onScroll );\n\t\tthis.viewportElement.classList.remove( 'reveal-scroll' );\n\n\t\tthis.removeProgressBar();\n\n\t\tthis.Reveal.getSlidesElement().innerHTML = this.slideHTMLBeforeActivation;\n\t\tthis.Reveal.sync();\n\t\tthis.Reveal.setState( stateBeforeDeactivation );\n\n\t\tthis.slideHTMLBeforeActivation = null;\n\n\t}\n\n\ttoggle( override ) {\n\n\t\tif( typeof override === 'boolean' ) {\n\t\t\toverride ? this.activate() : this.deactivate();\n\t\t}\n\t\telse {\n\t\t\tthis.isActive() ? this.deactivate() : this.activate();\n\t\t}\n\n\t}\n\n\t/**\n\t * Checks if the scroll view is currently active.\n\t */\n\tisActive() {\n\n\t\treturn this.active;\n\n\t}\n\n\t/**\n\t * Renders the progress bar component.\n\t */\n\tcreateProgressBar() {\n\n\t\tthis.progressBar = document.createElement( 'div' );\n\t\tthis.progressBar.className = 'scrollbar';\n\n\t\tthis.progressBarInner = document.createElement( 'div' );\n\t\tthis.progressBarInner.className = 'scrollbar-inner';\n\t\tthis.progressBar.appendChild( this.progressBarInner );\n\n\t\tthis.progressBarPlayhead = document.createElement( 'div' );\n\t\tthis.progressBarPlayhead.className = 'scrollbar-playhead';\n\t\tthis.progressBarInner.appendChild( this.progressBarPlayhead );\n\n\t\tthis.viewportElement.insertBefore( this.progressBar, this.viewportElement.firstChild );\n\n\t\tconst handleDocumentMouseMove\t= ( event ) => {\n\n\t\t\tlet progress = ( event.clientY - this.progressBarInner.getBoundingClientRect().top ) / this.progressBarHeight;\n\t\t\tprogress = Math.max( Math.min( progress, 1 ), 0 );\n\n\t\t\tthis.viewportElement.scrollTop = progress * ( this.viewportElement.scrollHeight - this.viewportElement.offsetHeight );\n\n\t\t};\n\n\t\tconst handleDocumentMouseUp = ( event ) => {\n\n\t\t\tthis.draggingProgressBar = false;\n\t\t\tthis.showProgressBar();\n\n\t\t\tdocument.removeEventListener( 'mousemove', handleDocumentMouseMove );\n\t\t\tdocument.removeEventListener( 'mouseup', handleDocumentMouseUp );\n\n\t\t};\n\n\t\tconst handleMouseDown = ( event ) => {\n\n\t\t\tevent.preventDefault();\n\n\t\t\tthis.draggingProgressBar = true;\n\n\t\t\tdocument.addEventListener( 'mousemove', handleDocumentMouseMove );\n\t\t\tdocument.addEventListener( 'mouseup', handleDocumentMouseUp );\n\n\t\t\thandleDocumentMouseMove( event );\n\n\t\t};\n\n\t\tthis.progressBarInner.addEventListener( 'mousedown', handleMouseDown );\n\n\t}\n\n\tremoveProgressBar() {\n\n\t\tif( this.progressBar ) {\n\t\t\tthis.progressBar.remove();\n\t\t\tthis.progressBar = null;\n\t\t}\n\n\t}\n\n\tlayout() {\n\n\t\tif( this.isActive() ) {\n\t\t\tthis.syncPages();\n\t\t\tthis.syncScrollPosition();\n\t\t}\n\n\t}\n\n\t/**\n\t * Updates our pages to match the latest configuration and\n\t * presentation size.\n\t */\n\tsyncPages() {\n\n\t\tconst config = this.Reveal.getConfig();\n\n\t\tconst slideSize = this.Reveal.getComputedSlideSize( window.innerWidth, window.innerHeight );\n\t\tconst scale = this.Reveal.getScale();\n\t\tconst useCompactLayout = config.scrollLayout === 'compact';\n\n\t\tconst viewportHeight = this.viewportElement.offsetHeight;\n\t\tconst compactHeight = slideSize.height * scale;\n\t\tconst pageHeight = useCompactLayout ? compactHeight : viewportHeight;\n\n\t\t// The height that needs to be scrolled between scroll triggers\n\t\tconst scrollTriggerHeight = useCompactLayout ? compactHeight : viewportHeight;\n\n\t\tthis.viewportElement.style.setProperty( '--page-height', pageHeight + 'px' );\n\t\tthis.viewportElement.style.scrollSnapType = typeof config.scrollSnap === 'string' ? `y ${config.scrollSnap}` : '';\n\n\t\t// This will hold all scroll triggers used to show/hide slides\n\t\tthis.slideTriggers = [];\n\n\t\tconst pageElements = Array.from( this.Reveal.getRevealElement().querySelectorAll( '.scroll-page' ) );\n\n\t\tthis.pages = pageElements.map( pageElement => {\n\t\t\tconst page = this.createPage({\n\t\t\t\tpageElement,\n\t\t\t\tslideElement: pageElement.querySelector( 'section' ),\n\t\t\t\tstickyElement: pageElement.querySelector( '.scroll-page-sticky' ),\n\t\t\t\tcontentElement: pageElement.querySelector( '.scroll-page-content' ),\n\t\t\t\tbackgroundElement: pageElement.querySelector( '.slide-background' ),\n\t\t\t\tautoAnimateElements: pageElement.querySelectorAll( '.scroll-auto-animate-page' ),\n\t\t\t\tautoAnimatePages: []\n\t\t\t});\n\n\t\t\tpage.pageElement.style.setProperty( '--slide-height', config.center === true ? 'auto' : slideSize.height + 'px' );\n\n\t\t\tthis.slideTriggers.push({\n\t\t\t\tpage: page,\n\t\t\t\tactivate: () => this.activatePage( page ),\n\t\t\t\tdeactivate: () => this.deactivatePage( page )\n\t\t\t});\n\n\t\t\t// Create scroll triggers that show/hide fragments\n\t\t\tthis.createFragmentTriggersForPage( page );\n\n\t\t\t// Create scroll triggers for triggering auto-animate steps\n\t\t\tif( page.autoAnimateElements.length > 0 ) {\n\t\t\t\tthis.createAutoAnimateTriggersForPage( page );\n\t\t\t}\n\n\t\t\tlet totalScrollTriggerCount = Math.max( page.scrollTriggers.length - 1, 0 );\n\n\t\t\t// Each auto-animate step may include its own scroll triggers\n\t\t\t// for fragments, ensure we count those as well\n\t\t\ttotalScrollTriggerCount += page.autoAnimatePages.reduce( ( total, page ) => {\n\t\t\t\treturn total + Math.max( page.scrollTriggers.length - 1, 0 );\n\t\t\t}, page.autoAnimatePages.length );\n\n\t\t\t// Clean up from previous renders\n\t\t\tpage.pageElement.querySelectorAll( '.scroll-snap-point' ).forEach( el => el.remove() );\n\n\t\t\t// Create snap points for all scroll triggers\n\t\t\t// - Can't be absolute in FF\n\t\t\t// - Can't be 0-height in Safari\n\t\t\t// - Can't use snap-align on parent in Safari because then\n\t\t\t//   inner triggers won't work\n\t\t\tfor( let i = 0; i < totalScrollTriggerCount + 1; i++ ) {\n\t\t\t\tconst triggerStick = document.createElement( 'div' );\n\t\t\t\ttriggerStick.className = 'scroll-snap-point';\n\t\t\t\ttriggerStick.style.height = scrollTriggerHeight + 'px';\n\t\t\t\ttriggerStick.style.scrollSnapAlign = useCompactLayout ? 'center' : 'start';\n\t\t\t\tpage.pageElement.appendChild( triggerStick );\n\n\t\t\t\tif( i === 0 ) {\n\t\t\t\t\ttriggerStick.style.marginTop = -scrollTriggerHeight + 'px';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// In the compact layout, only slides with scroll triggers cover the\n\t\t\t// full viewport height. This helps avoid empty gaps before or after\n\t\t\t// a sticky slide.\n\t\t\tif( useCompactLayout && page.scrollTriggers.length > 0 ) {\n\t\t\t\tpage.pageHeight = viewportHeight;\n\t\t\t\tpage.pageElement.style.setProperty( '--page-height', viewportHeight + 'px' );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tpage.pageHeight = pageHeight;\n\t\t\t\tpage.pageElement.style.removeProperty( '--page-height' );\n\t\t\t}\n\n\t\t\t// Add scroll padding based on how many scroll triggers we have\n\t\t\tpage.scrollPadding = scrollTriggerHeight * totalScrollTriggerCount;\n\n\t\t\t// The total height including scrollable space\n\t\t\tpage.totalHeight = page.pageHeight + page.scrollPadding;\n\n\t\t\t// This is used to pad the height of our page in CSS\n\t\t\tpage.pageElement.style.setProperty( '--page-scroll-padding', page.scrollPadding + 'px' );\n\n\t\t\t// If this is a sticky page, stick it to the vertical center\n\t\t\tif( totalScrollTriggerCount > 0 ) {\n\t\t\t\tpage.stickyElement.style.position = 'sticky';\n\t\t\t\tpage.stickyElement.style.top = Math.max( ( viewportHeight - page.pageHeight ) / 2, 0 ) + 'px';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tpage.stickyElement.style.position = 'relative';\n\t\t\t\tpage.pageElement.style.scrollSnapAlign = page.pageHeight < viewportHeight ? 'center' : 'start';\n\t\t\t}\n\n\t\t\treturn page;\n\t\t} );\n\n\t\tthis.setTriggerRanges();\n\n\t\t/*\n\t\tconsole.log(this.slideTriggers.map( t => {\n\t\t\treturn {\n\t\t\t\trange: `${t.range[0].toFixed(2)}-${t.range[1].toFixed(2)}`,\n\t\t\t\ttriggers: t.page.scrollTriggers.map( t => {\n\t\t\t\t\treturn `${t.range[0].toFixed(2)}-${t.range[1].toFixed(2)}`\n\t\t\t\t}).join( ', ' ),\n\t\t\t}\n\t\t}))\n\t\t*/\n\n\t\tthis.viewportElement.setAttribute( 'data-scrollbar', config.scrollProgress );\n\n\t\tif( config.scrollProgress && this.totalScrollTriggerCount > 1 ) {\n\t\t\t// Create the progress bar if it doesn't already exist\n\t\t\tif( !this.progressBar ) this.createProgressBar();\n\n\t\t\tthis.syncProgressBar();\n\t\t}\n\t\telse {\n\t\t\tthis.removeProgressBar();\n\t\t}\n\n\t}\n\n\t/**\n\t * Calculates and sets the scroll range for all of our scroll\n\t * triggers.\n\t */\n\tsetTriggerRanges() {\n\n\t\t// Calculate the total number of scroll triggers\n\t\tthis.totalScrollTriggerCount = this.slideTriggers.reduce( ( total, trigger ) => {\n\t\t\treturn total + Math.max( trigger.page.scrollTriggers.length, 1 );\n\t\t}, 0 );\n\n\t\tlet rangeStart = 0;\n\n\t\t// Calculate the scroll range of each scroll trigger on a scale\n\t\t// of 0-1\n\t\tthis.slideTriggers.forEach( ( trigger, i ) => {\n\t\t\ttrigger.range = [\n\t\t\t\trangeStart,\n\t\t\t\trangeStart + Math.max( trigger.page.scrollTriggers.length, 1 ) / this.totalScrollTriggerCount\n\t\t\t];\n\n\t\t\tconst scrollTriggerSegmentSize = ( trigger.range[1] - trigger.range[0] ) / trigger.page.scrollTriggers.length;\n\t\t\t// Set the range for each inner scroll trigger\n\t\t\ttrigger.page.scrollTriggers.forEach( ( scrollTrigger, i ) => {\n\t\t\t\tscrollTrigger.range = [\n\t\t\t\t\trangeStart + i * scrollTriggerSegmentSize,\n\t\t\t\t\trangeStart + ( i + 1 ) * scrollTriggerSegmentSize\n\t\t\t\t];\n\t\t\t} );\n\n\t\t\trangeStart = trigger.range[1];\n\t\t} );\n\n\t}\n\n\t/**\n\t * Creates one scroll trigger for each fragments in the given page.\n\t *\n\t * @param {*} page\n\t */\n\tcreateFragmentTriggersForPage( page, slideElement ) {\n\n\t\tslideElement = slideElement || page.slideElement;\n\n\t\t// Each fragment 'group' is an array containing one or more\n\t\t// fragments. Multiple fragments that appear at the same time\n\t\t// are part of the same group.\n\t\tconst fragmentGroups = this.Reveal.fragments.sort( slideElement.querySelectorAll( '.fragment' ), true );\n\n\t\t// Create scroll triggers that show/hide fragments\n\t\tif( fragmentGroups.length ) {\n\t\t\tpage.fragments = this.Reveal.fragments.sort( slideElement.querySelectorAll( '.fragment:not(.disabled)' ) );\n\t\t\tpage.scrollTriggers.push(\n\t\t\t\t// Trigger for the initial state with no fragments visible\n\t\t\t\t{\n\t\t\t\t\tactivate: () => {\n\t\t\t\t\t\tthis.Reveal.fragments.update( -1, page.fragments, slideElement );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\n\t\t\t// Triggers for each fragment group\n\t\t\tfragmentGroups.forEach( ( fragments, i ) => {\n\t\t\t\tpage.scrollTriggers.push({\n\t\t\t\t\tactivate: () => {\n\t\t\t\t\t\tthis.Reveal.fragments.update( i, page.fragments, slideElement );\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} );\n\t\t}\n\n\n\t\treturn page.scrollTriggers.length;\n\n\t}\n\n\t/**\n\t * Creates scroll triggers for the auto-animate steps in the\n\t * given page.\n\t *\n\t * @param {*} page\n\t */\n\tcreateAutoAnimateTriggersForPage( page ) {\n\n\t\tif( page.autoAnimateElements.length > 0 ) {\n\n\t\t\t// Triggers for each subsequent auto-animate slide\n\t\t\tthis.slideTriggers.push( ...Array.from( page.autoAnimateElements ).map( ( autoAnimateElement, i ) => {\n\t\t\t\tlet autoAnimatePage = this.createPage({\n\t\t\t\t\tslideElement: autoAnimateElement.querySelector( 'section' ),\n\t\t\t\t\tcontentElement: autoAnimateElement,\n\t\t\t\t\tbackgroundElement: autoAnimateElement.querySelector( '.slide-background' )\n\t\t\t\t});\n\n\t\t\t\t// Create fragment scroll triggers for the auto-animate slide\n\t\t\t\tthis.createFragmentTriggersForPage( autoAnimatePage, autoAnimatePage.slideElement );\n\n\t\t\t\tpage.autoAnimatePages.push( autoAnimatePage );\n\n\t\t\t\t// Return our slide trigger\n\t\t\t\treturn {\n\t\t\t\t\tpage: autoAnimatePage,\n\t\t\t\t\tactivate: () => this.activatePage( autoAnimatePage ),\n\t\t\t\t\tdeactivate: () => this.deactivatePage( autoAnimatePage )\n\t\t\t\t};\n\t\t\t}));\n\t\t}\n\n\t}\n\n\t/**\n\t * Helper method for creating a page definition and adding\n\t * required fields. A \"page\" is a slide or auto-animate step.\n\t */\n\tcreatePage( page ) {\n\n\t\tpage.scrollTriggers = [];\n\t\tpage.indexh = parseInt( page.slideElement.getAttribute( 'data-index-h' ), 10 );\n\t\tpage.indexv = parseInt( page.slideElement.getAttribute( 'data-index-v' ), 10 );\n\n\t\treturn page;\n\n\t}\n\n\t/**\n\t * Rerenders progress bar segments so that they match the current\n\t * reveal.js config and size.\n\t */\n\tsyncProgressBar() {\n\n\t\tthis.progressBarInner.querySelectorAll( '.scrollbar-slide' ).forEach( slide => slide.remove() );\n\n\t\tconst scrollHeight = this.viewportElement.scrollHeight;\n\t\tconst viewportHeight = this.viewportElement.offsetHeight;\n\t\tconst viewportHeightFactor = viewportHeight / scrollHeight;\n\n\t\tthis.progressBarHeight = this.progressBarInner.offsetHeight;\n\t\tthis.playheadHeight = Math.max( viewportHeightFactor * this.progressBarHeight, MIN_PLAYHEAD_HEIGHT );\n\t\tthis.progressBarScrollableHeight = this.progressBarHeight - this.playheadHeight;\n\n\t\tconst progressSegmentHeight = viewportHeight / scrollHeight * this.progressBarHeight;\n\t\tconst spacing = Math.min( progressSegmentHeight / 8, MAX_PROGRESS_SPACING );\n\n\t\tthis.progressBarPlayhead.style.height = this.playheadHeight - spacing + 'px';\n\n\t\t// Don't show individual segments if they're too small\n\t\tif( progressSegmentHeight > MIN_PROGRESS_SEGMENT_HEIGHT ) {\n\n\t\t\tthis.slideTriggers.forEach( slideTrigger => {\n\n\t\t\t\tconst { page } = slideTrigger;\n\n\t\t\t\t// Visual representation of a slide\n\t\t\t\tpage.progressBarSlide = document.createElement( 'div' );\n\t\t\t\tpage.progressBarSlide.className = 'scrollbar-slide';\n\t\t\t\tpage.progressBarSlide.style.top = slideTrigger.range[0] * this.progressBarHeight + 'px';\n\t\t\t\tpage.progressBarSlide.style.height = ( slideTrigger.range[1] - slideTrigger.range[0] ) * this.progressBarHeight - spacing + 'px';\n\t\t\t\tpage.progressBarSlide.classList.toggle( 'has-triggers', page.scrollTriggers.length > 0 );\n\t\t\t\tthis.progressBarInner.appendChild( page.progressBarSlide );\n\n\t\t\t\t// Visual representations of each scroll trigger\n\t\t\t\tpage.scrollTriggerElements = page.scrollTriggers.map( ( trigger, i ) => {\n\n\t\t\t\t\tconst triggerElement = document.createElement( 'div' );\n\t\t\t\t\ttriggerElement.className = 'scrollbar-trigger';\n\t\t\t\t\ttriggerElement.style.top = ( trigger.range[0] - slideTrigger.range[0] ) * this.progressBarHeight + 'px';\n\t\t\t\t\ttriggerElement.style.height = ( trigger.range[1] - trigger.range[0] ) * this.progressBarHeight - spacing + 'px';\n\t\t\t\t\tpage.progressBarSlide.appendChild( triggerElement );\n\n\t\t\t\t\tif( i === 0 ) triggerElement.style.display = 'none';\n\n\t\t\t\t\treturn triggerElement;\n\n\t\t\t\t} );\n\n\t\t\t} );\n\n\t\t}\n\t\telse {\n\n\t\t\tthis.pages.forEach( page => page.progressBarSlide = null );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Reads the current scroll position and updates our active\n\t * trigger states accordingly.\n\t */\n\tsyncScrollPosition() {\n\n\t\tconst viewportHeight = this.viewportElement.offsetHeight;\n\t\tconst viewportHeightFactor = viewportHeight / this.viewportElement.scrollHeight;\n\n\t\tconst scrollTop = this.viewportElement.scrollTop;\n\t\tconst scrollHeight = this.viewportElement.scrollHeight - viewportHeight\n\t\tconst scrollProgress = Math.max( Math.min( scrollTop / scrollHeight, 1 ), 0 );\n\t\tconst scrollProgressMid = Math.max( Math.min( ( scrollTop + viewportHeight / 2 ) / this.viewportElement.scrollHeight, 1 ), 0 );\n\n\t\tlet activePage;\n\n\t\tthis.slideTriggers.forEach( ( trigger ) => {\n\t\t\tconst { page } = trigger;\n\n\t\t\tconst shouldPreload = scrollProgress >= trigger.range[0] - viewportHeightFactor*2 &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tscrollProgress <= trigger.range[1] + viewportHeightFactor*2;\n\n\t\t\t// Load slides that are within the preload range\n\t\t\tif( shouldPreload && !page.loaded ) {\n\t\t\t\tpage.loaded = true;\n\t\t\t\tthis.Reveal.slideContent.load( page.slideElement );\n\t\t\t}\n\t\t\telse if( page.loaded ) {\n\t\t\t\tpage.loaded = false;\n\t\t\t\tthis.Reveal.slideContent.unload( page.slideElement );\n\t\t\t}\n\n\t\t\t// If we're within this trigger range, activate it\n\t\t\tif( scrollProgress >= trigger.range[0] && scrollProgress <= trigger.range[1] ) {\n\t\t\t\tthis.activateTrigger( trigger );\n\t\t\t\tactivePage = trigger.page;\n\t\t\t}\n\t\t\t// .. otherwise deactivate\n\t\t\telse if( trigger.active ) {\n\t\t\t\tthis.deactivateTrigger( trigger );\n\t\t\t}\n\t\t} );\n\n\t\t// Each page can have its own scroll triggers, check if any of those\n\t\t// need to be activated/deactivated\n\t\tif( activePage ) {\n\t\t\tactivePage.scrollTriggers.forEach( ( trigger ) => {\n\t\t\t\tif( scrollProgressMid >= trigger.range[0] && scrollProgressMid <= trigger.range[1] ) {\n\t\t\t\t\tthis.activateTrigger( trigger );\n\t\t\t\t}\n\t\t\t\telse if( trigger.active ) {\n\t\t\t\t\tthis.deactivateTrigger( trigger );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\t// Update our visual progress indication\n\t\tthis.setProgressBarValue( scrollTop / ( this.viewportElement.scrollHeight - viewportHeight ) );\n\n\t}\n\n\t/**\n\t * Moves the progress bar playhead to the specified position.\n\t *\n\t * @param {number} progress 0-1\n\t */\n\tsetProgressBarValue( progress ) {\n\n\t\tif( this.progressBar ) {\n\n\t\t\tthis.progressBarPlayhead.style.transform = `translateY(${progress * this.progressBarScrollableHeight}px)`;\n\n\t\t\tthis.getAllPages()\n\t\t\t\t.filter( page => page.progressBarSlide )\n\t\t\t\t.forEach( ( page ) => {\n\t\t\t\t\tpage.progressBarSlide.classList.toggle( 'active', page.active === true );\n\n\t\t\t\t\tpage.scrollTriggers.forEach( ( trigger, i ) => {\n\t\t\t\t\t\tpage.scrollTriggerElements[i].classList.toggle( 'active', page.active === true && trigger.active === true );\n\t\t\t\t\t} );\n\t\t\t\t} );\n\n\t\t\tthis.showProgressBar();\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Show the progress bar and, if configured, automatically hide\n\t * it after a delay.\n\t */\n\tshowProgressBar() {\n\n\t\tthis.progressBar.classList.add( 'visible' );\n\n\t\tclearTimeout( this.hideProgressBarTimeout );\n\n\t\tif( this.Reveal.getConfig().scrollProgress === 'auto' && !this.draggingProgressBar ) {\n\n\t\t\tthis.hideProgressBarTimeout = setTimeout( () => {\n\t\t\t\tif( this.progressBar ) {\n\t\t\t\t\tthis.progressBar.classList.remove( 'visible' );\n\t\t\t\t}\n\t\t\t}, HIDE_SCROLLBAR_TIMEOUT );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Scrolls the given slide element into view.\n\t *\n\t * @param {HTMLElement} slideElement\n\t */\n\tscrollToSlide( slideElement ) {\n\n\t\t// If the scroll view isn't active yet, queue this action\n\t\tif( !this.active ) {\n\t\t\tthis.activatedCallbacks.push( () => this.scrollToSlide( slideElement ) );\n\t\t}\n\t\telse {\n\t\t\t// Find the trigger for this slide\n\t\t\tconst trigger = this.getScrollTriggerBySlide( slideElement );\n\n\t\t\tif( trigger ) {\n\t\t\t\t// Use the trigger's range to calculate the scroll position\n\t\t\t\tthis.viewportElement.scrollTop = trigger.range[0] * ( this.viewportElement.scrollHeight - this.viewportElement.offsetHeight );\n\t\t\t}\n\t\t}\n\n\t}\n\n\t/**\n\t * Persists the current scroll position to session storage\n\t * so that it can be restored.\n\t */\n\tstoreScrollPosition() {\n\n\t\tclearTimeout( this.storeScrollPositionTimeout );\n\n\t\tthis.storeScrollPositionTimeout = setTimeout( () => {\n\t\t\tsessionStorage.setItem( 'reveal-scroll-top', this.viewportElement.scrollTop );\n\t\t\tsessionStorage.setItem( 'reveal-scroll-origin', location.origin + location.pathname );\n\n\t\t\tthis.storeScrollPositionTimeout = null;\n\t\t}, 50 );\n\n\t}\n\n\t/**\n\t * Restores the scroll position when a deck is reloader.\n\t */\n\trestoreScrollPosition() {\n\n\t\tconst scrollPosition = sessionStorage.getItem( 'reveal-scroll-top' );\n\t\tconst scrollOrigin = sessionStorage.getItem( 'reveal-scroll-origin' );\n\n\t\tif( scrollPosition && scrollOrigin === location.origin + location.pathname ) {\n\t\t\tthis.viewportElement.scrollTop = parseInt( scrollPosition, 10 );\n\t\t}\n\n\t}\n\n\t/**\n\t * Activates the given page and starts its embedded content\n\t * if there is any.\n\t *\n\t * @param {object} page\n\t */\n\tactivatePage( page ) {\n\n\t\tif( !page.active ) {\n\n\t\t\tpage.active = true;\n\n\t\t\tconst { slideElement, backgroundElement, contentElement, indexh, indexv } = page;\n\n\t\t\tcontentElement.style.display = 'block';\n\n\t\t\tslideElement.classList.add( 'present' );\n\n\t\t\tif( backgroundElement ) {\n\t\t\t\tbackgroundElement.classList.add( 'present' );\n\t\t\t}\n\n\t\t\tthis.Reveal.setCurrentScrollPage( slideElement, indexh, indexv );\n\t\t\tthis.Reveal.backgrounds.bubbleSlideContrastClassToElement( slideElement, this.viewportElement );\n\n\t\t\t// If this page is part of an auto-animation there will be one\n\t\t\t// content element per auto-animated page. We need to show the\n\t\t\t// current page and hide all others.\n\t\t\tArray.from( contentElement.parentNode.querySelectorAll( '.scroll-page-content' ) ).forEach( sibling => {\n\t\t\t\tif( sibling !== contentElement ) {\n\t\t\t\t\tsibling.style.display = 'none';\n\t\t\t\t}\n\t\t\t});\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Deactivates the page after it has been visible.\n\t *\n\t * @param {object} page\n\t */\n\tdeactivatePage( page ) {\n\n\t\tif( page.active ) {\n\n\t\t\tpage.active = false;\n\t\t\tif( page.slideElement ) page.slideElement.classList.remove( 'present' );\n\t\t\tif( page.backgroundElement ) page.backgroundElement.classList.remove( 'present' );\n\n\t\t}\n\n\t}\n\n\tactivateTrigger( trigger ) {\n\n\t\tif( !trigger.active ) {\n\t\t\ttrigger.active = true;\n\t\t\ttrigger.activate();\n\t\t}\n\n\t}\n\n\tdeactivateTrigger( trigger ) {\n\n\t\tif( trigger.active ) {\n\t\t\ttrigger.active = false;\n\n\t\t\tif( trigger.deactivate ) {\n\t\t\t\ttrigger.deactivate();\n\t\t\t}\n\t\t}\n\n\t}\n\n\t/**\n\t * Retrieve a slide by its original h/v index (i.e. the indices the\n\t * slide had before being linearized).\n\t *\n\t * @param {number} h\n\t * @param {number} v\n\t * @returns {HTMLElement}\n\t */\n\tgetSlideByIndices( h, v ) {\n\n\t\tconst page = this.getAllPages().find( page => {\n\t\t\treturn page.indexh === h && page.indexv === v;\n\t\t} );\n\n\t\treturn page ? page.slideElement : null;\n\n\t}\n\n\t/**\n\t * Retrieve a list of all scroll triggers for the given slide\n\t * DOM element.\n\t *\n\t * @param {HTMLElement} slide\n\t * @returns {Array}\n\t */\n\tgetScrollTriggerBySlide( slide ) {\n\n\t\treturn this.slideTriggers.find( trigger => trigger.page.slideElement === slide );\n\n\t}\n\n\t/**\n\t * Get a list of all pages in the scroll view. This includes\n\t * both top-level slides and auto-animate steps.\n\t *\n\t * @returns {Array}\n\t */\n\tgetAllPages() {\n\n\t\treturn this.pages.flatMap( page => [page, ...(page.autoAnimatePages || [])] );\n\n\t}\n\n\tonScroll() {\n\n\t\tthis.syncScrollPosition();\n\t\tthis.storeScrollPosition();\n\n\t}\n\n\tget viewportElement() {\n\n\t\treturn this.Reveal.getViewportElement();\n\n\t}\n\n}\n","import { SLIDES_SELECTOR } from '../utils/constants.js'\nimport { queryAll, createStyleSheet } from '../utils/util.js'\n\n/**\n * Setups up our presentation for printing/exporting to PDF.\n */\nexport default class PrintView {\n\n\tconstructor( Reveal ) {\n\n\t\tthis.Reveal = Reveal;\n\n\t}\n\n\t/**\n\t * Configures the presentation for printing to a static\n\t * PDF.\n\t */\n\tasync activate() {\n\n\t\tconst config = this.Reveal.getConfig();\n\t\tconst slides = queryAll( this.Reveal.getRevealElement(), SLIDES_SELECTOR )\n\n\t\t// Compute slide numbers now, before we start duplicating slides\n\t\tconst injectPageNumbers = config.slideNumber && /all|print/i.test( config.showSlideNumber );\n\n\t\tconst slideSize = this.Reveal.getComputedSlideSize( window.innerWidth, window.innerHeight );\n\n\t\t// Dimensions of the PDF pages\n\t\tconst pageWidth = Math.floor( slideSize.width * ( 1 + config.margin ) ),\n\t\t\tpageHeight = Math.floor( slideSize.height * ( 1 + config.margin ) );\n\n\t\t// Dimensions of slides within the pages\n\t\tconst slideWidth = slideSize.width,\n\t\t\tslideHeight = slideSize.height;\n\n\t\tawait new Promise( requestAnimationFrame );\n\n\t\t// Let the browser know what page size we want to print\n\t\tcreateStyleSheet( '@page{size:'+ pageWidth +'px '+ pageHeight +'px; margin: 0px;}' );\n\n\t\t// Limit the size of certain elements to the dimensions of the slide\n\t\tcreateStyleSheet( '.reveal section>img, .reveal section>video, .reveal section>iframe{max-width: '+ slideWidth +'px; max-height:'+ slideHeight +'px}' );\n\n\t\tdocument.documentElement.classList.add( 'reveal-print', 'print-pdf' );\n\t\tdocument.body.style.width = pageWidth + 'px';\n\t\tdocument.body.style.height = pageHeight + 'px';\n\n\t\tconst viewportElement = this.Reveal.getViewportElement();\n\t\tlet presentationBackground;\n\t\tif( viewportElement ) {\n\t\t\tconst viewportStyles = window.getComputedStyle( viewportElement );\n\t\t\tif( viewportStyles && viewportStyles.background ) {\n\t\t\t\tpresentationBackground = viewportStyles.background;\n\t\t\t}\n\t\t}\n\n\t\t// Make sure stretch elements fit on slide\n\t\tawait new Promise( requestAnimationFrame );\n\t\tthis.Reveal.layoutSlideContents( slideWidth, slideHeight );\n\n\t\t// Batch scrollHeight access to prevent layout thrashing\n\t\tawait new Promise( requestAnimationFrame );\n\n\t\tconst slideScrollHeights = slides.map( slide => slide.scrollHeight );\n\n\t\tconst pages = [];\n\t\tconst pageContainer = slides[0].parentNode;\n\t\tlet slideNumber = 1;\n\n\t\t// Slide and slide background layout\n\t\tslides.forEach( function( slide, index ) {\n\n\t\t\t// Vertical stacks are not centred since their section\n\t\t\t// children will be\n\t\t\tif( slide.classList.contains( 'stack' ) === false ) {\n\t\t\t\t// Center the slide inside of the page, giving the slide some margin\n\t\t\t\tlet left = ( pageWidth - slideWidth ) / 2;\n\t\t\t\tlet top = ( pageHeight - slideHeight ) / 2;\n\n\t\t\t\tconst contentHeight = slideScrollHeights[ index ];\n\t\t\t\tlet numberOfPages = Math.max( Math.ceil( contentHeight / pageHeight ), 1 );\n\n\t\t\t\t// Adhere to configured pages per slide limit\n\t\t\t\tnumberOfPages = Math.min( numberOfPages, config.pdfMaxPagesPerSlide );\n\n\t\t\t\t// Center slides vertically\n\t\t\t\tif( numberOfPages === 1 && config.center || slide.classList.contains( 'center' ) ) {\n\t\t\t\t\ttop = Math.max( ( pageHeight - contentHeight ) / 2, 0 );\n\t\t\t\t}\n\n\t\t\t\t// Wrap the slide in a page element and hide its overflow\n\t\t\t\t// so that no page ever flows onto another\n\t\t\t\tconst page = document.createElement( 'div' );\n\t\t\t\tpages.push( page );\n\n\t\t\t\tpage.className = 'pdf-page';\n\t\t\t\tpage.style.height = ( ( pageHeight + config.pdfPageHeightOffset ) * numberOfPages ) + 'px';\n\n\t\t\t\t// Copy the presentation-wide background to each individual\n\t\t\t\t// page when printing\n\t\t\t\tif( presentationBackground ) {\n\t\t\t\t\tpage.style.background = presentationBackground;\n\t\t\t\t}\n\n\t\t\t\tpage.appendChild( slide );\n\n\t\t\t\t// Position the slide inside of the page\n\t\t\t\tslide.style.left = left + 'px';\n\t\t\t\tslide.style.top = top + 'px';\n\t\t\t\tslide.style.width = slideWidth + 'px';\n\n\t\t\t\tthis.Reveal.slideContent.layout( slide );\n\n\t\t\t\tif( slide.slideBackgroundElement ) {\n\t\t\t\t\tpage.insertBefore( slide.slideBackgroundElement, slide );\n\t\t\t\t}\n\n\t\t\t\t// Inject notes if `showNotes` is enabled\n\t\t\t\tif( config.showNotes ) {\n\n\t\t\t\t\t// Are there notes for this slide?\n\t\t\t\t\tconst notes = this.Reveal.getSlideNotes( slide );\n\t\t\t\t\tif( notes ) {\n\n\t\t\t\t\t\tconst notesSpacing = 8;\n\t\t\t\t\t\tconst notesLayout = typeof config.showNotes === 'string' ? config.showNotes : 'inline';\n\t\t\t\t\t\tconst notesElement = document.createElement( 'div' );\n\t\t\t\t\t\tnotesElement.classList.add( 'speaker-notes' );\n\t\t\t\t\t\tnotesElement.classList.add( 'speaker-notes-pdf' );\n\t\t\t\t\t\tnotesElement.setAttribute( 'data-layout', notesLayout );\n\t\t\t\t\t\tnotesElement.innerHTML = notes;\n\n\t\t\t\t\t\tif( notesLayout === 'separate-page' ) {\n\t\t\t\t\t\t\tpages.push( notesElement );\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tnotesElement.style.left = notesSpacing + 'px';\n\t\t\t\t\t\t\tnotesElement.style.bottom = notesSpacing + 'px';\n\t\t\t\t\t\t\tnotesElement.style.width = ( pageWidth - notesSpacing*2 ) + 'px';\n\t\t\t\t\t\t\tpage.appendChild( notesElement );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// Inject page numbers if `slideNumbers` are enabled\n\t\t\t\tif( injectPageNumbers ) {\n\t\t\t\t\tconst numberElement = document.createElement( 'div' );\n\t\t\t\t\tnumberElement.classList.add( 'slide-number' );\n\t\t\t\t\tnumberElement.classList.add( 'slide-number-pdf' );\n\t\t\t\t\tnumberElement.innerHTML = slideNumber++;\n\t\t\t\t\tpage.appendChild( numberElement );\n\t\t\t\t}\n\n\t\t\t\t// Copy page and show fragments one after another\n\t\t\t\tif( config.pdfSeparateFragments ) {\n\n\t\t\t\t\t// Each fragment 'group' is an array containing one or more\n\t\t\t\t\t// fragments. Multiple fragments that appear at the same time\n\t\t\t\t\t// are part of the same group.\n\t\t\t\t\tconst fragmentGroups = this.Reveal.fragments.sort( page.querySelectorAll( '.fragment' ), true );\n\n\t\t\t\t\tlet previousFragmentStep;\n\n\t\t\t\t\tfragmentGroups.forEach( function( fragments, index ) {\n\n\t\t\t\t\t\t// Remove 'current-fragment' from the previous group\n\t\t\t\t\t\tif( previousFragmentStep ) {\n\t\t\t\t\t\t\tpreviousFragmentStep.forEach( function( fragment ) {\n\t\t\t\t\t\t\t\tfragment.classList.remove( 'current-fragment' );\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Show the fragments for the current index\n\t\t\t\t\t\tfragments.forEach( function( fragment ) {\n\t\t\t\t\t\t\tfragment.classList.add( 'visible', 'current-fragment' );\n\t\t\t\t\t\t}, this );\n\n\t\t\t\t\t\t// Create a separate page for the current fragment state\n\t\t\t\t\t\tconst clonedPage = page.cloneNode( true );\n\n\t\t\t\t\t\t// Inject unique page numbers for fragments\n\t\t\t\t\t\tif( injectPageNumbers ) {\n\t\t\t\t\t\t\tconst numberElement = clonedPage.querySelector( '.slide-number-pdf' );\n\t\t\t\t\t\t\tconst fragmentNumber = index + 1;\n\t\t\t\t\t\t\tnumberElement.innerHTML += '.' + fragmentNumber;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tpages.push( clonedPage );\n\n\t\t\t\t\t\tpreviousFragmentStep = fragments;\n\n\t\t\t\t\t}, this );\n\n\t\t\t\t\t// Reset the first/original page so that all fragments are hidden\n\t\t\t\t\tfragmentGroups.forEach( function( fragments ) {\n\t\t\t\t\t\tfragments.forEach( function( fragment ) {\n\t\t\t\t\t\t\tfragment.classList.remove( 'visible', 'current-fragment' );\n\t\t\t\t\t\t} );\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\t\t\t\t// Show all fragments\n\t\t\t\telse {\n\t\t\t\t\tqueryAll( page, '.fragment:not(.fade-out)' ).forEach( function( fragment ) {\n\t\t\t\t\t\tfragment.classList.add( 'visible' );\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}, this );\n\n\t\tawait new Promise( requestAnimationFrame );\n\n\t\tpages.forEach( page => pageContainer.appendChild( page ) );\n\n\t\t// Re-run JS-based content layout after the slide is added to page DOM\n\t\tthis.Reveal.slideContent.layout( this.Reveal.getSlidesElement() );\n\n\t\t// Notify subscribers that the PDF layout is good to go\n\t\tthis.Reveal.dispatchEvent({ type: 'pdf-ready' });\n\n\t\tviewportElement.classList.remove( 'loading-scroll-mode' );\n\n\t}\n\n\t/**\n\t * Checks if the print mode is/should be activated.\n\t */\n\tisActive() {\n\n\t\treturn this.Reveal.getConfig().view === 'print';\n\n\t}\n\n}","import { extend, queryAll } from '../utils/util.js'\n\n/**\n * Handles sorting and navigation of slide fragments.\n * Fragments are elements within a slide that are\n * revealed/animated incrementally.\n */\nexport default class Fragments {\n\n\tconstructor( Reveal ) {\n\n\t\tthis.Reveal = Reveal;\n\n\t}\n\n\t/**\n\t * Called when the reveal.js config is updated.\n\t */\n\tconfigure( config, oldConfig ) {\n\n\t\tif( config.fragments === false ) {\n\t\t\tthis.disable();\n\t\t}\n\t\telse if( oldConfig.fragments === false ) {\n\t\t\tthis.enable();\n\t\t}\n\n\t}\n\n\t/**\n\t * If fragments are disabled in the deck, they should all be\n\t * visible rather than stepped through.\n\t */\n\tdisable() {\n\n\t\tqueryAll( this.Reveal.getSlidesElement(), '.fragment' ).forEach( element => {\n\t\t\telement.classList.add( 'visible' );\n\t\t\telement.classList.remove( 'current-fragment' );\n\t\t} );\n\n\t}\n\n\t/**\n\t * Reverse of #disable(). Only called if fragments have\n\t * previously been disabled.\n\t */\n\tenable() {\n\n\t\tqueryAll( this.Reveal.getSlidesElement(), '.fragment' ).forEach( element => {\n\t\t\telement.classList.remove( 'visible' );\n\t\t\telement.classList.remove( 'current-fragment' );\n\t\t} );\n\n\t}\n\n\t/**\n\t * Returns an object describing the available fragment\n\t * directions.\n\t *\n\t * @return {{prev: boolean, next: boolean}}\n\t */\n\tavailableRoutes() {\n\n\t\tlet currentSlide = this.Reveal.getCurrentSlide();\n\t\tif( currentSlide && this.Reveal.getConfig().fragments ) {\n\t\t\tlet fragments = currentSlide.querySelectorAll( '.fragment:not(.disabled)' );\n\t\t\tlet hiddenFragments = currentSlide.querySelectorAll( '.fragment:not(.disabled):not(.visible)' );\n\n\t\t\treturn {\n\t\t\t\tprev: fragments.length - hiddenFragments.length > 0,\n\t\t\t\tnext: !!hiddenFragments.length\n\t\t\t};\n\t\t}\n\t\telse {\n\t\t\treturn { prev: false, next: false };\n\t\t}\n\n\t}\n\n\t/**\n\t * Return a sorted fragments list, ordered by an increasing\n\t * \"data-fragment-index\" attribute.\n\t *\n\t * Fragments will be revealed in the order that they are returned by\n\t * this function, so you can use the index attributes to control the\n\t * order of fragment appearance.\n\t *\n\t * To maintain a sensible default fragment order, fragments are presumed\n\t * to be passed in document order. This function adds a \"fragment-index\"\n\t * attribute to each node if such an attribute is not already present,\n\t * and sets that attribute to an integer value which is the position of\n\t * the fragment within the fragments list.\n\t *\n\t * @param {object[]|*} fragments\n\t * @param {boolean} grouped If true the returned array will contain\n\t * nested arrays for all fragments with the same index\n\t * @return {object[]} sorted Sorted array of fragments\n\t */\n\tsort( fragments, grouped = false ) {\n\n\t\tfragments = Array.from( fragments );\n\n\t\tlet ordered = [],\n\t\t\tunordered = [],\n\t\t\tsorted = [];\n\n\t\t// Group ordered and unordered elements\n\t\tfragments.forEach( fragment => {\n\t\t\tif( fragment.hasAttribute( 'data-fragment-index' ) ) {\n\t\t\t\tlet index = parseInt( fragment.getAttribute( 'data-fragment-index' ), 10 );\n\n\t\t\t\tif( !ordered[index] ) {\n\t\t\t\t\tordered[index] = [];\n\t\t\t\t}\n\n\t\t\t\tordered[index].push( fragment );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tunordered.push( [ fragment ] );\n\t\t\t}\n\t\t} );\n\n\t\t// Append fragments without explicit indices in their\n\t\t// DOM order\n\t\tordered = ordered.concat( unordered );\n\n\t\t// Manually count the index up per group to ensure there\n\t\t// are no gaps\n\t\tlet index = 0;\n\n\t\t// Push all fragments in their sorted order to an array,\n\t\t// this flattens the groups\n\t\tordered.forEach( group => {\n\t\t\tgroup.forEach( fragment => {\n\t\t\t\tsorted.push( fragment );\n\t\t\t\tfragment.setAttribute( 'data-fragment-index', index );\n\t\t\t} );\n\n\t\t\tindex ++;\n\t\t} );\n\n\t\treturn grouped === true ? ordered : sorted;\n\n\t}\n\n\t/**\n\t * Sorts and formats all of fragments in the\n\t * presentation.\n\t */\n\tsortAll() {\n\n\t\tthis.Reveal.getHorizontalSlides().forEach( horizontalSlide => {\n\n\t\t\tlet verticalSlides = queryAll( horizontalSlide, 'section' );\n\t\t\tverticalSlides.forEach( ( verticalSlide, y ) => {\n\n\t\t\t\tthis.sort( verticalSlide.querySelectorAll( '.fragment' ) );\n\n\t\t\t}, this );\n\n\t\t\tif( verticalSlides.length === 0 ) this.sort( horizontalSlide.querySelectorAll( '.fragment' ) );\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Refreshes the fragments on the current slide so that they\n\t * have the appropriate classes (.visible + .current-fragment).\n\t *\n\t * @param {number} [index] The index of the current fragment\n\t * @param {array} [fragments] Array containing all fragments\n\t * in the current slide\n\t *\n\t * @return {{shown: array, hidden: array}}\n\t */\n\tupdate( index, fragments, slide = this.Reveal.getCurrentSlide() ) {\n\n\t\tlet changedFragments = {\n\t\t\tshown: [],\n\t\t\thidden: []\n\t\t};\n\n\t\tif( slide && this.Reveal.getConfig().fragments ) {\n\n\t\t\tfragments = fragments || this.sort( slide.querySelectorAll( '.fragment' ) );\n\n\t\t\tif( fragments.length ) {\n\n\t\t\t\tlet maxIndex = 0;\n\n\t\t\t\tif( typeof index !== 'number' ) {\n\t\t\t\t\tlet currentFragment = this.sort( slide.querySelectorAll( '.fragment.visible' ) ).pop();\n\t\t\t\t\tif( currentFragment ) {\n\t\t\t\t\t\tindex = parseInt( currentFragment.getAttribute( 'data-fragment-index' ) || 0, 10 );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tArray.from( fragments ).forEach( ( el, i ) => {\n\n\t\t\t\t\tif( el.hasAttribute( 'data-fragment-index' ) ) {\n\t\t\t\t\t\ti = parseInt( el.getAttribute( 'data-fragment-index' ), 10 );\n\t\t\t\t\t}\n\n\t\t\t\t\tmaxIndex = Math.max( maxIndex, i );\n\n\t\t\t\t\t// Visible fragments\n\t\t\t\t\tif( i <= index ) {\n\t\t\t\t\t\tlet wasVisible = el.classList.contains( 'visible' )\n\t\t\t\t\t\tel.classList.add( 'visible' );\n\t\t\t\t\t\tel.classList.remove( 'current-fragment' );\n\n\t\t\t\t\t\tif( i === index ) {\n\t\t\t\t\t\t\t// Announce the fragments one by one to the Screen Reader\n\t\t\t\t\t\t\tthis.Reveal.announceStatus( this.Reveal.getStatusText( el ) );\n\n\t\t\t\t\t\t\tel.classList.add( 'current-fragment' );\n\t\t\t\t\t\t\tthis.Reveal.slideContent.startEmbeddedContent( el );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif( !wasVisible ) {\n\t\t\t\t\t\t\tchangedFragments.shown.push( el )\n\t\t\t\t\t\t\tthis.Reveal.dispatchEvent({\n\t\t\t\t\t\t\t\ttarget: el,\n\t\t\t\t\t\t\t\ttype: 'visible',\n\t\t\t\t\t\t\t\tbubbles: false\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// Hidden fragments\n\t\t\t\t\telse {\n\t\t\t\t\t\tlet wasVisible = el.classList.contains( 'visible' )\n\t\t\t\t\t\tel.classList.remove( 'visible' );\n\t\t\t\t\t\tel.classList.remove( 'current-fragment' );\n\n\t\t\t\t\t\tif( wasVisible ) {\n\t\t\t\t\t\t\tthis.Reveal.slideContent.stopEmbeddedContent( el );\n\t\t\t\t\t\t\tchangedFragments.hidden.push( el );\n\t\t\t\t\t\t\tthis.Reveal.dispatchEvent({\n\t\t\t\t\t\t\t\ttarget: el,\n\t\t\t\t\t\t\t\ttype: 'hidden',\n\t\t\t\t\t\t\t\tbubbles: false\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\t// Write the current fragment index to the slide <section>.\n\t\t\t\t// This can be used by end users to apply styles based on\n\t\t\t\t// the current fragment index.\n\t\t\t\tindex = typeof index === 'number' ? index : -1;\n\t\t\t\tindex = Math.max( Math.min( index, maxIndex ), -1 );\n\t\t\t\tslide.setAttribute( 'data-fragment', index );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn changedFragments;\n\n\t}\n\n\t/**\n\t * Formats the fragments on the given slide so that they have\n\t * valid indices. Call this if fragments are changed in the DOM\n\t * after reveal.js has already initialized.\n\t *\n\t * @param {HTMLElement} slide\n\t * @return {Array} a list of the HTML fragments that were synced\n\t */\n\tsync( slide = this.Reveal.getCurrentSlide() ) {\n\n\t\treturn this.sort( slide.querySelectorAll( '.fragment' ) );\n\n\t}\n\n\t/**\n\t * Navigate to the specified slide fragment.\n\t *\n\t * @param {?number} index The index of the fragment that\n\t * should be shown, -1 means all are invisible\n\t * @param {number} offset Integer offset to apply to the\n\t * fragment index\n\t *\n\t * @return {boolean} true if a change was made in any\n\t * fragments visibility as part of this call\n\t */\n\tgoto( index, offset = 0 ) {\n\n\t\tlet currentSlide = this.Reveal.getCurrentSlide();\n\t\tif( currentSlide && this.Reveal.getConfig().fragments ) {\n\n\t\t\tlet fragments = this.sort( currentSlide.querySelectorAll( '.fragment:not(.disabled)' ) );\n\t\t\tif( fragments.length ) {\n\n\t\t\t\t// If no index is specified, find the current\n\t\t\t\tif( typeof index !== 'number' ) {\n\t\t\t\t\tlet lastVisibleFragment = this.sort( currentSlide.querySelectorAll( '.fragment:not(.disabled).visible' ) ).pop();\n\n\t\t\t\t\tif( lastVisibleFragment ) {\n\t\t\t\t\t\tindex = parseInt( lastVisibleFragment.getAttribute( 'data-fragment-index' ) || 0, 10 );\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tindex = -1;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Apply the offset if there is one\n\t\t\t\tindex += offset;\n\n\t\t\t\tlet changedFragments = this.update( index, fragments );\n\n\t\t\t\tif( changedFragments.hidden.length ) {\n\t\t\t\t\tthis.Reveal.dispatchEvent({\n\t\t\t\t\t\ttype: 'fragmenthidden',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tfragment: changedFragments.hidden[0],\n\t\t\t\t\t\t\tfragments: changedFragments.hidden\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif( changedFragments.shown.length ) {\n\t\t\t\t\tthis.Reveal.dispatchEvent({\n\t\t\t\t\t\ttype: 'fragmentshown',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tfragment: changedFragments.shown[0],\n\t\t\t\t\t\t\tfragments: changedFragments.shown\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tthis.Reveal.controls.update();\n\t\t\t\tthis.Reveal.progress.update();\n\n\t\t\t\tif( this.Reveal.getConfig().fragmentInURL ) {\n\t\t\t\t\tthis.Reveal.location.writeURL();\n\t\t\t\t}\n\n\t\t\t\treturn !!( changedFragments.shown.length || changedFragments.hidden.length );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\t/**\n\t * Navigate to the next slide fragment.\n\t *\n\t * @return {boolean} true if there was a next fragment,\n\t * false otherwise\n\t */\n\tnext() {\n\n\t\treturn this.goto( null, 1 );\n\n\t}\n\n\t/**\n\t * Navigate to the previous slide fragment.\n\t *\n\t * @return {boolean} true if there was a previous fragment,\n\t * false otherwise\n\t */\n\tprev() {\n\n\t\treturn this.goto( null, -1 );\n\n\t}\n\n}","import { SLIDES_SELECTOR } from '../utils/constants.js'\nimport { extend, queryAll, transformElement } from '../utils/util.js'\n\n/**\n * Handles all logic related to the overview mode\n * (birds-eye view of all slides).\n */\nexport default class Overview {\n\n\tconstructor( Reveal ) {\n\n\t\tthis.Reveal = Reveal;\n\n\t\tthis.active = false;\n\n\t\tthis.onSlideClicked = this.onSlideClicked.bind( this );\n\n\t}\n\n\t/**\n\t * Displays the overview of slides (quick nav) by scaling\n\t * down and arranging all slide elements.\n\t */\n\tactivate() {\n\n\t\t// Only proceed if enabled in config\n\t\tif( this.Reveal.getConfig().overview && !this.Reveal.isScrollView() && !this.isActive() ) {\n\n\t\t\tthis.active = true;\n\n\t\t\tthis.Reveal.getRevealElement().classList.add( 'overview' );\n\n\t\t\t// Don't auto-slide while in overview mode\n\t\t\tthis.Reveal.cancelAutoSlide();\n\n\t\t\t// Move the backgrounds element into the slide container to\n\t\t\t// that the same scaling is applied\n\t\t\tthis.Reveal.getSlidesElement().appendChild( this.Reveal.getBackgroundsElement() );\n\n\t\t\t// Clicking on an overview slide navigates to it\n\t\t\tqueryAll( this.Reveal.getRevealElement(), SLIDES_SELECTOR ).forEach( slide => {\n\t\t\t\tif( !slide.classList.contains( 'stack' ) ) {\n\t\t\t\t\tslide.addEventListener( 'click', this.onSlideClicked, true );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t// Calculate slide sizes\n\t\t\tconst margin = 70;\n\t\t\tconst slideSize = this.Reveal.getComputedSlideSize();\n\t\t\tthis.overviewSlideWidth = slideSize.width + margin;\n\t\t\tthis.overviewSlideHeight = slideSize.height + margin;\n\n\t\t\t// Reverse in RTL mode\n\t\t\tif( this.Reveal.getConfig().rtl ) {\n\t\t\t\tthis.overviewSlideWidth = -this.overviewSlideWidth;\n\t\t\t}\n\n\t\t\tthis.Reveal.updateSlidesVisibility();\n\n\t\t\tthis.layout();\n\t\t\tthis.update();\n\n\t\t\tthis.Reveal.layout();\n\n\t\t\tconst indices = this.Reveal.getIndices();\n\n\t\t\t// Notify observers of the overview showing\n\t\t\tthis.Reveal.dispatchEvent({\n\t\t\t\ttype: 'overviewshown',\n\t\t\t\tdata: {\n\t\t\t\t\t'indexh': indices.h,\n\t\t\t\t\t'indexv': indices.v,\n\t\t\t\t\t'currentSlide': this.Reveal.getCurrentSlide()\n\t\t\t\t}\n\t\t\t});\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Uses CSS transforms to position all slides in a grid for\n\t * display inside of the overview mode.\n\t */\n\tlayout() {\n\n\t\t// Layout slides\n\t\tthis.Reveal.getHorizontalSlides().forEach( ( hslide, h ) => {\n\t\t\thslide.setAttribute( 'data-index-h', h );\n\t\t\ttransformElement( hslide, 'translate3d(' + ( h * this.overviewSlideWidth ) + 'px, 0, 0)' );\n\n\t\t\tif( hslide.classList.contains( 'stack' ) ) {\n\n\t\t\t\tqueryAll( hslide, 'section' ).forEach( ( vslide, v ) => {\n\t\t\t\t\tvslide.setAttribute( 'data-index-h', h );\n\t\t\t\t\tvslide.setAttribute( 'data-index-v', v );\n\n\t\t\t\t\ttransformElement( vslide, 'translate3d(0, ' + ( v * this.overviewSlideHeight ) + 'px, 0)' );\n\t\t\t\t} );\n\n\t\t\t}\n\t\t} );\n\n\t\t// Layout slide backgrounds\n\t\tArray.from( this.Reveal.getBackgroundsElement().childNodes ).forEach( ( hbackground, h ) => {\n\t\t\ttransformElement( hbackground, 'translate3d(' + ( h * this.overviewSlideWidth ) + 'px, 0, 0)' );\n\n\t\t\tqueryAll( hbackground, '.slide-background' ).forEach( ( vbackground, v ) => {\n\t\t\t\ttransformElement( vbackground, 'translate3d(0, ' + ( v * this.overviewSlideHeight ) + 'px, 0)' );\n\t\t\t} );\n\t\t} );\n\n\t}\n\n\t/**\n\t * Moves the overview viewport to the current slides.\n\t * Called each time the current slide changes.\n\t */\n\tupdate() {\n\n\t\tconst vmin = Math.min( window.innerWidth, window.innerHeight );\n\t\tconst scale = Math.max( vmin / 5, 150 ) / vmin;\n\t\tconst indices = this.Reveal.getIndices();\n\n\t\tthis.Reveal.transformSlides( {\n\t\t\toverview: [\n\t\t\t\t'scale('+ scale +')',\n\t\t\t\t'translateX('+ ( -indices.h * this.overviewSlideWidth ) +'px)',\n\t\t\t\t'translateY('+ ( -indices.v * this.overviewSlideHeight ) +'px)'\n\t\t\t].join( ' ' )\n\t\t} );\n\n\t}\n\n\t/**\n\t * Exits the slide overview and enters the currently\n\t * active slide.\n\t */\n\tdeactivate() {\n\n\t\t// Only proceed if enabled in config\n\t\tif( this.Reveal.getConfig().overview ) {\n\n\t\t\tthis.active = false;\n\n\t\t\tthis.Reveal.getRevealElement().classList.remove( 'overview' );\n\n\t\t\t// Temporarily add a class so that transitions can do different things\n\t\t\t// depending on whether they are exiting/entering overview, or just\n\t\t\t// moving from slide to slide\n\t\t\tthis.Reveal.getRevealElement().classList.add( 'overview-deactivating' );\n\n\t\t\tsetTimeout( () => {\n\t\t\t\tthis.Reveal.getRevealElement().classList.remove( 'overview-deactivating' );\n\t\t\t}, 1 );\n\n\t\t\t// Move the background element back out\n\t\t\tthis.Reveal.getRevealElement().appendChild( this.Reveal.getBackgroundsElement() );\n\n\t\t\t// Clean up changes made to slides\n\t\t\tqueryAll( this.Reveal.getRevealElement(), SLIDES_SELECTOR ).forEach( slide => {\n\t\t\t\ttransformElement( slide, '' );\n\n\t\t\t\tslide.removeEventListener( 'click', this.onSlideClicked, true );\n\t\t\t} );\n\n\t\t\t// Clean up changes made to backgrounds\n\t\t\tqueryAll( this.Reveal.getBackgroundsElement(), '.slide-background' ).forEach( background => {\n\t\t\t\ttransformElement( background, '' );\n\t\t\t} );\n\n\t\t\tthis.Reveal.transformSlides( { overview: '' } );\n\n\t\t\tconst indices = this.Reveal.getIndices();\n\n\t\t\tthis.Reveal.slide( indices.h, indices.v );\n\t\t\tthis.Reveal.layout();\n\t\t\tthis.Reveal.cueAutoSlide();\n\n\t\t\t// Notify observers of the overview hiding\n\t\t\tthis.Reveal.dispatchEvent({\n\t\t\t\ttype: 'overviewhidden',\n\t\t\t\tdata: {\n\t\t\t\t\t'indexh': indices.h,\n\t\t\t\t\t'indexv': indices.v,\n\t\t\t\t\t'currentSlide': this.Reveal.getCurrentSlide()\n\t\t\t\t}\n\t\t\t});\n\n\t\t}\n\t}\n\n\t/**\n\t * Toggles the slide overview mode on and off.\n\t *\n\t * @param {Boolean} [override] Flag which overrides the\n\t * toggle logic and forcibly sets the desired state. True means\n\t * overview is open, false means it's closed.\n\t */\n\ttoggle( override ) {\n\n\t\tif( typeof override === 'boolean' ) {\n\t\t\toverride ? this.activate() : this.deactivate();\n\t\t}\n\t\telse {\n\t\t\tthis.isActive() ? this.deactivate() : this.activate();\n\t\t}\n\n\t}\n\n\t/**\n\t * Checks if the overview is currently active.\n\t *\n\t * @return {Boolean} true if the overview is active,\n\t * false otherwise\n\t */\n\tisActive() {\n\n\t\treturn this.active;\n\n\t}\n\n\t/**\n\t * Invoked when a slide is and we're in the overview.\n\t *\n\t * @param {object} event\n\t */\n\tonSlideClicked( event ) {\n\n\t\tif( this.isActive() ) {\n\t\t\tevent.preventDefault();\n\n\t\t\tlet element = event.target;\n\n\t\t\twhile( element && !element.nodeName.match( /section/gi ) ) {\n\t\t\t\telement = element.parentNode;\n\t\t\t}\n\n\t\t\tif( element && !element.classList.contains( 'disabled' ) ) {\n\n\t\t\t\tthis.deactivate();\n\n\t\t\t\tif( element.nodeName.match( /section/gi ) ) {\n\t\t\t\t\tlet h = parseInt( element.getAttribute( 'data-index-h' ), 10 ),\n\t\t\t\t\t\tv = parseInt( element.getAttribute( 'data-index-v' ), 10 );\n\n\t\t\t\t\tthis.Reveal.slide( h, v );\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t}\n\n}","import { enterFullscreen } from '../utils/util.js'\n\n/**\n * Handles all reveal.js keyboard interactions.\n */\nexport default class Keyboard {\n\n\tconstructor( Reveal ) {\n\n\t\tthis.Reveal = Reveal;\n\n\t\t// A key:value map of keyboard keys and descriptions of\n\t\t// the actions they trigger\n\t\tthis.shortcuts = {};\n\n\t\t// Holds custom key code mappings\n\t\tthis.bindings = {};\n\n\t\tthis.onDocumentKeyDown = this.onDocumentKeyDown.bind( this );\n\n\t}\n\n\t/**\n\t * Called when the reveal.js config is updated.\n\t */\n\tconfigure( config, oldConfig ) {\n\n\t\tif( config.navigationMode === 'linear' ) {\n\t\t\tthis.shortcuts['&#8594;  ,  &#8595;  ,  SPACE  ,  N  ,  L  ,  J'] = 'Next slide';\n\t\t\tthis.shortcuts['&#8592;  ,  &#8593;  ,  P  ,  H  ,  K']           = 'Previous slide';\n\t\t}\n\t\telse {\n\t\t\tthis.shortcuts['N  ,  SPACE']   = 'Next slide';\n\t\t\tthis.shortcuts['P  ,  Shift SPACE']             = 'Previous slide';\n\t\t\tthis.shortcuts['&#8592;  ,  H'] = 'Navigate left';\n\t\t\tthis.shortcuts['&#8594;  ,  L'] = 'Navigate right';\n\t\t\tthis.shortcuts['&#8593;  ,  K'] = 'Navigate up';\n\t\t\tthis.shortcuts['&#8595;  ,  J'] = 'Navigate down';\n\t\t}\n\n\t\tthis.shortcuts['Alt + &#8592;/&#8593/&#8594;/&#8595;']        = 'Navigate without fragments';\n\t\tthis.shortcuts['Shift + &#8592;/&#8593/&#8594;/&#8595;']      = 'Jump to first/last slide';\n\t\tthis.shortcuts['B  ,  .']                       = 'Pause';\n\t\tthis.shortcuts['F']                             = 'Fullscreen';\n\t\tthis.shortcuts['G']                             = 'Jump to slide';\n\t\tthis.shortcuts['ESC, O']                        = 'Slide overview';\n\n\t}\n\n\t/**\n\t * Starts listening for keyboard events.\n\t */\n\tbind() {\n\n\t\tdocument.addEventListener( 'keydown', this.onDocumentKeyDown, false );\n\n\t}\n\n\t/**\n\t * Stops listening for keyboard events.\n\t */\n\tunbind() {\n\n\t\tdocument.removeEventListener( 'keydown', this.onDocumentKeyDown, false );\n\n\t}\n\n\t/**\n\t * Add a custom key binding with optional description to\n\t * be added to the help screen.\n\t */\n\taddKeyBinding( binding, callback ) {\n\n\t\tif( typeof binding === 'object' && binding.keyCode ) {\n\t\t\tthis.bindings[binding.keyCode] = {\n\t\t\t\tcallback: callback,\n\t\t\t\tkey: binding.key,\n\t\t\t\tdescription: binding.description\n\t\t\t};\n\t\t}\n\t\telse {\n\t\t\tthis.bindings[binding] = {\n\t\t\t\tcallback: callback,\n\t\t\t\tkey: null,\n\t\t\t\tdescription: null\n\t\t\t};\n\t\t}\n\n\t}\n\n\t/**\n\t * Removes the specified custom key binding.\n\t */\n\tremoveKeyBinding( keyCode ) {\n\n\t\tdelete this.bindings[keyCode];\n\n\t}\n\n\t/**\n\t * Programmatically triggers a keyboard event\n\t *\n\t * @param {int} keyCode\n\t */\n\ttriggerKey( keyCode ) {\n\n\t\tthis.onDocumentKeyDown( { keyCode } );\n\n\t}\n\n\t/**\n\t * Registers a new shortcut to include in the help overlay\n\t *\n\t * @param {String} key\n\t * @param {String} value\n\t */\n\tregisterKeyboardShortcut( key, value ) {\n\n\t\tthis.shortcuts[key] = value;\n\n\t}\n\n\tgetShortcuts() {\n\n\t\treturn this.shortcuts;\n\n\t}\n\n\tgetBindings() {\n\n\t\treturn this.bindings;\n\n\t}\n\n\t/**\n\t * Handler for the document level 'keydown' event.\n\t *\n\t * @param {object} event\n\t */\n\tonDocumentKeyDown( event ) {\n\n\t\tlet config = this.Reveal.getConfig();\n\n\t\t// If there's a condition specified and it returns false,\n\t\t// ignore this event\n\t\tif( typeof config.keyboardCondition === 'function' && config.keyboardCondition(event) === false ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// If keyboardCondition is set, only capture keyboard events\n\t\t// for embedded decks when they are focused\n\t\tif( config.keyboardCondition === 'focused' && !this.Reveal.isFocused() ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Shorthand\n\t\tlet keyCode = event.keyCode;\n\n\t\t// Remember if auto-sliding was paused so we can toggle it\n\t\tlet autoSlideWasPaused = !this.Reveal.isAutoSliding();\n\n\t\tthis.Reveal.onUserInput( event );\n\n\t\t// Is there a focused element that could be using the keyboard?\n\t\tlet activeElementIsCE = document.activeElement && document.activeElement.isContentEditable === true;\n\t\tlet activeElementIsInput = document.activeElement && document.activeElement.tagName && /input|textarea/i.test( document.activeElement.tagName );\n\t\tlet activeElementIsNotes = document.activeElement && document.activeElement.className && /speaker-notes/i.test( document.activeElement.className);\n\n\t\t// Whitelist certain modifiers for slide navigation shortcuts\n\t\tlet keyCodeUsesModifier = [32, 37, 38, 39, 40, 78, 80, 191].indexOf( event.keyCode ) !== -1;\n\n\t\t// Prevent all other events when a modifier is pressed\n\t\tlet unusedModifier = \t!( keyCodeUsesModifier && event.shiftKey || event.altKey ) &&\n\t\t\t\t\t\t\t\t( event.shiftKey || event.altKey || event.ctrlKey || event.metaKey );\n\n\t\t// Disregard the event if there's a focused element or a\n\t\t// keyboard modifier key is present\n\t\tif( activeElementIsCE || activeElementIsInput || activeElementIsNotes || unusedModifier ) return;\n\n\t\t// While paused only allow resume keyboard events; 'b', 'v', '.'\n\t\tlet resumeKeyCodes = [66,86,190,191];\n\t\tlet key;\n\n\t\t// Custom key bindings for togglePause should be able to resume\n\t\tif( typeof config.keyboard === 'object' ) {\n\t\t\tfor( key in config.keyboard ) {\n\t\t\t\tif( config.keyboard[key] === 'togglePause' ) {\n\t\t\t\t\tresumeKeyCodes.push( parseInt( key, 10 ) );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif( this.Reveal.isPaused() && resumeKeyCodes.indexOf( keyCode ) === -1 ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Use linear navigation if we're configured to OR if\n\t\t// the presentation is one-dimensional\n\t\tlet useLinearMode = config.navigationMode === 'linear' || !this.Reveal.hasHorizontalSlides() || !this.Reveal.hasVerticalSlides();\n\n\t\tlet triggered = false;\n\n\t\t// 1. User defined key bindings\n\t\tif( typeof config.keyboard === 'object' ) {\n\n\t\t\tfor( key in config.keyboard ) {\n\n\t\t\t\t// Check if this binding matches the pressed key\n\t\t\t\tif( parseInt( key, 10 ) === keyCode ) {\n\n\t\t\t\t\tlet value = config.keyboard[ key ];\n\n\t\t\t\t\t// Callback function\n\t\t\t\t\tif( typeof value === 'function' ) {\n\t\t\t\t\t\tvalue.apply( null, [ event ] );\n\t\t\t\t\t}\n\t\t\t\t\t// String shortcuts to reveal.js API\n\t\t\t\t\telse if( typeof value === 'string' && typeof this.Reveal[ value ] === 'function' ) {\n\t\t\t\t\t\tthis.Reveal[ value ].call();\n\t\t\t\t\t}\n\n\t\t\t\t\ttriggered = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// 2. Registered custom key bindings\n\t\tif( triggered === false ) {\n\n\t\t\tfor( key in this.bindings ) {\n\n\t\t\t\t// Check if this binding matches the pressed key\n\t\t\t\tif( parseInt( key, 10 ) === keyCode ) {\n\n\t\t\t\t\tlet action = this.bindings[ key ].callback;\n\n\t\t\t\t\t// Callback function\n\t\t\t\t\tif( typeof action === 'function' ) {\n\t\t\t\t\t\taction.apply( null, [ event ] );\n\t\t\t\t\t}\n\t\t\t\t\t// String shortcuts to reveal.js API\n\t\t\t\t\telse if( typeof action === 'string' && typeof this.Reveal[ action ] === 'function' ) {\n\t\t\t\t\t\tthis.Reveal[ action ].call();\n\t\t\t\t\t}\n\n\t\t\t\t\ttriggered = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// 3. System defined key bindings\n\t\tif( triggered === false ) {\n\n\t\t\t// Assume true and try to prove false\n\t\t\ttriggered = true;\n\n\t\t\t// P, PAGE UP\n\t\t\tif( keyCode === 80 || keyCode === 33 ) {\n\t\t\t\tthis.Reveal.prev({skipFragments: event.altKey});\n\t\t\t}\n\t\t\t// N, PAGE DOWN\n\t\t\telse if( keyCode === 78 || keyCode === 34 ) {\n\t\t\t\tthis.Reveal.next({skipFragments: event.altKey});\n\t\t\t}\n\t\t\t// H, LEFT\n\t\t\telse if( keyCode === 72 || keyCode === 37 ) {\n\t\t\t\tif( event.shiftKey ) {\n\t\t\t\t\tthis.Reveal.slide( 0 );\n\t\t\t\t}\n\t\t\t\telse if( !this.Reveal.overview.isActive() && useLinearMode ) {\n\t\t\t\t\tthis.Reveal.prev({skipFragments: event.altKey});\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.Reveal.left({skipFragments: event.altKey});\n\t\t\t\t}\n\t\t\t}\n\t\t\t// L, RIGHT\n\t\t\telse if( keyCode === 76 || keyCode === 39 ) {\n\t\t\t\tif( event.shiftKey ) {\n\t\t\t\t\tthis.Reveal.slide( this.Reveal.getHorizontalSlides().length - 1 );\n\t\t\t\t}\n\t\t\t\telse if( !this.Reveal.overview.isActive() && useLinearMode ) {\n\t\t\t\t\tthis.Reveal.next({skipFragments: event.altKey});\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.Reveal.right({skipFragments: event.altKey});\n\t\t\t\t}\n\t\t\t}\n\t\t\t// K, UP\n\t\t\telse if( keyCode === 75 || keyCode === 38 ) {\n\t\t\t\tif( event.shiftKey ) {\n\t\t\t\t\tthis.Reveal.slide( undefined, 0 );\n\t\t\t\t}\n\t\t\t\telse if( !this.Reveal.overview.isActive() && useLinearMode ) {\n\t\t\t\t\tthis.Reveal.prev({skipFragments: event.altKey});\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.Reveal.up({skipFragments: event.altKey});\n\t\t\t\t}\n\t\t\t}\n\t\t\t// J, DOWN\n\t\t\telse if( keyCode === 74 || keyCode === 40 ) {\n\t\t\t\tif( event.shiftKey ) {\n\t\t\t\t\tthis.Reveal.slide( undefined, Number.MAX_VALUE );\n\t\t\t\t}\n\t\t\t\telse if( !this.Reveal.overview.isActive() && useLinearMode ) {\n\t\t\t\t\tthis.Reveal.next({skipFragments: event.altKey});\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.Reveal.down({skipFragments: event.altKey});\n\t\t\t\t}\n\t\t\t}\n\t\t\t// HOME\n\t\t\telse if( keyCode === 36 ) {\n\t\t\t\tthis.Reveal.slide( 0 );\n\t\t\t}\n\t\t\t// END\n\t\t\telse if( keyCode === 35 ) {\n\t\t\t\tthis.Reveal.slide( this.Reveal.getHorizontalSlides().length - 1 );\n\t\t\t}\n\t\t\t// SPACE\n\t\t\telse if( keyCode === 32 ) {\n\t\t\t\tif( this.Reveal.overview.isActive() ) {\n\t\t\t\t\tthis.Reveal.overview.deactivate();\n\t\t\t\t}\n\t\t\t\tif( event.shiftKey ) {\n\t\t\t\t\tthis.Reveal.prev({skipFragments: event.altKey});\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.Reveal.next({skipFragments: event.altKey});\n\t\t\t\t}\n\t\t\t}\n\t\t\t// TWO-SPOT, SEMICOLON, B, V, PERIOD, LOGITECH PRESENTER TOOLS \"BLACK SCREEN\" BUTTON\n\t\t\telse if( [58, 59, 66, 86, 190].includes( keyCode ) || ( keyCode === 191 && !event.shiftKey ) ) {\n\t\t\t\tthis.Reveal.togglePause();\n\t\t\t}\n\t\t\t// F\n\t\t\telse if( keyCode === 70 ) {\n\t\t\t\tenterFullscreen( config.embedded ? this.Reveal.getViewportElement() : document.documentElement );\n\t\t\t}\n\t\t\t// A\n\t\t\telse if( keyCode === 65 ) {\n\t\t\t\tif( config.autoSlideStoppable ) {\n\t\t\t\t\tthis.Reveal.toggleAutoSlide( autoSlideWasPaused );\n\t\t\t\t}\n\t\t\t}\n\t\t\t// G\n\t\t\telse if( keyCode === 71 ) {\n\t\t\t\tif( config.jumpToSlide ) {\n\t\t\t\t\tthis.Reveal.toggleJumpToSlide();\n\t\t\t\t}\n\t\t\t}\n\t\t\t// ?\n\t\t\telse if( keyCode === 191 && event.shiftKey ) {\n\t\t\t\tthis.Reveal.toggleHelp();\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttriggered = false;\n\t\t\t}\n\n\t\t}\n\n\t\t// If the input resulted in a triggered action we should prevent\n\t\t// the browsers default behavior\n\t\tif( triggered ) {\n\t\t\tevent.preventDefault && event.preventDefault();\n\t\t}\n\t\t// ESC or O key\n\t\telse if( keyCode === 27 || keyCode === 79 ) {\n\t\t\tif( this.Reveal.closeOverlay() === false ) {\n\t\t\t\tthis.Reveal.overview.toggle();\n\t\t\t}\n\n\t\t\tevent.preventDefault && event.preventDefault();\n\t\t}\n\n\t\t// If auto-sliding is enabled we need to cue up\n\t\t// another timeout\n\t\tthis.Reveal.cueAutoSlide();\n\n\t}\n\n}","/**\n * Reads and writes the URL based on reveal.js' current state.\n */\nexport default class Location {\n\n\t// The minimum number of milliseconds that must pass between\n\t// calls to history.replaceState\n\tMAX_REPLACE_STATE_FREQUENCY = 1000\n\n\tconstructor( Reveal ) {\n\n\t\tthis.Reveal = Reveal;\n\n\t\t// Delays updates to the URL due to a Chrome thumbnailer bug\n\t\tthis.writeURLTimeout = 0;\n\n\t\tthis.replaceStateTimestamp = 0;\n\n\t\tthis.onWindowHashChange = this.onWindowHashChange.bind( this );\n\n\t}\n\n\tbind() {\n\n\t\twindow.addEventListener( 'hashchange', this.onWindowHashChange, false );\n\n\t}\n\n\tunbind() {\n\n\t\twindow.removeEventListener( 'hashchange', this.onWindowHashChange, false );\n\n\t}\n\n\t/**\n\t * Returns the slide indices for the given hash link.\n\t *\n\t * @param {string} [hash] the hash string that we want to\n\t * find the indices for\n\t *\n\t * @returns slide indices or null\n\t */\n\tgetIndicesFromHash( hash=window.location.hash, options={} ) {\n\n\t\t// Attempt to parse the hash as either an index or name\n\t\tlet name = hash.replace( /^#\\/?/, '' );\n\t\tlet bits = name.split( '/' );\n\n\t\t// If the first bit is not fully numeric and there is a name we\n\t\t// can assume that this is a named link\n\t\tif( !/^[0-9]*$/.test( bits[0] ) && name.length ) {\n\t\t\tlet slide;\n\n\t\t\tlet f;\n\n\t\t\t// Parse named links with fragments (#/named-link/2)\n\t\t\tif( /\\/[-\\d]+$/g.test( name ) ) {\n\t\t\t\tf = parseInt( name.split( '/' ).pop(), 10 );\n\t\t\t\tf = isNaN(f) ? undefined : f;\n\t\t\t\tname = name.split( '/' ).shift();\n\t\t\t}\n\n\t\t\t// Ensure the named link is a valid HTML ID attribute\n\t\t\ttry {\n\t\t\t\tslide = document\n\t\t\t\t\t.getElementById( decodeURIComponent( name ) )\n\t\t\t\t\t.closest('.slides section');\n\t\t\t}\n\t\t\tcatch ( error ) { }\n\n\t\t\tif( slide ) {\n\t\t\t\treturn { ...this.Reveal.getIndices( slide ), f };\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tconst config = this.Reveal.getConfig();\n\t\t\tlet hashIndexBase = config.hashOneBasedIndex || options.oneBasedIndex ? 1 : 0;\n\n\t\t\t// Read the index components of the hash\n\t\t\tlet h = ( parseInt( bits[0], 10 ) - hashIndexBase ) || 0,\n\t\t\t\tv = ( parseInt( bits[1], 10 ) - hashIndexBase ) || 0,\n\t\t\t\tf;\n\n\t\t\tif( config.fragmentInURL ) {\n\t\t\t\tf = parseInt( bits[2], 10 );\n\t\t\t\tif( isNaN( f ) ) {\n\t\t\t\t\tf = undefined;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn { h, v, f };\n\t\t}\n\n\t\t// The hash couldn't be parsed or no matching named link was found\n\t\treturn null\n\n\t}\n\n\t/**\n\t * Reads the current URL (hash) and navigates accordingly.\n\t */\n\treadURL() {\n\n\t\tconst currentIndices = this.Reveal.getIndices();\n\t\tconst newIndices = this.getIndicesFromHash();\n\n\t\tif( newIndices ) {\n\t\t\tif( ( newIndices.h !== currentIndices.h || newIndices.v !== currentIndices.v || newIndices.f !== undefined ) ) {\n\t\t\t\t\tthis.Reveal.slide( newIndices.h, newIndices.v, newIndices.f );\n\t\t\t}\n\t\t}\n\t\t// If no new indices are available, we're trying to navigate to\n\t\t// a slide hash that does not exist\n\t\telse {\n\t\t\tthis.Reveal.slide( currentIndices.h || 0, currentIndices.v || 0 );\n\t\t}\n\n\t}\n\n\t/**\n\t * Updates the page URL (hash) to reflect the current\n\t * state.\n\t *\n\t * @param {number} delay The time in ms to wait before\n\t * writing the hash\n\t */\n\twriteURL( delay ) {\n\n\t\tlet config = this.Reveal.getConfig();\n\t\tlet currentSlide = this.Reveal.getCurrentSlide();\n\n\t\t// Make sure there's never more than one timeout running\n\t\tclearTimeout( this.writeURLTimeout );\n\n\t\t// If a delay is specified, timeout this call\n\t\tif( typeof delay === 'number' ) {\n\t\t\tthis.writeURLTimeout = setTimeout( this.writeURL, delay );\n\t\t}\n\t\telse if( currentSlide ) {\n\n\t\t\tlet hash = this.getHash();\n\n\t\t\t// If we're configured to push to history OR the history\n\t\t\t// API is not available.\n\t\t\tif( config.history ) {\n\t\t\t\twindow.location.hash = hash;\n\t\t\t}\n\t\t\t// If we're configured to reflect the current slide in the\n\t\t\t// URL without pushing to history.\n\t\t\telse if( config.hash ) {\n\t\t\t\t// If the hash is empty, don't add it to the URL\n\t\t\t\tif( hash === '/' ) {\n\t\t\t\t\tthis.debouncedReplaceState( window.location.pathname + window.location.search );\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.debouncedReplaceState( '#' + hash );\n\t\t\t\t}\n\t\t\t}\n\t\t\t// UPDATE: The below nuking of all hash changes breaks\n\t\t\t// anchors on pages where reveal.js is running. Removed\n\t\t\t// in 4.0. Why was it here in the first place? ¯\\_(ツ)_/¯\n\t\t\t//\n\t\t\t// If history and hash are both disabled, a hash may still\n\t\t\t// be added to the URL by clicking on a href with a hash\n\t\t\t// target. Counter this by always removing the hash.\n\t\t\t// else {\n\t\t\t// \twindow.history.replaceState( null, null, window.location.pathname + window.location.search );\n\t\t\t// }\n\n\t\t}\n\n\t}\n\n\treplaceState( url ) {\n\n\t\twindow.history.replaceState( null, null, url );\n\t\tthis.replaceStateTimestamp = Date.now();\n\n\t}\n\n\tdebouncedReplaceState( url ) {\n\n\t\tclearTimeout( this.replaceStateTimeout );\n\n\t\tif( Date.now() - this.replaceStateTimestamp > this.MAX_REPLACE_STATE_FREQUENCY ) {\n\t\t\tthis.replaceState( url );\n\t\t}\n\t\telse {\n\t\t\tthis.replaceStateTimeout = setTimeout( () => this.replaceState( url ), this.MAX_REPLACE_STATE_FREQUENCY );\n\t\t}\n\n\t}\n\n\t/**\n\t * Return a hash URL that will resolve to the given slide location.\n\t *\n\t * @param {HTMLElement} [slide=currentSlide] The slide to link to\n\t */\n\tgetHash( slide ) {\n\n\t\tlet url = '/';\n\n\t\t// Attempt to create a named link based on the slide's ID\n\t\tlet s = slide || this.Reveal.getCurrentSlide();\n\t\tlet id = s ? s.getAttribute( 'id' ) : null;\n\t\tif( id ) {\n\t\t\tid = encodeURIComponent( id );\n\t\t}\n\n\t\tlet index = this.Reveal.getIndices( slide );\n\t\tif( !this.Reveal.getConfig().fragmentInURL ) {\n\t\t\tindex.f = undefined;\n\t\t}\n\n\t\t// If the current slide has an ID, use that as a named link,\n\t\t// but we don't support named links with a fragment index\n\t\tif( typeof id === 'string' && id.length ) {\n\t\t\turl = '/' + id;\n\n\t\t\t// If there is also a fragment, append that at the end\n\t\t\t// of the named link, like: #/named-link/2\n\t\t\tif( index.f >= 0 ) url += '/' + index.f;\n\t\t}\n\t\t// Otherwise use the /h/v index\n\t\telse {\n\t\t\tlet hashIndexBase = this.Reveal.getConfig().hashOneBasedIndex ? 1 : 0;\n\t\t\tif( index.h > 0 || index.v > 0 || index.f >= 0 ) url += index.h + hashIndexBase;\n\t\t\tif( index.v > 0 || index.f >= 0 ) url += '/' + (index.v + hashIndexBase );\n\t\t\tif( index.f >= 0 ) url += '/' + index.f;\n\t\t}\n\n\t\treturn url;\n\n\t}\n\n\t/**\n\t * Handler for the window level 'hashchange' event.\n\t *\n\t * @param {object} [event]\n\t */\n\tonWindowHashChange( event ) {\n\n\t\tthis.readURL();\n\n\t}\n\n}","import { queryAll } from '../utils/util.js'\nimport { isAndroid } from '../utils/device.js'\n\n/**\n * Manages our presentation controls. This includes both\n * the built-in control arrows as well as event monitoring\n * of any elements within the presentation with either of the\n * following helper classes:\n * - .navigate-up\n * - .navigate-right\n * - .navigate-down\n * - .navigate-left\n * - .navigate-next\n * - .navigate-prev\n */\nexport default class Controls {\n\n\tconstructor( Reveal ) {\n\n\t\tthis.Reveal = Reveal;\n\n\t\tthis.onNavigateLeftClicked = this.onNavigateLeftClicked.bind( this );\n\t\tthis.onNavigateRightClicked = this.onNavigateRightClicked.bind( this );\n\t\tthis.onNavigateUpClicked = this.onNavigateUpClicked.bind( this );\n\t\tthis.onNavigateDownClicked = this.onNavigateDownClicked.bind( this );\n\t\tthis.onNavigatePrevClicked = this.onNavigatePrevClicked.bind( this );\n\t\tthis.onNavigateNextClicked = this.onNavigateNextClicked.bind( this );\n\n\t}\n\n\trender() {\n\n\t\tconst rtl = this.Reveal.getConfig().rtl;\n\t\tconst revealElement = this.Reveal.getRevealElement();\n\n\t\tthis.element = document.createElement( 'aside' );\n\t\tthis.element.className = 'controls';\n\t\tthis.element.innerHTML =\n\t\t\t`<button class=\"navigate-left\" aria-label=\"${ rtl ? 'next slide' : 'previous slide' }\"><div class=\"controls-arrow\"></div></button>\n\t\t\t<button class=\"navigate-right\" aria-label=\"${ rtl ? 'previous slide' : 'next slide' }\"><div class=\"controls-arrow\"></div></button>\n\t\t\t<button class=\"navigate-up\" aria-label=\"above slide\"><div class=\"controls-arrow\"></div></button>\n\t\t\t<button class=\"navigate-down\" aria-label=\"below slide\"><div class=\"controls-arrow\"></div></button>`;\n\n\t\tthis.Reveal.getRevealElement().appendChild( this.element );\n\n\t\t// There can be multiple instances of controls throughout the page\n\t\tthis.controlsLeft = queryAll( revealElement, '.navigate-left' );\n\t\tthis.controlsRight = queryAll( revealElement, '.navigate-right' );\n\t\tthis.controlsUp = queryAll( revealElement, '.navigate-up' );\n\t\tthis.controlsDown = queryAll( revealElement, '.navigate-down' );\n\t\tthis.controlsPrev = queryAll( revealElement, '.navigate-prev' );\n\t\tthis.controlsNext = queryAll( revealElement, '.navigate-next' );\n\n\t\t// The left, right and down arrows in the standard reveal.js controls\n\t\tthis.controlsRightArrow = this.element.querySelector( '.navigate-right' );\n\t\tthis.controlsLeftArrow = this.element.querySelector( '.navigate-left' );\n\t\tthis.controlsDownArrow = this.element.querySelector( '.navigate-down' );\n\n\t}\n\n\t/**\n\t * Called when the reveal.js config is updated.\n\t */\n\tconfigure( config, oldConfig ) {\n\n\t\tthis.element.style.display = config.controls ? 'block' : 'none';\n\n\t\tthis.element.setAttribute( 'data-controls-layout', config.controlsLayout );\n\t\tthis.element.setAttribute( 'data-controls-back-arrows', config.controlsBackArrows );\n\n\t}\n\n\tbind() {\n\n\t\t// Listen to both touch and click events, in case the device\n\t\t// supports both\n\t\tlet pointerEvents = [ 'touchstart', 'click' ];\n\n\t\t// Only support touch for Android, fixes double navigations in\n\t\t// stock browser\n\t\tif( isAndroid ) {\n\t\t\tpointerEvents = [ 'touchstart' ];\n\t\t}\n\n\t\tpointerEvents.forEach( eventName => {\n\t\t\tthis.controlsLeft.forEach( el => el.addEventListener( eventName, this.onNavigateLeftClicked, false ) );\n\t\t\tthis.controlsRight.forEach( el => el.addEventListener( eventName, this.onNavigateRightClicked, false ) );\n\t\t\tthis.controlsUp.forEach( el => el.addEventListener( eventName, this.onNavigateUpClicked, false ) );\n\t\t\tthis.controlsDown.forEach( el => el.addEventListener( eventName, this.onNavigateDownClicked, false ) );\n\t\t\tthis.controlsPrev.forEach( el => el.addEventListener( eventName, this.onNavigatePrevClicked, false ) );\n\t\t\tthis.controlsNext.forEach( el => el.addEventListener( eventName, this.onNavigateNextClicked, false ) );\n\t\t} );\n\n\t}\n\n\tunbind() {\n\n\t\t[ 'touchstart', 'click' ].forEach( eventName => {\n\t\t\tthis.controlsLeft.forEach( el => el.removeEventListener( eventName, this.onNavigateLeftClicked, false ) );\n\t\t\tthis.controlsRight.forEach( el => el.removeEventListener( eventName, this.onNavigateRightClicked, false ) );\n\t\t\tthis.controlsUp.forEach( el => el.removeEventListener( eventName, this.onNavigateUpClicked, false ) );\n\t\t\tthis.controlsDown.forEach( el => el.removeEventListener( eventName, this.onNavigateDownClicked, false ) );\n\t\t\tthis.controlsPrev.forEach( el => el.removeEventListener( eventName, this.onNavigatePrevClicked, false ) );\n\t\t\tthis.controlsNext.forEach( el => el.removeEventListener( eventName, this.onNavigateNextClicked, false ) );\n\t\t} );\n\n\t}\n\n\t/**\n\t * Updates the state of all control/navigation arrows.\n\t */\n\tupdate() {\n\n\t\tlet routes = this.Reveal.availableRoutes();\n\n\t\t// Remove the 'enabled' class from all directions\n\t\t[...this.controlsLeft, ...this.controlsRight, ...this.controlsUp, ...this.controlsDown, ...this.controlsPrev, ...this.controlsNext].forEach( node => {\n\t\t\tnode.classList.remove( 'enabled', 'fragmented' );\n\n\t\t\t// Set 'disabled' attribute on all directions\n\t\t\tnode.setAttribute( 'disabled', 'disabled' );\n\t\t} );\n\n\t\t// Add the 'enabled' class to the available routes; remove 'disabled' attribute to enable buttons\n\t\tif( routes.left ) this.controlsLeft.forEach( el => { el.classList.add( 'enabled' ); el.removeAttribute( 'disabled' ); } );\n\t\tif( routes.right ) this.controlsRight.forEach( el => { el.classList.add( 'enabled' ); el.removeAttribute( 'disabled' ); } );\n\t\tif( routes.up ) this.controlsUp.forEach( el => { el.classList.add( 'enabled' ); el.removeAttribute( 'disabled' ); } );\n\t\tif( routes.down ) this.controlsDown.forEach( el => { el.classList.add( 'enabled' ); el.removeAttribute( 'disabled' ); } );\n\n\t\t// Prev/next buttons\n\t\tif( routes.left || routes.up ) this.controlsPrev.forEach( el => { el.classList.add( 'enabled' ); el.removeAttribute( 'disabled' ); } );\n\t\tif( routes.right || routes.down ) this.controlsNext.forEach( el => { el.classList.add( 'enabled' ); el.removeAttribute( 'disabled' ); } );\n\n\t\t// Highlight fragment directions\n\t\tlet currentSlide = this.Reveal.getCurrentSlide();\n\t\tif( currentSlide ) {\n\n\t\t\tlet fragmentsRoutes = this.Reveal.fragments.availableRoutes();\n\n\t\t\t// Always apply fragment decorator to prev/next buttons\n\t\t\tif( fragmentsRoutes.prev ) this.controlsPrev.forEach( el => { el.classList.add( 'fragmented', 'enabled' ); el.removeAttribute( 'disabled' ); } );\n\t\t\tif( fragmentsRoutes.next ) this.controlsNext.forEach( el => { el.classList.add( 'fragmented', 'enabled' ); el.removeAttribute( 'disabled' ); } );\n\n\t\t\t// Apply fragment decorators to directional buttons based on\n\t\t\t// what slide axis they are in\n\t\t\tif( this.Reveal.isVerticalSlide( currentSlide ) ) {\n\t\t\t\tif( fragmentsRoutes.prev ) this.controlsUp.forEach( el => { el.classList.add( 'fragmented', 'enabled' ); el.removeAttribute( 'disabled' ); } );\n\t\t\t\tif( fragmentsRoutes.next ) this.controlsDown.forEach( el => { el.classList.add( 'fragmented', 'enabled' ); el.removeAttribute( 'disabled' ); } );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif( fragmentsRoutes.prev ) this.controlsLeft.forEach( el => { el.classList.add( 'fragmented', 'enabled' ); el.removeAttribute( 'disabled' ); } );\n\t\t\t\tif( fragmentsRoutes.next ) this.controlsRight.forEach( el => { el.classList.add( 'fragmented', 'enabled' ); el.removeAttribute( 'disabled' ); } );\n\t\t\t}\n\n\t\t}\n\n\t\tif( this.Reveal.getConfig().controlsTutorial ) {\n\n\t\t\tlet indices = this.Reveal.getIndices();\n\n\t\t\t// Highlight control arrows with an animation to ensure\n\t\t\t// that the viewer knows how to navigate\n\t\t\tif( !this.Reveal.hasNavigatedVertically() && routes.down ) {\n\t\t\t\tthis.controlsDownArrow.classList.add( 'highlight' );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.controlsDownArrow.classList.remove( 'highlight' );\n\n\t\t\t\tif( this.Reveal.getConfig().rtl ) {\n\n\t\t\t\t\tif( !this.Reveal.hasNavigatedHorizontally() && routes.left && indices.v === 0 ) {\n\t\t\t\t\t\tthis.controlsLeftArrow.classList.add( 'highlight' );\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis.controlsLeftArrow.classList.remove( 'highlight' );\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif( !this.Reveal.hasNavigatedHorizontally() && routes.right && indices.v === 0 ) {\n\t\t\t\t\t\tthis.controlsRightArrow.classList.add( 'highlight' );\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis.controlsRightArrow.classList.remove( 'highlight' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tdestroy() {\n\n\t\tthis.unbind();\n\t\tthis.element.remove();\n\n\t}\n\n\t/**\n\t * Event handlers for navigation control buttons.\n\t */\n\tonNavigateLeftClicked( event ) {\n\n\t\tevent.preventDefault();\n\t\tthis.Reveal.onUserInput();\n\n\t\tif( this.Reveal.getConfig().navigationMode === 'linear' ) {\n\t\t\tthis.Reveal.prev();\n\t\t}\n\t\telse {\n\t\t\tthis.Reveal.left();\n\t\t}\n\n\t}\n\n\tonNavigateRightClicked( event ) {\n\n\t\tevent.preventDefault();\n\t\tthis.Reveal.onUserInput();\n\n\t\tif( this.Reveal.getConfig().navigationMode === 'linear' ) {\n\t\t\tthis.Reveal.next();\n\t\t}\n\t\telse {\n\t\t\tthis.Reveal.right();\n\t\t}\n\n\t}\n\n\tonNavigateUpClicked( event ) {\n\n\t\tevent.preventDefault();\n\t\tthis.Reveal.onUserInput();\n\n\t\tthis.Reveal.up();\n\n\t}\n\n\tonNavigateDownClicked( event ) {\n\n\t\tevent.preventDefault();\n\t\tthis.Reveal.onUserInput();\n\n\t\tthis.Reveal.down();\n\n\t}\n\n\tonNavigatePrevClicked( event ) {\n\n\t\tevent.preventDefault();\n\t\tthis.Reveal.onUserInput();\n\n\t\tthis.Reveal.prev();\n\n\t}\n\n\tonNavigateNextClicked( event ) {\n\n\t\tevent.preventDefault();\n\t\tthis.Reveal.onUserInput();\n\n\t\tthis.Reveal.next();\n\n\t}\n\n\n}","/**\n * Creates a visual progress bar for the presentation.\n */\nexport default class Progress {\n\n\tconstructor( Reveal ) {\n\n\t\tthis.Reveal = Reveal;\n\n\t\tthis.onProgressClicked = this.onProgressClicked.bind( this );\n\n\t}\n\n\trender() {\n\n\t\tthis.element = document.createElement( 'div' );\n\t\tthis.element.className = 'progress';\n\t\tthis.Reveal.getRevealElement().appendChild( this.element );\n\n\t\tthis.bar = document.createElement( 'span' );\n\t\tthis.element.appendChild( this.bar );\n\n\t}\n\n\t/**\n\t * Called when the reveal.js config is updated.\n\t */\n\tconfigure( config, oldConfig ) {\n\n\t\tthis.element.style.display = config.progress ? 'block' : 'none';\n\n\t}\n\n\tbind() {\n\n\t\tif( this.Reveal.getConfig().progress && this.element ) {\n\t\t\tthis.element.addEventListener( 'click', this.onProgressClicked, false );\n\t\t}\n\n\t}\n\n\tunbind() {\n\n\t\tif ( this.Reveal.getConfig().progress && this.element ) {\n\t\t\tthis.element.removeEventListener( 'click', this.onProgressClicked, false );\n\t\t}\n\n\t}\n\n\t/**\n\t * Updates the progress bar to reflect the current slide.\n\t */\n\tupdate() {\n\n\t\t// Update progress if enabled\n\t\tif( this.Reveal.getConfig().progress && this.bar ) {\n\n\t\t\tlet scale = this.Reveal.getProgress();\n\n\t\t\t// Don't fill the progress bar if there's only one slide\n\t\t\tif( this.Reveal.getTotalSlides() < 2 ) {\n\t\t\t\tscale = 0;\n\t\t\t}\n\n\t\t\tthis.bar.style.transform = 'scaleX('+ scale +')';\n\n\t\t}\n\n\t}\n\n\tgetMaxWidth() {\n\n\t\treturn this.Reveal.getRevealElement().offsetWidth;\n\n\t}\n\n\t/**\n\t * Clicking on the progress bar results in a navigation to the\n\t * closest approximate horizontal slide using this equation:\n\t *\n\t * ( clickX / presentationWidth ) * numberOfSlides\n\t *\n\t * @param {object} event\n\t */\n\tonProgressClicked( event ) {\n\n\t\tthis.Reveal.onUserInput( event );\n\n\t\tevent.preventDefault();\n\n\t\tlet slides = this.Reveal.getSlides();\n\t\tlet slidesTotal = slides.length;\n\t\tlet slideIndex = Math.floor( ( event.clientX / this.getMaxWidth() ) * slidesTotal );\n\n\t\tif( this.Reveal.getConfig().rtl ) {\n\t\t\tslideIndex = slidesTotal - slideIndex;\n\t\t}\n\n\t\tlet targetIndices = this.Reveal.getIndices(slides[slideIndex]);\n\t\tthis.Reveal.slide( targetIndices.h, targetIndices.v );\n\n\t}\n\n\tdestroy() {\n\n\t\tthis.element.remove();\n\n\t}\n\n}","/**\n * Handles hiding of the pointer/cursor when inactive.\n */\nexport default class Pointer {\n\n\tconstructor( Reveal ) {\n\n\t\tthis.Reveal = Reveal;\n\n\t\t// Throttles mouse wheel navigation\n\t\tthis.lastMouseWheelStep = 0;\n\n\t\t// Is the mouse pointer currently hidden from view\n\t\tthis.cursorHidden = false;\n\n\t\t// Timeout used to determine when the cursor is inactive\n\t\tthis.cursorInactiveTimeout = 0;\n\n\t\tthis.onDocumentCursorActive = this.onDocumentCursorActive.bind( this );\n\t\tthis.onDocumentMouseScroll = this.onDocumentMouseScroll.bind( this );\n\n\t}\n\n\t/**\n\t * Called when the reveal.js config is updated.\n\t */\n\tconfigure( config, oldConfig ) {\n\n\t\tif( config.mouseWheel ) {\n\t\t\tdocument.addEventListener( 'wheel', this.onDocumentMouseScroll, false );\n\t\t}\n\t\telse {\n\t\t\tdocument.removeEventListener( 'wheel', this.onDocumentMouseScroll, false );\n\t\t}\n\n\t\t// Auto-hide the mouse pointer when its inactive\n\t\tif( config.hideInactiveCursor ) {\n\t\t\tdocument.addEventListener( 'mousemove', this.onDocumentCursorActive, false );\n\t\t\tdocument.addEventListener( 'mousedown', this.onDocumentCursorActive, false );\n\t\t}\n\t\telse {\n\t\t\tthis.showCursor();\n\n\t\t\tdocument.removeEventListener( 'mousemove', this.onDocumentCursorActive, false );\n\t\t\tdocument.removeEventListener( 'mousedown', this.onDocumentCursorActive, false );\n\t\t}\n\n\t}\n\n\t/**\n\t * Shows the mouse pointer after it has been hidden with\n\t * #hideCursor.\n\t */\n\tshowCursor() {\n\n\t\tif( this.cursorHidden ) {\n\t\t\tthis.cursorHidden = false;\n\t\t\tthis.Reveal.getRevealElement().style.cursor = '';\n\t\t}\n\n\t}\n\n\t/**\n\t * Hides the mouse pointer when it's on top of the .reveal\n\t * container.\n\t */\n\thideCursor() {\n\n\t\tif( this.cursorHidden === false ) {\n\t\t\tthis.cursorHidden = true;\n\t\t\tthis.Reveal.getRevealElement().style.cursor = 'none';\n\t\t}\n\n\t}\n\n\tdestroy() {\n\n\t\tthis.showCursor();\n\n\t\tdocument.removeEventListener( 'wheel', this.onDocumentMouseScroll, false );\n\t\tdocument.removeEventListener( 'mousemove', this.onDocumentCursorActive, false );\n\t\tdocument.removeEventListener( 'mousedown', this.onDocumentCursorActive, false );\n\n\t}\n\n\t/**\n\t * Called whenever there is mouse input at the document level\n\t * to determine if the cursor is active or not.\n\t *\n\t * @param {object} event\n\t */\n\tonDocumentCursorActive( event ) {\n\n\t\tthis.showCursor();\n\n\t\tclearTimeout( this.cursorInactiveTimeout );\n\n\t\tthis.cursorInactiveTimeout = setTimeout( this.hideCursor.bind( this ), this.Reveal.getConfig().hideCursorTime );\n\n\t}\n\n\t/**\n\t * Handles mouse wheel scrolling, throttled to avoid skipping\n\t * multiple slides.\n\t *\n\t * @param {object} event\n\t */\n\tonDocumentMouseScroll( event ) {\n\n\t\tif( Date.now() - this.lastMouseWheelStep > 1000 ) {\n\n\t\t\tthis.lastMouseWheelStep = Date.now();\n\n\t\t\tlet delta = event.detail || -event.wheelDelta;\n\t\t\tif( delta > 0 ) {\n\t\t\t\tthis.Reveal.next();\n\t\t\t}\n\t\t\telse if( delta < 0 ) {\n\t\t\t\tthis.Reveal.prev();\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n","/**\n * Loads a JavaScript file from the given URL and executes it.\n *\n * @param {string} url Address of the .js file to load\n * @param {function} callback Method to invoke when the script\n * has loaded and executed\n */\nexport const loadScript = ( url, callback ) => {\n\n\tconst script = document.createElement( 'script' );\n\tscript.type = 'text/javascript';\n\tscript.async = false;\n\tscript.defer = false;\n\tscript.src = url;\n\n\tif( typeof callback === 'function' ) {\n\n\t\t// Success callback\n\t\tscript.onload = script.onreadystatechange = event => {\n\t\t\tif( event.type === 'load' || /loaded|complete/.test( script.readyState ) ) {\n\n\t\t\t\t// Kill event listeners\n\t\t\t\tscript.onload = script.onreadystatechange = script.onerror = null;\n\n\t\t\t\tcallback();\n\n\t\t\t}\n\t\t};\n\n\t\t// Error callback\n\t\tscript.onerror = err => {\n\n\t\t\t// Kill event listeners\n\t\t\tscript.onload = script.onreadystatechange = script.onerror = null;\n\n\t\t\tcallback( new Error( 'Failed loading script: ' + script.src + '\\n' + err ) );\n\n\t\t};\n\n\t}\n\n\t// Append the script at the end of <head>\n\tconst head = document.querySelector( 'head' );\n\thead.insertBefore( script, head.lastChild );\n\n}","import { loadScript } from '../utils/loader.js'\n\n/**\n * Manages loading and registering of reveal.js plugins.\n */\nexport default class Plugins {\n\n\tconstructor( reveal ) {\n\n\t\tthis.Reveal = reveal;\n\n\t\t// Flags our current state (idle -> loading -> loaded)\n\t\tthis.state = 'idle';\n\n\t\t// An id:instance map of currently registered plugins\n\t\tthis.registeredPlugins = {};\n\n\t\tthis.asyncDependencies = [];\n\n\t}\n\n\t/**\n\t * Loads reveal.js dependencies, registers and\n\t * initializes plugins.\n\t *\n\t * Plugins are direct references to a reveal.js plugin\n\t * object that we register and initialize after any\n\t * synchronous dependencies have loaded.\n\t *\n\t * Dependencies are defined via the 'dependencies' config\n\t * option and will be loaded prior to starting reveal.js.\n\t * Some dependencies may have an 'async' flag, if so they\n\t * will load after reveal.js has been started up.\n\t */\n\tload( plugins, dependencies ) {\n\n\t\tthis.state = 'loading';\n\n\t\tplugins.forEach( this.registerPlugin.bind( this ) );\n\n\t\treturn new Promise( resolve => {\n\n\t\t\tlet scripts = [],\n\t\t\t\tscriptsToLoad = 0;\n\n\t\t\tdependencies.forEach( s => {\n\t\t\t\t// Load if there's no condition or the condition is truthy\n\t\t\t\tif( !s.condition || s.condition() ) {\n\t\t\t\t\tif( s.async ) {\n\t\t\t\t\t\tthis.asyncDependencies.push( s );\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tscripts.push( s );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\tif( scripts.length ) {\n\t\t\t\tscriptsToLoad = scripts.length;\n\n\t\t\t\tconst scriptLoadedCallback = (s) => {\n\t\t\t\t\tif( s && typeof s.callback === 'function' ) s.callback();\n\n\t\t\t\t\tif( --scriptsToLoad === 0 ) {\n\t\t\t\t\t\tthis.initPlugins().then( resolve );\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t// Load synchronous scripts\n\t\t\t\tscripts.forEach( s => {\n\t\t\t\t\tif( typeof s.id === 'string' ) {\n\t\t\t\t\t\tthis.registerPlugin( s );\n\t\t\t\t\t\tscriptLoadedCallback( s );\n\t\t\t\t\t}\n\t\t\t\t\telse if( typeof s.src === 'string' ) {\n\t\t\t\t\t\tloadScript( s.src, () => scriptLoadedCallback(s) );\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tconsole.warn( 'Unrecognized plugin format', s );\n\t\t\t\t\t\tscriptLoadedCallback();\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.initPlugins().then( resolve );\n\t\t\t}\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Initializes our plugins and waits for them to be ready\n\t * before proceeding.\n\t */\n\tinitPlugins() {\n\n\t\treturn new Promise( resolve => {\n\n\t\t\tlet pluginValues = Object.values( this.registeredPlugins );\n\t\t\tlet pluginsToInitialize = pluginValues.length;\n\n\t\t\t// If there are no plugins, skip this step\n\t\t\tif( pluginsToInitialize === 0 ) {\n\t\t\t\tthis.loadAsync().then( resolve );\n\t\t\t}\n\t\t\t// ... otherwise initialize plugins\n\t\t\telse {\n\n\t\t\t\tlet initNextPlugin;\n\n\t\t\t\tlet afterPlugInitialized = () => {\n\t\t\t\t\tif( --pluginsToInitialize === 0 ) {\n\t\t\t\t\t\tthis.loadAsync().then( resolve );\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tinitNextPlugin();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tlet i = 0;\n\n\t\t\t\t// Initialize plugins serially\n\t\t\t\tinitNextPlugin = () => {\n\n\t\t\t\t\tlet plugin = pluginValues[i++];\n\n\t\t\t\t\t// If the plugin has an 'init' method, invoke it\n\t\t\t\t\tif( typeof plugin.init === 'function' ) {\n\t\t\t\t\t\tlet promise = plugin.init( this.Reveal );\n\n\t\t\t\t\t\t// If the plugin returned a Promise, wait for it\n\t\t\t\t\t\tif( promise && typeof promise.then === 'function' ) {\n\t\t\t\t\t\t\tpromise.then( afterPlugInitialized );\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tafterPlugInitialized();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tafterPlugInitialized();\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tinitNextPlugin();\n\n\t\t\t}\n\n\t\t} )\n\n\t}\n\n\t/**\n\t * Loads all async reveal.js dependencies.\n\t */\n\tloadAsync() {\n\n\t\tthis.state = 'loaded';\n\n\t\tif( this.asyncDependencies.length ) {\n\t\t\tthis.asyncDependencies.forEach( s => {\n\t\t\t\tloadScript( s.src, s.callback );\n\t\t\t} );\n\t\t}\n\n\t\treturn Promise.resolve();\n\n\t}\n\n\t/**\n\t * Registers a new plugin with this reveal.js instance.\n\t *\n\t * reveal.js waits for all registered plugins to initialize\n\t * before considering itself ready, as long as the plugin\n\t * is registered before calling `Reveal.initialize()`.\n\t */\n\tregisterPlugin( plugin ) {\n\n\t\t// Backwards compatibility to make reveal.js ~3.9.0\n\t\t// plugins work with reveal.js 4.0.0\n\t\tif( arguments.length === 2 && typeof arguments[0] === 'string' ) {\n\t\t\tplugin = arguments[1];\n\t\t\tplugin.id = arguments[0];\n\t\t}\n\t\t// Plugin can optionally be a function which we call\n\t\t// to create an instance of the plugin\n\t\telse if( typeof plugin === 'function' ) {\n\t\t\tplugin = plugin();\n\t\t}\n\n\t\tlet id = plugin.id;\n\n\t\tif( typeof id !== 'string' ) {\n\t\t\tconsole.warn( 'Unrecognized plugin format; can\\'t find plugin.id', plugin );\n\t\t}\n\t\telse if( this.registeredPlugins[id] === undefined ) {\n\t\t\tthis.registeredPlugins[id] = plugin;\n\n\t\t\t// If a plugin is registered after reveal.js is loaded,\n\t\t\t// initialize it right away\n\t\t\tif( this.state === 'loaded' && typeof plugin.init === 'function' ) {\n\t\t\t\tplugin.init( this.Reveal );\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tconsole.warn( 'reveal.js: \"'+ id +'\" plugin has already been registered' );\n\t\t}\n\n\t}\n\n\t/**\n\t * Checks if a specific plugin has been registered.\n\t *\n\t * @param {String} id Unique plugin identifier\n\t */\n\thasPlugin( id ) {\n\n\t\treturn !!this.registeredPlugins[id];\n\n\t}\n\n\t/**\n\t * Returns the specific plugin instance, if a plugin\n\t * with the given ID has been registered.\n\t *\n\t * @param {String} id Unique plugin identifier\n\t */\n\tgetPlugin( id ) {\n\n\t\treturn this.registeredPlugins[id];\n\n\t}\n\n\tgetRegisteredPlugins() {\n\n\t\treturn this.registeredPlugins;\n\n\t}\n\n\tdestroy() {\n\n\t\tObject.values( this.registeredPlugins ).forEach( plugin => {\n\t\t\tif( typeof plugin.destroy === 'function' ) {\n\t\t\t\tplugin.destroy();\n\t\t\t}\n\t\t} );\n\n\t\tthis.registeredPlugins = {};\n\t\tthis.asyncDependencies = [];\n\n\t}\n\n}\n","import { isAndroid } from '../utils/device.js'\nimport { matches } from '../utils/util.js'\n\nconst SWIPE_THRESHOLD = 40;\n\n/**\n * Controls all touch interactions and navigations for\n * a presentation.\n */\nexport default class Touch {\n\n\tconstructor( Reveal ) {\n\n\t\tthis.Reveal = Reveal;\n\n\t\t// Holds information about the currently ongoing touch interaction\n\t\tthis.touchStartX = 0;\n\t\tthis.touchStartY = 0;\n\t\tthis.touchStartCount = 0;\n\t\tthis.touchCaptured = false;\n\n\t\tthis.onPointerDown = this.onPointerDown.bind( this );\n\t\tthis.onPointerMove = this.onPointerMove.bind( this );\n\t\tthis.onPointerUp = this.onPointerUp.bind( this );\n\t\tthis.onTouchStart = this.onTouchStart.bind( this );\n\t\tthis.onTouchMove = this.onTouchMove.bind( this );\n\t\tthis.onTouchEnd = this.onTouchEnd.bind( this );\n\n\t}\n\n\t/**\n\t *\n\t */\n\tbind() {\n\n\t\tlet revealElement = this.Reveal.getRevealElement();\n\n\t\tif( 'onpointerdown' in window ) {\n\t\t\t// Use W3C pointer events\n\t\t\trevealElement.addEventListener( 'pointerdown', this.onPointerDown, false );\n\t\t\trevealElement.addEventListener( 'pointermove', this.onPointerMove, false );\n\t\t\trevealElement.addEventListener( 'pointerup', this.onPointerUp, false );\n\t\t}\n\t\telse if( window.navigator.msPointerEnabled ) {\n\t\t\t// IE 10 uses prefixed version of pointer events\n\t\t\trevealElement.addEventListener( 'MSPointerDown', this.onPointerDown, false );\n\t\t\trevealElement.addEventListener( 'MSPointerMove', this.onPointerMove, false );\n\t\t\trevealElement.addEventListener( 'MSPointerUp', this.onPointerUp, false );\n\t\t}\n\t\telse {\n\t\t\t// Fall back to touch events\n\t\t\trevealElement.addEventListener( 'touchstart', this.onTouchStart, false );\n\t\t\trevealElement.addEventListener( 'touchmove', this.onTouchMove, false );\n\t\t\trevealElement.addEventListener( 'touchend', this.onTouchEnd, false );\n\t\t}\n\n\t}\n\n\t/**\n\t *\n\t */\n\tunbind() {\n\n\t\tlet revealElement = this.Reveal.getRevealElement();\n\n\t\trevealElement.removeEventListener( 'pointerdown', this.onPointerDown, false );\n\t\trevealElement.removeEventListener( 'pointermove', this.onPointerMove, false );\n\t\trevealElement.removeEventListener( 'pointerup', this.onPointerUp, false );\n\n\t\trevealElement.removeEventListener( 'MSPointerDown', this.onPointerDown, false );\n\t\trevealElement.removeEventListener( 'MSPointerMove', this.onPointerMove, false );\n\t\trevealElement.removeEventListener( 'MSPointerUp', this.onPointerUp, false );\n\n\t\trevealElement.removeEventListener( 'touchstart', this.onTouchStart, false );\n\t\trevealElement.removeEventListener( 'touchmove', this.onTouchMove, false );\n\t\trevealElement.removeEventListener( 'touchend', this.onTouchEnd, false );\n\n\t}\n\n\t/**\n\t * Checks if the target element prevents the triggering of\n\t * swipe navigation.\n\t */\n\tisSwipePrevented( target ) {\n\n\t\t// Prevent accidental swipes when scrubbing timelines\n\t\tif( matches( target, 'video, audio' ) ) return true;\n\n\t\twhile( target && typeof target.hasAttribute === 'function' ) {\n\t\t\tif( target.hasAttribute( 'data-prevent-swipe' ) ) return true;\n\t\t\ttarget = target.parentNode;\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\t/**\n\t * Handler for the 'touchstart' event, enables support for\n\t * swipe and pinch gestures.\n\t *\n\t * @param {object} event\n\t */\n\tonTouchStart( event ) {\n\n\t\tif( this.isSwipePrevented( event.target ) ) return true;\n\n\t\tthis.touchStartX = event.touches[0].clientX;\n\t\tthis.touchStartY = event.touches[0].clientY;\n\t\tthis.touchStartCount = event.touches.length;\n\n\t}\n\n\t/**\n\t * Handler for the 'touchmove' event.\n\t *\n\t * @param {object} event\n\t */\n\tonTouchMove( event ) {\n\n\t\tif( this.isSwipePrevented( event.target ) ) return true;\n\n\t\tlet config = this.Reveal.getConfig();\n\n\t\t// Each touch should only trigger one action\n\t\tif( !this.touchCaptured ) {\n\t\t\tthis.Reveal.onUserInput( event );\n\n\t\t\tlet currentX = event.touches[0].clientX;\n\t\t\tlet currentY = event.touches[0].clientY;\n\n\t\t\t// There was only one touch point, look for a swipe\n\t\t\tif( event.touches.length === 1 && this.touchStartCount !== 2 ) {\n\n\t\t\t\tlet availableRoutes = this.Reveal.availableRoutes({ includeFragments: true });\n\n\t\t\t\tlet deltaX = currentX - this.touchStartX,\n\t\t\t\t\tdeltaY = currentY - this.touchStartY;\n\n\t\t\t\tif( deltaX > SWIPE_THRESHOLD && Math.abs( deltaX ) > Math.abs( deltaY ) ) {\n\t\t\t\t\tthis.touchCaptured = true;\n\t\t\t\t\tif( config.navigationMode === 'linear' ) {\n\t\t\t\t\t\tif( config.rtl ) {\n\t\t\t\t\t\t\tthis.Reveal.next();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tthis.Reveal.prev();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis.Reveal.left();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if( deltaX < -SWIPE_THRESHOLD && Math.abs( deltaX ) > Math.abs( deltaY ) ) {\n\t\t\t\t\tthis.touchCaptured = true;\n\t\t\t\t\tif( config.navigationMode === 'linear' ) {\n\t\t\t\t\t\tif( config.rtl ) {\n\t\t\t\t\t\t\tthis.Reveal.prev();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tthis.Reveal.next();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis.Reveal.right();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if( deltaY > SWIPE_THRESHOLD && availableRoutes.up ) {\n\t\t\t\t\tthis.touchCaptured = true;\n\t\t\t\t\tif( config.navigationMode === 'linear' ) {\n\t\t\t\t\t\tthis.Reveal.prev();\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis.Reveal.up();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if( deltaY < -SWIPE_THRESHOLD && availableRoutes.down ) {\n\t\t\t\t\tthis.touchCaptured = true;\n\t\t\t\t\tif( config.navigationMode === 'linear' ) {\n\t\t\t\t\t\tthis.Reveal.next();\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis.Reveal.down();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// If we're embedded, only block touch events if they have\n\t\t\t\t// triggered an action\n\t\t\t\tif( config.embedded ) {\n\t\t\t\t\tif( this.touchCaptured || this.Reveal.isVerticalSlide() ) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Not embedded? Block them all to avoid needless tossing\n\t\t\t\t// around of the viewport in iOS\n\t\t\t\telse {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t\t// There's a bug with swiping on some Android devices unless\n\t\t// the default action is always prevented\n\t\telse if( isAndroid ) {\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t}\n\n\t/**\n\t * Handler for the 'touchend' event.\n\t *\n\t * @param {object} event\n\t */\n\tonTouchEnd( event ) {\n\n\t\tthis.touchCaptured = false;\n\n\t}\n\n\t/**\n\t * Convert pointer down to touch start.\n\t *\n\t * @param {object} event\n\t */\n\tonPointerDown( event ) {\n\n\t\tif( event.pointerType === event.MSPOINTER_TYPE_TOUCH || event.pointerType === \"touch\" ) {\n\t\t\tevent.touches = [{ clientX: event.clientX, clientY: event.clientY }];\n\t\t\tthis.onTouchStart( event );\n\t\t}\n\n\t}\n\n\t/**\n\t * Convert pointer move to touch move.\n\t *\n\t * @param {object} event\n\t */\n\tonPointerMove( event ) {\n\n\t\tif( event.pointerType === event.MSPOINTER_TYPE_TOUCH || event.pointerType === \"touch\" )  {\n\t\t\tevent.touches = [{ clientX: event.clientX, clientY: event.clientY }];\n\t\t\tthis.onTouchMove( event );\n\t\t}\n\n\t}\n\n\t/**\n\t * Convert pointer up to touch end.\n\t *\n\t * @param {object} event\n\t */\n\tonPointerUp( event ) {\n\n\t\tif( event.pointerType === event.MSPOINTER_TYPE_TOUCH || event.pointerType === \"touch\" )  {\n\t\t\tevent.touches = [{ clientX: event.clientX, clientY: event.clientY }];\n\t\t\tthis.onTouchEnd( event );\n\t\t}\n\n\t}\n\n}","import { closest } from '../utils/util.js'\n\n/**\n * Manages focus when a presentation is embedded. This\n * helps us only capture keyboard from the presentation\n * a user is currently interacting with in a page where\n * multiple presentations are embedded.\n */\n\nconst STATE_FOCUS = 'focus';\nconst STATE_BLUR = 'blur';\n\nexport default class Focus {\n\n\tconstructor( Reveal ) {\n\n\t\tthis.Reveal = Reveal;\n\n\t\tthis.onRevealPointerDown = this.onRevealPointerDown.bind( this );\n\t\tthis.onDocumentPointerDown = this.onDocumentPointerDown.bind( this );\n\n\t}\n\n\t/**\n\t * Called when the reveal.js config is updated.\n\t */\n\tconfigure( config, oldConfig ) {\n\n\t\tif( config.embedded ) {\n\t\t\tthis.blur();\n\t\t}\n\t\telse {\n\t\t\tthis.focus();\n\t\t\tthis.unbind();\n\t\t}\n\n\t}\n\n\tbind() {\n\n\t\tif( this.Reveal.getConfig().embedded ) {\n\t\t\tthis.Reveal.getRevealElement().addEventListener( 'pointerdown', this.onRevealPointerDown, false );\n\t\t}\n\n\t}\n\n\tunbind() {\n\n\t\tthis.Reveal.getRevealElement().removeEventListener( 'pointerdown', this.onRevealPointerDown, false );\n\t\tdocument.removeEventListener( 'pointerdown', this.onDocumentPointerDown, false );\n\n\t}\n\n\tfocus() {\n\n\t\tif( this.state !== STATE_FOCUS ) {\n\t\t\tthis.Reveal.getRevealElement().classList.add( 'focused' );\n\t\t\tdocument.addEventListener( 'pointerdown', this.onDocumentPointerDown, false );\n\t\t}\n\n\t\tthis.state = STATE_FOCUS;\n\n\t}\n\n\tblur() {\n\n\t\tif( this.state !== STATE_BLUR ) {\n\t\t\tthis.Reveal.getRevealElement().classList.remove( 'focused' );\n\t\t\tdocument.removeEventListener( 'pointerdown', this.onDocumentPointerDown, false );\n\t\t}\n\n\t\tthis.state = STATE_BLUR;\n\n\t}\n\n\tisFocused() {\n\n\t\treturn this.state === STATE_FOCUS;\n\n\t}\n\n\tdestroy() {\n\n\t\tthis.Reveal.getRevealElement().classList.remove( 'focused' );\n\n\t}\n\n\tonRevealPointerDown( event ) {\n\n\t\tthis.focus();\n\n\t}\n\n\tonDocumentPointerDown( event ) {\n\n\t\tlet revealElement = closest( event.target, '.reveal' );\n\t\tif( !revealElement || revealElement !== this.Reveal.getRevealElement() ) {\n\t\t\tthis.blur();\n\t\t}\n\n\t}\n\n}","/**\n * Handles the showing of speaker notes\n */\nexport default class Notes {\n\n\tconstructor( Reveal ) {\n\n\t\tthis.Reveal = Reveal;\n\n\t}\n\n\trender() {\n\n\t\tthis.element = document.createElement( 'div' );\n\t\tthis.element.className = 'speaker-notes';\n\t\tthis.element.setAttribute( 'data-prevent-swipe', '' );\n\t\tthis.element.setAttribute( 'tabindex', '0' );\n\t\tthis.Reveal.getRevealElement().appendChild( this.element );\n\n\t}\n\n\t/**\n\t * Called when the reveal.js config is updated.\n\t */\n\tconfigure( config, oldConfig ) {\n\n\t\tif( config.showNotes ) {\n\t\t\tthis.element.setAttribute( 'data-layout', typeof config.showNotes === 'string' ? config.showNotes : 'inline' );\n\t\t}\n\n\t}\n\n\t/**\n\t * Pick up notes from the current slide and display them\n\t * to the viewer.\n\t *\n\t * @see {@link config.showNotes}\n\t */\n\tupdate() {\n\n\t\tif( this.Reveal.getConfig().showNotes &&\n\t\t\tthis.element && this.Reveal.getCurrentSlide() &&\n\t\t\t!this.Reveal.isScrollView() &&\n\t\t\t!this.Reveal.isPrintView()\n\t\t) {\n\t\t\tthis.element.innerHTML = this.getSlideNotes() || '<span class=\"notes-placeholder\">No notes on this slide.</span>';\n\t\t}\n\n\t}\n\n\t/**\n\t * Updates the visibility of the speaker notes sidebar that\n\t * is used to share annotated slides. The notes sidebar is\n\t * only visible if showNotes is true and there are notes on\n\t * one or more slides in the deck.\n\t */\n\tupdateVisibility() {\n\n\t\tif( this.Reveal.getConfig().showNotes &&\n\t\t\tthis.hasNotes() &&\n\t\t\t!this.Reveal.isScrollView() &&\n\t\t\t!this.Reveal.isPrintView()\n\t\t) {\n\t\t\tthis.Reveal.getRevealElement().classList.add( 'show-notes' );\n\t\t}\n\t\telse {\n\t\t\tthis.Reveal.getRevealElement().classList.remove( 'show-notes' );\n\t\t}\n\n\t}\n\n\t/**\n\t * Checks if there are speaker notes for ANY slide in the\n\t * presentation.\n\t */\n\thasNotes() {\n\n\t\treturn this.Reveal.getSlidesElement().querySelectorAll( '[data-notes], aside.notes' ).length > 0;\n\n\t}\n\n\t/**\n\t * Checks if this presentation is running inside of the\n\t * speaker notes window.\n\t *\n\t * @return {boolean}\n\t */\n\tisSpeakerNotesWindow() {\n\n\t\treturn !!window.location.search.match( /receiver/gi );\n\n\t}\n\n\t/**\n\t * Retrieves the speaker notes from a slide. Notes can be\n\t * defined in two ways:\n\t * 1. As a data-notes attribute on the slide <section>\n\t * 2. With <aside class=\"notes\"> elements inside the slide\n\t *\n\t * @param {HTMLElement} [slide=currentSlide]\n\t * @return {(string|null)}\n\t */\n\tgetSlideNotes( slide = this.Reveal.getCurrentSlide() ) {\n\n\t\t// Notes can be specified via the data-notes attribute...\n\t\tif( slide.hasAttribute( 'data-notes' ) ) {\n\t\t\treturn slide.getAttribute( 'data-notes' );\n\t\t}\n\n\t\t// ... or using <aside class=\"notes\"> elements\n\t\tlet notesElements = slide.querySelectorAll( 'aside.notes' );\n\t\tif( notesElements ) {\n\t\t\treturn Array.from(notesElements).map( notesElement => notesElement.innerHTML ).join( '\\n' );\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\tdestroy() {\n\n\t\tthis.element.remove();\n\n\t}\n\n}","/**\n * UI component that lets the use control auto-slide\n * playback via play/pause.\n */\nexport default class Playback {\n\n\t/**\n\t * @param {HTMLElement} container The component will append\n\t * itself to this\n\t * @param {function} progressCheck A method which will be\n\t * called frequently to get the current playback progress on\n\t * a range of 0-1\n\t */\n\tconstructor( container, progressCheck ) {\n\n\t\t// Cosmetics\n\t\tthis.diameter = 100;\n\t\tthis.diameter2 = this.diameter/2;\n\t\tthis.thickness = 6;\n\n\t\t// Flags if we are currently playing\n\t\tthis.playing = false;\n\n\t\t// Current progress on a 0-1 range\n\t\tthis.progress = 0;\n\n\t\t// Used to loop the animation smoothly\n\t\tthis.progressOffset = 1;\n\n\t\tthis.container = container;\n\t\tthis.progressCheck = progressCheck;\n\n\t\tthis.canvas = document.createElement( 'canvas' );\n\t\tthis.canvas.className = 'playback';\n\t\tthis.canvas.width = this.diameter;\n\t\tthis.canvas.height = this.diameter;\n\t\tthis.canvas.style.width = this.diameter2 + 'px';\n\t\tthis.canvas.style.height = this.diameter2 + 'px';\n\t\tthis.context = this.canvas.getContext( '2d' );\n\n\t\tthis.container.appendChild( this.canvas );\n\n\t\tthis.render();\n\n\t}\n\n\tsetPlaying( value ) {\n\n\t\tconst wasPlaying = this.playing;\n\n\t\tthis.playing = value;\n\n\t\t// Start repainting if we weren't already\n\t\tif( !wasPlaying && this.playing ) {\n\t\t\tthis.animate();\n\t\t}\n\t\telse {\n\t\t\tthis.render();\n\t\t}\n\n\t}\n\n\tanimate() {\n\n\t\tconst progressBefore = this.progress;\n\n\t\tthis.progress = this.progressCheck();\n\n\t\t// When we loop, offset the progress so that it eases\n\t\t// smoothly rather than immediately resetting\n\t\tif( progressBefore > 0.8 && this.progress < 0.2 ) {\n\t\t\tthis.progressOffset = this.progress;\n\t\t}\n\n\t\tthis.render();\n\n\t\tif( this.playing ) {\n\t\t\trequestAnimationFrame( this.animate.bind( this ) );\n\t\t}\n\n\t}\n\n\t/**\n\t * Renders the current progress and playback state.\n\t */\n\trender() {\n\n\t\tlet progress = this.playing ? this.progress : 0,\n\t\t\tradius = ( this.diameter2 ) - this.thickness,\n\t\t\tx = this.diameter2,\n\t\t\ty = this.diameter2,\n\t\t\ticonSize = 28;\n\n\t\t// Ease towards 1\n\t\tthis.progressOffset += ( 1 - this.progressOffset ) * 0.1;\n\n\t\tconst endAngle = ( - Math.PI / 2 ) + ( progress * ( Math.PI * 2 ) );\n\t\tconst startAngle = ( - Math.PI / 2 ) + ( this.progressOffset * ( Math.PI * 2 ) );\n\n\t\tthis.context.save();\n\t\tthis.context.clearRect( 0, 0, this.diameter, this.diameter );\n\n\t\t// Solid background color\n\t\tthis.context.beginPath();\n\t\tthis.context.arc( x, y, radius + 4, 0, Math.PI * 2, false );\n\t\tthis.context.fillStyle = 'rgba( 0, 0, 0, 0.4 )';\n\t\tthis.context.fill();\n\n\t\t// Draw progress track\n\t\tthis.context.beginPath();\n\t\tthis.context.arc( x, y, radius, 0, Math.PI * 2, false );\n\t\tthis.context.lineWidth = this.thickness;\n\t\tthis.context.strokeStyle = 'rgba( 255, 255, 255, 0.2 )';\n\t\tthis.context.stroke();\n\n\t\tif( this.playing ) {\n\t\t\t// Draw progress on top of track\n\t\t\tthis.context.beginPath();\n\t\t\tthis.context.arc( x, y, radius, startAngle, endAngle, false );\n\t\t\tthis.context.lineWidth = this.thickness;\n\t\t\tthis.context.strokeStyle = '#fff';\n\t\t\tthis.context.stroke();\n\t\t}\n\n\t\tthis.context.translate( x - ( iconSize / 2 ), y - ( iconSize / 2 ) );\n\n\t\t// Draw play/pause icons\n\t\tif( this.playing ) {\n\t\t\tthis.context.fillStyle = '#fff';\n\t\t\tthis.context.fillRect( 0, 0, iconSize / 2 - 4, iconSize );\n\t\t\tthis.context.fillRect( iconSize / 2 + 4, 0, iconSize / 2 - 4, iconSize );\n\t\t}\n\t\telse {\n\t\t\tthis.context.beginPath();\n\t\t\tthis.context.translate( 4, 0 );\n\t\t\tthis.context.moveTo( 0, 0 );\n\t\t\tthis.context.lineTo( iconSize - 4, iconSize / 2 );\n\t\t\tthis.context.lineTo( 0, iconSize );\n\t\t\tthis.context.fillStyle = '#fff';\n\t\t\tthis.context.fill();\n\t\t}\n\n\t\tthis.context.restore();\n\n\t}\n\n\ton( type, listener ) {\n\t\tthis.canvas.addEventListener( type, listener, false );\n\t}\n\n\toff( type, listener ) {\n\t\tthis.canvas.removeEventListener( type, listener, false );\n\t}\n\n\tdestroy() {\n\n\t\tthis.playing = false;\n\n\t\tif( this.canvas.parentNode ) {\n\t\t\tthis.container.removeChild( this.canvas );\n\t\t}\n\n\t}\n\n}","/**\n * The default reveal.js config object.\n */\nexport default {\n\n\t// The \"normal\" size of the presentation, aspect ratio will be preserved\n\t// when the presentation is scaled to fit different resolutions\n\twidth: 960,\n\theight: 700,\n\n\t// Factor of the display size that should remain empty around the content\n\tmargin: 0.04,\n\n\t// Bounds for smallest/largest possible scale to apply to content\n\tminScale: 0.2,\n\tmaxScale: 2.0,\n\n\t// Display presentation control arrows\n\tcontrols: true,\n\n\t// Help the user learn the controls by providing hints, for example by\n\t// bouncing the down arrow when they first encounter a vertical slide\n\tcontrolsTutorial: true,\n\n\t// Determines where controls appear, \"edges\" or \"bottom-right\"\n\tcontrolsLayout: 'bottom-right',\n\n\t// Visibility rule for backwards navigation arrows; \"faded\", \"hidden\"\n\t// or \"visible\"\n\tcontrolsBackArrows: 'faded',\n\n\t// Display a presentation progress bar\n\tprogress: true,\n\n\t// Display the page number of the current slide\n\t// - true:    Show slide number\n\t// - false:   Hide slide number\n\t//\n\t// Can optionally be set as a string that specifies the number formatting:\n\t// - \"h.v\":\t  Horizontal . vertical slide number (default)\n\t// - \"h/v\":\t  Horizontal / vertical slide number\n\t// - \"c\":\t  Flattened slide number\n\t// - \"c/t\":\t  Flattened slide number / total slides\n\t//\n\t// Alternatively, you can provide a function that returns the slide\n\t// number for the current slide. The function should take in a slide\n\t// object and return an array with one string [slideNumber] or\n\t// three strings [n1,delimiter,n2]. See #formatSlideNumber().\n\tslideNumber: false,\n\n\t// Can be used to limit the contexts in which the slide number appears\n\t// - \"all\":      Always show the slide number\n\t// - \"print\":    Only when printing to PDF\n\t// - \"speaker\":  Only in the speaker view\n\tshowSlideNumber: 'all',\n\n\t// Use 1 based indexing for # links to match slide number (default is zero\n\t// based)\n\thashOneBasedIndex: false,\n\n\t// Add the current slide number to the URL hash so that reloading the\n\t// page/copying the URL will return you to the same slide\n\thash: false,\n\n\t// Flags if we should monitor the hash and change slides accordingly\n\trespondToHashChanges: true,\n\n\t// Enable support for jump-to-slide navigation shortcuts\n\tjumpToSlide: true,\n\n\t// Push each slide change to the browser history.  Implies `hash: true`\n\thistory: false,\n\n\t// Enable keyboard shortcuts for navigation\n\tkeyboard: true,\n\n\t// Optional function that blocks keyboard events when retuning false\n\t//\n\t// If you set this to 'focused', we will only capture keyboard events\n\t// for embedded decks when they are in focus\n\tkeyboardCondition: null,\n\n\t// Disables the default reveal.js slide layout (scaling and centering)\n\t// so that you can use custom CSS layout\n\tdisableLayout: false,\n\n\t// Enable the slide overview mode\n\toverview: true,\n\n\t// Vertical centering of slides\n\tcenter: true,\n\n\t// Enables touch navigation on devices with touch input\n\ttouch: true,\n\n\t// Loop the presentation\n\tloop: false,\n\n\t// Change the presentation direction to be RTL\n\trtl: false,\n\n\t// Changes the behavior of our navigation directions.\n\t//\n\t// \"default\"\n\t// Left/right arrow keys step between horizontal slides, up/down\n\t// arrow keys step between vertical slides. Space key steps through\n\t// all slides (both horizontal and vertical).\n\t//\n\t// \"linear\"\n\t// Removes the up/down arrows. Left/right arrows step through all\n\t// slides (both horizontal and vertical).\n\t//\n\t// \"grid\"\n\t// When this is enabled, stepping left/right from a vertical stack\n\t// to an adjacent vertical stack will land you at the same vertical\n\t// index.\n\t//\n\t// Consider a deck with six slides ordered in two vertical stacks:\n\t// 1.1    2.1\n\t// 1.2    2.2\n\t// 1.3    2.3\n\t//\n\t// If you're on slide 1.3 and navigate right, you will normally move\n\t// from 1.3 -> 2.1. If \"grid\" is used, the same navigation takes you\n\t// from 1.3 -> 2.3.\n\tnavigationMode: 'default',\n\n\t// Randomizes the order of slides each time the presentation loads\n\tshuffle: false,\n\n\t// Turns fragments on and off globally\n\tfragments: true,\n\n\t// Flags whether to include the current fragment in the URL,\n\t// so that reloading brings you to the same fragment position\n\tfragmentInURL: true,\n\n\t// Flags if the presentation is running in an embedded mode,\n\t// i.e. contained within a limited portion of the screen\n\tembedded: false,\n\n\t// Flags if we should show a help overlay when the question-mark\n\t// key is pressed\n\thelp: true,\n\n\t// Flags if it should be possible to pause the presentation (blackout)\n\tpause: true,\n\n\t// Flags if speaker notes should be visible to all viewers\n\tshowNotes: false,\n\n\t// Flags if slides with data-visibility=\"hidden\" should be kep visible\n\tshowHiddenSlides: false,\n\n\t// Global override for autoplaying embedded media (video/audio/iframe)\n\t// - null:   Media will only autoplay if data-autoplay is present\n\t// - true:   All media will autoplay, regardless of individual setting\n\t// - false:  No media will autoplay, regardless of individual setting\n\tautoPlayMedia: null,\n\n\t// Global override for preloading lazy-loaded iframes\n\t// - null:   Iframes with data-src AND data-preload will be loaded when within\n\t//           the viewDistance, iframes with only data-src will be loaded when visible\n\t// - true:   All iframes with data-src will be loaded when within the viewDistance\n\t// - false:  All iframes with data-src will be loaded only when visible\n\tpreloadIframes: null,\n\n\t// Can be used to globally disable auto-animation\n\tautoAnimate: true,\n\n\t// Optionally provide a custom element matcher that will be\n\t// used to dictate which elements we can animate between.\n\tautoAnimateMatcher: null,\n\n\t// Default settings for our auto-animate transitions, can be\n\t// overridden per-slide or per-element via data arguments\n\tautoAnimateEasing: 'ease',\n\tautoAnimateDuration: 1.0,\n\tautoAnimateUnmatched: true,\n\n\t// CSS properties that can be auto-animated. Position & scale\n\t// is matched separately so there's no need to include styles\n\t// like top/right/bottom/left, width/height or margin.\n\tautoAnimateStyles: [\n\t\t'opacity',\n\t\t'color',\n\t\t'background-color',\n\t\t'padding',\n\t\t'font-size',\n\t\t'line-height',\n\t\t'letter-spacing',\n\t\t'border-width',\n\t\t'border-color',\n\t\t'border-radius',\n\t\t'outline',\n\t\t'outline-offset'\n\t],\n\n\t// Controls automatic progression to the next slide\n\t// - 0:      Auto-sliding only happens if the data-autoslide HTML attribute\n\t//           is present on the current slide or fragment\n\t// - 1+:     All slides will progress automatically at the given interval\n\t// - false:  No auto-sliding, even if data-autoslide is present\n\tautoSlide: 0,\n\n\t// Stop auto-sliding after user input\n\tautoSlideStoppable: true,\n\n\t// Use this method for navigation when auto-sliding (defaults to navigateNext)\n\tautoSlideMethod: null,\n\n\t// Specify the average time in seconds that you think you will spend\n\t// presenting each slide. This is used to show a pacing timer in the\n\t// speaker view\n\tdefaultTiming: null,\n\n\t// Enable slide navigation via mouse wheel\n\tmouseWheel: false,\n\n\t// Opens links in an iframe preview overlay\n\t// Add `data-preview-link` and `data-preview-link=\"false\"` to customise each link\n\t// individually\n\tpreviewLinks: false,\n\n\t// Exposes the reveal.js API through window.postMessage\n\tpostMessage: true,\n\n\t// Dispatches all reveal.js events to the parent window through postMessage\n\tpostMessageEvents: false,\n\n\t// Focuses body when page changes visibility to ensure keyboard shortcuts work\n\tfocusBodyOnPageVisibilityChange: true,\n\n\t// Transition style\n\ttransition: 'slide', // none/fade/slide/convex/concave/zoom\n\n\t// Transition speed\n\ttransitionSpeed: 'default', // default/fast/slow\n\n\t// Transition style for full page slide backgrounds\n\tbackgroundTransition: 'fade', // none/fade/slide/convex/concave/zoom\n\n\t// Parallax background image\n\tparallaxBackgroundImage: '', // CSS syntax, e.g. \"a.jpg\"\n\n\t// Parallax background size\n\tparallaxBackgroundSize: '', // CSS syntax, e.g. \"3000px 2000px\"\n\n\t// Parallax background repeat\n\tparallaxBackgroundRepeat: '', // repeat/repeat-x/repeat-y/no-repeat/initial/inherit\n\n\t// Parallax background position\n\tparallaxBackgroundPosition: '', // CSS syntax, e.g. \"top left\"\n\n\t// Amount of pixels to move the parallax background per slide step\n\tparallaxBackgroundHorizontal: null,\n\tparallaxBackgroundVertical: null,\n\n\t// Can be used to initialize reveal.js in one of the following views:\n\t// - print:   Render the presentation so that it can be printed to PDF\n\t// - scroll:  Show the presentation as a tall scrollable page with scroll\n\t//            triggered animations\n\tview: null,\n\n\t// Adjusts the height of each slide in the scroll view.\n\t// - full:       Each slide is as tall as the viewport\n\t// - compact:    Slides are as small as possible, allowing multiple slides\n\t//               to be visible in parallel on tall devices\n\tscrollLayout: 'full',\n\n\t// Control how scroll snapping works in the scroll view.\n\t// - false:   \tNo snapping, scrolling is continuous\n\t// - proximity:  Snap when close to a slide\n\t// - mandatory:  Always snap to the closest slide\n\t//\n\t// Only applies to presentations in scroll view.\n\tscrollSnap: 'mandatory',\n\n\t// Enables and configure the scroll view progress bar.\n\t// - 'auto':    Show the scrollbar while scrolling, hide while idle\n\t// - true:      Always show the scrollbar\n\t// - false:     Never show the scrollbar\n\tscrollProgress: 'auto',\n\n\t// Automatically activate the scroll view when we the viewport falls\n\t// below the given width.\n\tscrollActivationWidth: 435,\n\n\t// The maximum number of pages a single slide can expand onto when printing\n\t// to PDF, unlimited by default\n\tpdfMaxPagesPerSlide: Number.POSITIVE_INFINITY,\n\n\t// Prints each fragment on a separate slide\n\tpdfSeparateFragments: true,\n\n\t// Offset used to reduce the height of content within exported PDF pages.\n\t// This exists to account for environment differences based on how you\n\t// print to PDF. CLI printing options, like phantomjs and wkpdf, can end\n\t// on precisely the total height of the document whereas in-browser\n\t// printing has to end one pixel before.\n\tpdfPageHeightOffset: -1,\n\n\t// Number of slides away from the current that are visible\n\tviewDistance: 3,\n\n\t// Number of slides away from the current that are visible on mobile\n\t// devices. It is advisable to set this to a lower number than\n\t// viewDistance in order to save resources.\n\tmobileViewDistance: 2,\n\n\t// The display mode that will be used to show slides\n\tdisplay: 'block',\n\n\t// Hide cursor if inactive\n\thideInactiveCursor: true,\n\n\t// Time before the cursor is hidden (in ms)\n\thideCursorTime: 5000,\n\n\t// Should we automatically sort and set indices for fragments\n\t// at each sync? (See Reveal.sync)\n\tsortFragmentsOnSync: true,\n\n\t// Script dependencies to load\n\tdependencies: [],\n\n\t// Plugin objects to register and use for this presentation\n\tplugins: []\n\n}","import SlideContent from './controllers/slidecontent.js'\nimport SlideNumber from './controllers/slidenumber.js'\nimport JumpToSlide from './controllers/jumptoslide.js'\nimport Backgrounds from './controllers/backgrounds.js'\nimport AutoAnimate from './controllers/autoanimate.js'\nimport ScrollView from './controllers/scrollview.js'\nimport PrintView from './controllers/printview.js'\nimport Fragments from './controllers/fragments.js'\nimport Overview from './controllers/overview.js'\nimport Keyboard from './controllers/keyboard.js'\nimport Location from './controllers/location.js'\nimport Controls from './controllers/controls.js'\nimport Progress from './controllers/progress.js'\nimport Pointer from './controllers/pointer.js'\nimport Plugins from './controllers/plugins.js'\nimport Touch from './controllers/touch.js'\nimport Focus from './controllers/focus.js'\nimport Notes from './controllers/notes.js'\nimport Playback from './components/playback.js'\nimport defaultConfig from './config.js'\nimport * as Util from './utils/util.js'\nimport * as Device from './utils/device.js'\nimport {\n\tSLIDES_SELECTOR,\n\tHORIZONTAL_SLIDES_SELECTOR,\n\tVERTICAL_SLIDES_SELECTOR,\n\tPOST_MESSAGE_METHOD_BLACKLIST\n} from './utils/constants.js'\n\n// The reveal.js version\nexport const VERSION = '5.0.1';\n\n/**\n * reveal.js\n * https://revealjs.com\n * MIT licensed\n *\n * Copyright (C) 2011-2022 Hakim El Hattab, https://hakim.se\n */\nexport default function( revealElement, options ) {\n\n\t// Support initialization with no args, one arg\n\t// [options] or two args [revealElement, options]\n\tif( arguments.length < 2 ) {\n\t\toptions = arguments[0];\n\t\trevealElement = document.querySelector( '.reveal' );\n\t}\n\n\tconst Reveal = {};\n\n\t// Configuration defaults, can be overridden at initialization time\n\tlet config = {},\n\n\t\t// Flags if reveal.js is loaded (has dispatched the 'ready' event)\n\t\tready = false,\n\n\t\t// The horizontal and vertical index of the currently active slide\n\t\tindexh,\n\t\tindexv,\n\n\t\t// The previous and current slide HTML elements\n\t\tpreviousSlide,\n\t\tcurrentSlide,\n\n\t\t// Remember which directions that the user has navigated towards\n\t\tnavigationHistory = {\n\t\t\thasNavigatedHorizontally: false,\n\t\t\thasNavigatedVertically: false\n\t\t},\n\n\t\t// Slides may have a data-state attribute which we pick up and apply\n\t\t// as a class to the body. This list contains the combined state of\n\t\t// all current slides.\n\t\tstate = [],\n\n\t\t// The current scale of the presentation (see width/height config)\n\t\tscale = 1,\n\n\t\t// CSS transform that is currently applied to the slides container,\n\t\t// split into two groups\n\t\tslidesTransform = { layout: '', overview: '' },\n\n\t\t// Cached references to DOM elements\n\t\tdom = {},\n\n\t\t// Flags if the interaction event listeners are bound\n\t\teventsAreBound = false,\n\n\t\t// The current slide transition state; idle or running\n\t\ttransition = 'idle',\n\n\t\t// The current auto-slide duration\n\t\tautoSlide = 0,\n\n\t\t// Auto slide properties\n\t\tautoSlidePlayer,\n\t\tautoSlideTimeout = 0,\n\t\tautoSlideStartTime = -1,\n\t\tautoSlidePaused = false,\n\n\t\t// Controllers for different aspects of our presentation. They're\n\t\t// all given direct references to this Reveal instance since there\n\t\t// may be multiple presentations running in parallel.\n\t\tslideContent = new SlideContent( Reveal ),\n\t\tslideNumber = new SlideNumber( Reveal ),\n\t\tjumpToSlide = new JumpToSlide( Reveal ),\n\t\tautoAnimate = new AutoAnimate( Reveal ),\n\t\tbackgrounds = new Backgrounds( Reveal ),\n\t\tscrollView = new ScrollView( Reveal ),\n\t\tprintView = new PrintView( Reveal ),\n\t\tfragments = new Fragments( Reveal ),\n\t\toverview = new Overview( Reveal ),\n\t\tkeyboard = new Keyboard( Reveal ),\n\t\tlocation = new Location( Reveal ),\n\t\tcontrols = new Controls( Reveal ),\n\t\tprogress = new Progress( Reveal ),\n\t\tpointer = new Pointer( Reveal ),\n\t\tplugins = new Plugins( Reveal ),\n\t\tfocus = new Focus( Reveal ),\n\t\ttouch = new Touch( Reveal ),\n\t\tnotes = new Notes( Reveal );\n\n\t/**\n\t * Starts up the presentation.\n\t */\n\tfunction initialize( initOptions ) {\n\n\t\tif( !revealElement ) throw 'Unable to find presentation root (<div class=\"reveal\">).';\n\n\t\t// Cache references to key DOM elements\n\t\tdom.wrapper = revealElement;\n\t\tdom.slides = revealElement.querySelector( '.slides' );\n\n\t\tif( !dom.slides ) throw 'Unable to find slides container (<div class=\"slides\">).';\n\n\t\t// Compose our config object in order of increasing precedence:\n\t\t// 1. Default reveal.js options\n\t\t// 2. Options provided via Reveal.configure() prior to\n\t\t//    initialization\n\t\t// 3. Options passed to the Reveal constructor\n\t\t// 4. Options passed to Reveal.initialize\n\t\t// 5. Query params\n\t\tconfig = { ...defaultConfig, ...config, ...options, ...initOptions, ...Util.getQueryHash() };\n\n\t\t// Legacy support for the ?print-pdf query\n\t\tif( /print-pdf/gi.test( window.location.search ) ) {\n\t\t\tconfig.view = 'print';\n\t\t}\n\n\t\tsetViewport();\n\n\t\t// Force a layout when the whole page, incl fonts, has loaded\n\t\twindow.addEventListener( 'load', layout, false );\n\n\t\t// Register plugins and load dependencies, then move on to #start()\n\t\tplugins.load( config.plugins, config.dependencies ).then( start );\n\n\t\treturn new Promise( resolve => Reveal.on( 'ready', resolve ) );\n\n\t}\n\n\t/**\n\t * Encase the presentation in a reveal.js viewport. The\n\t * extent of the viewport differs based on configuration.\n\t */\n\tfunction setViewport() {\n\n\t\t// Embedded decks use the reveal element as their viewport\n\t\tif( config.embedded === true ) {\n\t\t\tdom.viewport = Util.closest( revealElement, '.reveal-viewport' ) || revealElement;\n\t\t}\n\t\t// Full-page decks use the body as their viewport\n\t\telse {\n\t\t\tdom.viewport = document.body;\n\t\t\tdocument.documentElement.classList.add( 'reveal-full-page' );\n\t\t}\n\n\t\tdom.viewport.classList.add( 'reveal-viewport' );\n\n\t}\n\n\t/**\n\t * Starts up reveal.js by binding input events and navigating\n\t * to the current URL deeplink if there is one.\n\t */\n\tfunction start() {\n\n\t\tready = true;\n\n\t\t// Remove slides hidden with data-visibility\n\t\tremoveHiddenSlides();\n\n\t\t// Make sure we've got all the DOM elements we need\n\t\tsetupDOM();\n\n\t\t// Listen to messages posted to this window\n\t\tsetupPostMessage();\n\n\t\t// Prevent the slides from being scrolled out of view\n\t\tsetupScrollPrevention();\n\n\t\t// Adds bindings for fullscreen mode\n\t\tsetupFullscreen();\n\n\t\t// Resets all vertical slides so that only the first is visible\n\t\tresetVerticalSlides();\n\n\t\t// Updates the presentation to match the current configuration values\n\t\tconfigure();\n\n\t\t// Create slide backgrounds\n\t\tbackgrounds.update( true );\n\n\t\t// Activate the print/scroll view if configured\n\t\tactivateInitialView();\n\n\t\t// Read the initial hash\n\t\tlocation.readURL();\n\n\t\t// Notify listeners that the presentation is ready but use a 1ms\n\t\t// timeout to ensure it's not fired synchronously after #initialize()\n\t\tsetTimeout( () => {\n\t\t\t// Enable transitions now that we're loaded\n\t\t\tdom.slides.classList.remove( 'no-transition' );\n\n\t\t\tdom.wrapper.classList.add( 'ready' );\n\n\t\t\tdispatchEvent({\n\t\t\t\ttype: 'ready',\n\t\t\t\tdata: {\n\t\t\t\t\tindexh,\n\t\t\t\t\tindexv,\n\t\t\t\t\tcurrentSlide\n\t\t\t\t}\n\t\t\t});\n\t\t}, 1 );\n\n\t}\n\n\t/**\n\t * Activates the correct reveal.js view based on our config.\n\t * This is only invoked once during initialization.\n\t */\n\tfunction activateInitialView() {\n\n\t\tconst activatePrintView = config.view === 'print';\n\t\tconst activateScrollView = config.view === 'scroll' || config.view === 'reader';\n\n\t\tif( activatePrintView || activateScrollView ) {\n\n\t\t\tif( activatePrintView ) {\n\t\t\t\tremoveEventListeners();\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttouch.unbind();\n\t\t\t}\n\n\t\t\t// Avoid content flickering during layout\n\t\t\tdom.viewport.classList.add( 'loading-scroll-mode' );\n\n\t\t\tif( activatePrintView ) {\n\t\t\t\t// The document needs to have loaded for the PDF layout\n\t\t\t\t// measurements to be accurate\n\t\t\t\tif( document.readyState === 'complete' ) {\n\t\t\t\t\tprintView.activate();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\twindow.addEventListener( 'load', () => printView.activate() );\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tscrollView.activate();\n\t\t\t}\n\t\t}\n\n\t}\n\n\t/**\n\t * Removes all slides with data-visibility=\"hidden\". This\n\t * is done right before the rest of the presentation is\n\t * initialized.\n\t *\n\t * If you want to show all hidden slides, initialize\n\t * reveal.js with showHiddenSlides set to true.\n\t */\n\tfunction removeHiddenSlides() {\n\n\t\tif( !config.showHiddenSlides ) {\n\t\t\tUtil.queryAll( dom.wrapper, 'section[data-visibility=\"hidden\"]' ).forEach( slide => {\n\t\t\t\tconst parent = slide.parentNode;\n\n\t\t\t\t// If this slide is part of a stack and that stack will be\n\t\t\t\t// empty after removing the hidden slide, remove the entire\n\t\t\t\t// stack\n\t\t\t\tif( parent.childElementCount === 1 && /section/i.test( parent.nodeName ) ) {\n\t\t\t\t\tparent.remove();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tslide.remove();\n\t\t\t\t}\n\n\t\t\t} );\n\t\t}\n\n\t}\n\n\t/**\n\t * Finds and stores references to DOM elements which are\n\t * required by the presentation. If a required element is\n\t * not found, it is created.\n\t */\n\tfunction setupDOM() {\n\n\t\t// Prevent transitions while we're loading\n\t\tdom.slides.classList.add( 'no-transition' );\n\n\t\tif( Device.isMobile ) {\n\t\t\tdom.wrapper.classList.add( 'no-hover' );\n\t\t}\n\t\telse {\n\t\t\tdom.wrapper.classList.remove( 'no-hover' );\n\t\t}\n\n\t\tbackgrounds.render();\n\t\tslideNumber.render();\n\t\tjumpToSlide.render();\n\t\tcontrols.render();\n\t\tprogress.render();\n\t\tnotes.render();\n\n\t\t// Overlay graphic which is displayed during the paused mode\n\t\tdom.pauseOverlay = Util.createSingletonNode( dom.wrapper, 'div', 'pause-overlay', config.controls ? '<button class=\"resume-button\">Resume presentation</button>' : null );\n\n\t\tdom.statusElement = createStatusElement();\n\n\t\tdom.wrapper.setAttribute( 'role', 'application' );\n\t}\n\n\t/**\n\t * Creates a hidden div with role aria-live to announce the\n\t * current slide content. Hide the div off-screen to make it\n\t * available only to Assistive Technologies.\n\t *\n\t * @return {HTMLElement}\n\t */\n\tfunction createStatusElement() {\n\n\t\tlet statusElement = dom.wrapper.querySelector( '.aria-status' );\n\t\tif( !statusElement ) {\n\t\t\tstatusElement = document.createElement( 'div' );\n\t\t\tstatusElement.style.position = 'absolute';\n\t\t\tstatusElement.style.height = '1px';\n\t\t\tstatusElement.style.width = '1px';\n\t\t\tstatusElement.style.overflow = 'hidden';\n\t\t\tstatusElement.style.clip = 'rect( 1px, 1px, 1px, 1px )';\n\t\t\tstatusElement.classList.add( 'aria-status' );\n\t\t\tstatusElement.setAttribute( 'aria-live', 'polite' );\n\t\t\tstatusElement.setAttribute( 'aria-atomic','true' );\n\t\t\tdom.wrapper.appendChild( statusElement );\n\t\t}\n\t\treturn statusElement;\n\n\t}\n\n\t/**\n\t * Announces the given text to screen readers.\n\t */\n\tfunction announceStatus( value ) {\n\n\t\tdom.statusElement.textContent = value;\n\n\t}\n\n\t/**\n\t * Converts the given HTML element into a string of text\n\t * that can be announced to a screen reader. Hidden\n\t * elements are excluded.\n\t */\n\tfunction getStatusText( node ) {\n\n\t\tlet text = '';\n\n\t\t// Text node\n\t\tif( node.nodeType === 3 ) {\n\t\t\ttext += node.textContent;\n\t\t}\n\t\t// Element node\n\t\telse if( node.nodeType === 1 ) {\n\n\t\t\tlet isAriaHidden = node.getAttribute( 'aria-hidden' );\n\t\t\tlet isDisplayHidden = window.getComputedStyle( node )['display'] === 'none';\n\t\t\tif( isAriaHidden !== 'true' && !isDisplayHidden ) {\n\n\t\t\t\tArray.from( node.childNodes ).forEach( child => {\n\t\t\t\t\ttext += getStatusText( child );\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t}\n\n\t\ttext = text.trim();\n\n\t\treturn text === '' ? '' : text + ' ';\n\n\t}\n\n\t/**\n\t * This is an unfortunate necessity. Some actions – such as\n\t * an input field being focused in an iframe or using the\n\t * keyboard to expand text selection beyond the bounds of\n\t * a slide – can trigger our content to be pushed out of view.\n\t * This scrolling can not be prevented by hiding overflow in\n\t * CSS (we already do) so we have to resort to repeatedly\n\t * checking if the slides have been offset :(\n\t */\n\tfunction setupScrollPrevention() {\n\n\t\tsetInterval( () => {\n\t\t\tif( !scrollView.isActive() && dom.wrapper.scrollTop !== 0 || dom.wrapper.scrollLeft !== 0 ) {\n\t\t\t\tdom.wrapper.scrollTop = 0;\n\t\t\t\tdom.wrapper.scrollLeft = 0;\n\t\t\t}\n\t\t}, 1000 );\n\n\t}\n\n\t/**\n\t * After entering fullscreen we need to force a layout to\n\t * get our presentations to scale correctly. This behavior\n\t * is inconsistent across browsers but a force layout seems\n\t * to normalize it.\n\t */\n\tfunction setupFullscreen() {\n\n\t\tdocument.addEventListener( 'fullscreenchange', onFullscreenChange );\n\t\tdocument.addEventListener( 'webkitfullscreenchange', onFullscreenChange );\n\n\t}\n\n\t/**\n\t * Registers a listener to postMessage events, this makes it\n\t * possible to call all reveal.js API methods from another\n\t * window. For example:\n\t *\n\t * revealWindow.postMessage( JSON.stringify({\n\t *   method: 'slide',\n\t *   args: [ 2 ]\n\t * }), '*' );\n\t */\n\tfunction setupPostMessage() {\n\n\t\tif( config.postMessage ) {\n\t\t\twindow.addEventListener( 'message', onPostMessage, false );\n\t\t}\n\n\t}\n\n\t/**\n\t * Applies the configuration settings from the config\n\t * object. May be called multiple times.\n\t *\n\t * @param {object} options\n\t */\n\tfunction configure( options ) {\n\n\t\tconst oldConfig = { ...config }\n\n\t\t// New config options may be passed when this method\n\t\t// is invoked through the API after initialization\n\t\tif( typeof options === 'object' ) Util.extend( config, options );\n\n\t\t// Abort if reveal.js hasn't finished loading, config\n\t\t// changes will be applied automatically once ready\n\t\tif( Reveal.isReady() ===  false ) return;\n\n\t\tconst numberOfSlides = dom.wrapper.querySelectorAll( SLIDES_SELECTOR ).length;\n\n\t\t// The transition is added as a class on the .reveal element\n\t\tdom.wrapper.classList.remove( oldConfig.transition );\n\t\tdom.wrapper.classList.add( config.transition );\n\n\t\tdom.wrapper.setAttribute( 'data-transition-speed', config.transitionSpeed );\n\t\tdom.wrapper.setAttribute( 'data-background-transition', config.backgroundTransition );\n\n\t\t// Expose our configured slide dimensions as custom props\n\t\tdom.viewport.style.setProperty( '--slide-width', typeof config.width === 'string' ? config.width :  config.width + 'px' );\n\t\tdom.viewport.style.setProperty( '--slide-height', typeof config.height === 'string' ? config.height :  config.height + 'px' );\n\n\t\tif( config.shuffle ) {\n\t\t\tshuffle();\n\t\t}\n\n\t\tUtil.toggleClass( dom.wrapper, 'embedded', config.embedded );\n\t\tUtil.toggleClass( dom.wrapper, 'rtl', config.rtl );\n\t\tUtil.toggleClass( dom.wrapper, 'center', config.center );\n\n\t\t// Exit the paused mode if it was configured off\n\t\tif( config.pause === false ) {\n\t\t\tresume();\n\t\t}\n\n\t\t// Iframe link previews\n\t\tif( config.previewLinks ) {\n\t\t\tenablePreviewLinks();\n\t\t\tdisablePreviewLinks( '[data-preview-link=false]' );\n\t\t}\n\t\telse {\n\t\t\tdisablePreviewLinks();\n\t\t\tenablePreviewLinks( '[data-preview-link]:not([data-preview-link=false])' );\n\t\t}\n\n\t\t// Reset all changes made by auto-animations\n\t\tautoAnimate.reset();\n\n\t\t// Remove existing auto-slide controls\n\t\tif( autoSlidePlayer ) {\n\t\t\tautoSlidePlayer.destroy();\n\t\t\tautoSlidePlayer = null;\n\t\t}\n\n\t\t// Generate auto-slide controls if needed\n\t\tif( numberOfSlides > 1 && config.autoSlide && config.autoSlideStoppable ) {\n\t\t\tautoSlidePlayer = new Playback( dom.wrapper, () => {\n\t\t\t\treturn Math.min( Math.max( ( Date.now() - autoSlideStartTime ) / autoSlide, 0 ), 1 );\n\t\t\t} );\n\n\t\t\tautoSlidePlayer.on( 'click', onAutoSlidePlayerClick );\n\t\t\tautoSlidePaused = false;\n\t\t}\n\n\t\t// Add the navigation mode to the DOM so we can adjust styling\n\t\tif( config.navigationMode !== 'default' ) {\n\t\t\tdom.wrapper.setAttribute( 'data-navigation-mode', config.navigationMode );\n\t\t}\n\t\telse {\n\t\t\tdom.wrapper.removeAttribute( 'data-navigation-mode' );\n\t\t}\n\n\t\tnotes.configure( config, oldConfig );\n\t\tfocus.configure( config, oldConfig );\n\t\tpointer.configure( config, oldConfig );\n\t\tcontrols.configure( config, oldConfig );\n\t\tprogress.configure( config, oldConfig );\n\t\tkeyboard.configure( config, oldConfig );\n\t\tfragments.configure( config, oldConfig );\n\t\tslideNumber.configure( config, oldConfig );\n\n\t\tsync();\n\n\t}\n\n\t/**\n\t * Binds all event listeners.\n\t */\n\tfunction addEventListeners() {\n\n\t\teventsAreBound = true;\n\n\t\twindow.addEventListener( 'resize', onWindowResize, false );\n\n\t\tif( config.touch ) touch.bind();\n\t\tif( config.keyboard ) keyboard.bind();\n\t\tif( config.progress ) progress.bind();\n\t\tif( config.respondToHashChanges ) location.bind();\n\t\tcontrols.bind();\n\t\tfocus.bind();\n\n\t\tdom.slides.addEventListener( 'click', onSlidesClicked, false );\n\t\tdom.slides.addEventListener( 'transitionend', onTransitionEnd, false );\n\t\tdom.pauseOverlay.addEventListener( 'click', resume, false );\n\n\t\tif( config.focusBodyOnPageVisibilityChange ) {\n\t\t\tdocument.addEventListener( 'visibilitychange', onPageVisibilityChange, false );\n\t\t}\n\n\t}\n\n\t/**\n\t * Unbinds all event listeners.\n\t */\n\tfunction removeEventListeners() {\n\n\t\teventsAreBound = false;\n\n\t\ttouch.unbind();\n\t\tfocus.unbind();\n\t\tkeyboard.unbind();\n\t\tcontrols.unbind();\n\t\tprogress.unbind();\n\t\tlocation.unbind();\n\n\t\twindow.removeEventListener( 'resize', onWindowResize, false );\n\n\t\tdom.slides.removeEventListener( 'click', onSlidesClicked, false );\n\t\tdom.slides.removeEventListener( 'transitionend', onTransitionEnd, false );\n\t\tdom.pauseOverlay.removeEventListener( 'click', resume, false );\n\n\t}\n\n\t/**\n\t * Uninitializes reveal.js by undoing changes made to the\n\t * DOM and removing all event listeners.\n\t */\n\tfunction destroy() {\n\n\t\tremoveEventListeners();\n\t\tcancelAutoSlide();\n\t\tdisablePreviewLinks();\n\n\t\t// Destroy controllers\n\t\tnotes.destroy();\n\t\tfocus.destroy();\n\t\tplugins.destroy();\n\t\tpointer.destroy();\n\t\tcontrols.destroy();\n\t\tprogress.destroy();\n\t\tbackgrounds.destroy();\n\t\tslideNumber.destroy();\n\t\tjumpToSlide.destroy();\n\n\t\t// Remove event listeners\n\t\tdocument.removeEventListener( 'fullscreenchange', onFullscreenChange );\n\t\tdocument.removeEventListener( 'webkitfullscreenchange', onFullscreenChange );\n\t\tdocument.removeEventListener( 'visibilitychange', onPageVisibilityChange, false );\n\t\twindow.removeEventListener( 'message', onPostMessage, false );\n\t\twindow.removeEventListener( 'load', layout, false );\n\n\t\t// Undo DOM changes\n\t\tif( dom.pauseOverlay ) dom.pauseOverlay.remove();\n\t\tif( dom.statusElement ) dom.statusElement.remove();\n\n\t\tdocument.documentElement.classList.remove( 'reveal-full-page' );\n\n\t\tdom.wrapper.classList.remove( 'ready', 'center', 'has-horizontal-slides', 'has-vertical-slides' );\n\t\tdom.wrapper.removeAttribute( 'data-transition-speed' );\n\t\tdom.wrapper.removeAttribute( 'data-background-transition' );\n\n\t\tdom.viewport.classList.remove( 'reveal-viewport' );\n\t\tdom.viewport.style.removeProperty( '--slide-width' );\n\t\tdom.viewport.style.removeProperty( '--slide-height' );\n\n\t\tdom.slides.style.removeProperty( 'width' );\n\t\tdom.slides.style.removeProperty( 'height' );\n\t\tdom.slides.style.removeProperty( 'zoom' );\n\t\tdom.slides.style.removeProperty( 'left' );\n\t\tdom.slides.style.removeProperty( 'top' );\n\t\tdom.slides.style.removeProperty( 'bottom' );\n\t\tdom.slides.style.removeProperty( 'right' );\n\t\tdom.slides.style.removeProperty( 'transform' );\n\n\t\tArray.from( dom.wrapper.querySelectorAll( SLIDES_SELECTOR ) ).forEach( slide => {\n\t\t\tslide.style.removeProperty( 'display' );\n\t\t\tslide.style.removeProperty( 'top' );\n\t\t\tslide.removeAttribute( 'hidden' );\n\t\t\tslide.removeAttribute( 'aria-hidden' );\n\t\t} );\n\n\t}\n\n\t/**\n\t * Adds a listener to one of our custom reveal.js events,\n\t * like slidechanged.\n\t */\n\tfunction on( type, listener, useCapture ) {\n\n\t\trevealElement.addEventListener( type, listener, useCapture );\n\n\t}\n\n\t/**\n\t * Unsubscribes from a reveal.js event.\n\t */\n\tfunction off( type, listener, useCapture ) {\n\n\t\trevealElement.removeEventListener( type, listener, useCapture );\n\n\t}\n\n\t/**\n\t * Applies CSS transforms to the slides container. The container\n\t * is transformed from two separate sources: layout and the overview\n\t * mode.\n\t *\n\t * @param {object} transforms\n\t */\n\tfunction transformSlides( transforms ) {\n\n\t\t// Pick up new transforms from arguments\n\t\tif( typeof transforms.layout === 'string' ) slidesTransform.layout = transforms.layout;\n\t\tif( typeof transforms.overview === 'string' ) slidesTransform.overview = transforms.overview;\n\n\t\t// Apply the transforms to the slides container\n\t\tif( slidesTransform.layout ) {\n\t\t\tUtil.transformElement( dom.slides, slidesTransform.layout + ' ' + slidesTransform.overview );\n\t\t}\n\t\telse {\n\t\t\tUtil.transformElement( dom.slides, slidesTransform.overview );\n\t\t}\n\n\t}\n\n\t/**\n\t * Dispatches an event of the specified type from the\n\t * reveal DOM element.\n\t */\n\tfunction dispatchEvent({ target=dom.wrapper, type, data, bubbles=true }) {\n\n\t\tlet event = document.createEvent( 'HTMLEvents', 1, 2 );\n\t\tevent.initEvent( type, bubbles, true );\n\t\tUtil.extend( event, data );\n\t\ttarget.dispatchEvent( event );\n\n\t\tif( target === dom.wrapper ) {\n\t\t\t// If we're in an iframe, post each reveal.js event to the\n\t\t\t// parent window. Used by the notes plugin\n\t\t\tdispatchPostMessage( type );\n\t\t}\n\n\t\treturn event;\n\n\t}\n\n\t/**\n\t * Dispatches a slidechanged event.\n\t *\n\t * @param {string} origin Used to identify multiplex clients\n\t */\n\tfunction dispatchSlideChanged( origin ) {\n\n\t\tdispatchEvent({\n\t\t\ttype: 'slidechanged',\n\t\t\tdata: {\n\t\t\t\tindexh,\n\t\t\t\tindexv,\n\t\t\t\tpreviousSlide,\n\t\t\t\tcurrentSlide,\n\t\t\t\torigin\n\t\t\t}\n\t\t});\n\n\t}\n\n\t/**\n\t * Dispatched a postMessage of the given type from our window.\n\t */\n\tfunction dispatchPostMessage( type, data ) {\n\n\t\tif( config.postMessageEvents && window.parent !== window.self ) {\n\t\t\tlet message = {\n\t\t\t\tnamespace: 'reveal',\n\t\t\t\teventName: type,\n\t\t\t\tstate: getState()\n\t\t\t};\n\n\t\t\tUtil.extend( message, data );\n\n\t\t\twindow.parent.postMessage( JSON.stringify( message ), '*' );\n\t\t}\n\n\t}\n\n\t/**\n\t * Bind preview frame links.\n\t *\n\t * @param {string} [selector=a] - selector for anchors\n\t */\n\tfunction enablePreviewLinks( selector = 'a' ) {\n\n\t\tArray.from( dom.wrapper.querySelectorAll( selector ) ).forEach( element => {\n\t\t\tif( /^(http|www)/gi.test( element.getAttribute( 'href' ) ) ) {\n\t\t\t\telement.addEventListener( 'click', onPreviewLinkClicked, false );\n\t\t\t}\n\t\t} );\n\n\t}\n\n\t/**\n\t * Unbind preview frame links.\n\t */\n\tfunction disablePreviewLinks( selector = 'a' ) {\n\n\t\tArray.from( dom.wrapper.querySelectorAll( selector ) ).forEach( element => {\n\t\t\tif( /^(http|www)/gi.test( element.getAttribute( 'href' ) ) ) {\n\t\t\t\telement.removeEventListener( 'click', onPreviewLinkClicked, false );\n\t\t\t}\n\t\t} );\n\n\t}\n\n\t/**\n\t * Opens a preview window for the target URL.\n\t *\n\t * @param {string} url - url for preview iframe src\n\t */\n\tfunction showPreview( url ) {\n\n\t\tcloseOverlay();\n\n\t\tdom.overlay = document.createElement( 'div' );\n\t\tdom.overlay.classList.add( 'overlay' );\n\t\tdom.overlay.classList.add( 'overlay-preview' );\n\t\tdom.wrapper.appendChild( dom.overlay );\n\n\t\tdom.overlay.innerHTML =\n\t\t\t`<header>\n\t\t\t\t<a class=\"close\" href=\"#\"><span class=\"icon\"></span></a>\n\t\t\t\t<a class=\"external\" href=\"${url}\" target=\"_blank\"><span class=\"icon\"></span></a>\n\t\t\t</header>\n\t\t\t<div class=\"spinner\"></div>\n\t\t\t<div class=\"viewport\">\n\t\t\t\t<iframe src=\"${url}\"></iframe>\n\t\t\t\t<small class=\"viewport-inner\">\n\t\t\t\t\t<span class=\"x-frame-error\">Unable to load iframe. This is likely due to the site's policy (x-frame-options).</span>\n\t\t\t\t</small>\n\t\t\t</div>`;\n\n\t\tdom.overlay.querySelector( 'iframe' ).addEventListener( 'load', event => {\n\t\t\tdom.overlay.classList.add( 'loaded' );\n\t\t}, false );\n\n\t\tdom.overlay.querySelector( '.close' ).addEventListener( 'click', event => {\n\t\t\tcloseOverlay();\n\t\t\tevent.preventDefault();\n\t\t}, false );\n\n\t\tdom.overlay.querySelector( '.external' ).addEventListener( 'click', event => {\n\t\t\tcloseOverlay();\n\t\t}, false );\n\n\t}\n\n\t/**\n\t * Open or close help overlay window.\n\t *\n\t * @param {Boolean} [override] Flag which overrides the\n\t * toggle logic and forcibly sets the desired state. True means\n\t * help is open, false means it's closed.\n\t */\n\tfunction toggleHelp( override ){\n\n\t\tif( typeof override === 'boolean' ) {\n\t\t\toverride ? showHelp() : closeOverlay();\n\t\t}\n\t\telse {\n\t\t\tif( dom.overlay ) {\n\t\t\t\tcloseOverlay();\n\t\t\t}\n\t\t\telse {\n\t\t\t\tshowHelp();\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Opens an overlay window with help material.\n\t */\n\tfunction showHelp() {\n\n\t\tif( config.help ) {\n\n\t\t\tcloseOverlay();\n\n\t\t\tdom.overlay = document.createElement( 'div' );\n\t\t\tdom.overlay.classList.add( 'overlay' );\n\t\t\tdom.overlay.classList.add( 'overlay-help' );\n\t\t\tdom.wrapper.appendChild( dom.overlay );\n\n\t\t\tlet html = '<p class=\"title\">Keyboard Shortcuts</p><br/>';\n\n\t\t\tlet shortcuts = keyboard.getShortcuts(),\n\t\t\t\tbindings = keyboard.getBindings();\n\n\t\t\thtml += '<table><th>KEY</th><th>ACTION</th>';\n\t\t\tfor( let key in shortcuts ) {\n\t\t\t\thtml += `<tr><td>${key}</td><td>${shortcuts[ key ]}</td></tr>`;\n\t\t\t}\n\n\t\t\t// Add custom key bindings that have associated descriptions\n\t\t\tfor( let binding in bindings ) {\n\t\t\t\tif( bindings[binding].key && bindings[binding].description ) {\n\t\t\t\t\thtml += `<tr><td>${bindings[binding].key}</td><td>${bindings[binding].description}</td></tr>`;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\thtml += '</table>';\n\n\t\t\tdom.overlay.innerHTML = `\n\t\t\t\t<header>\n\t\t\t\t\t<a class=\"close\" href=\"#\"><span class=\"icon\"></span></a>\n\t\t\t\t</header>\n\t\t\t\t<div class=\"viewport\">\n\t\t\t\t\t<div class=\"viewport-inner\">${html}</div>\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\t\tdom.overlay.querySelector( '.close' ).addEventListener( 'click', event => {\n\t\t\t\tcloseOverlay();\n\t\t\t\tevent.preventDefault();\n\t\t\t}, false );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Closes any currently open overlay.\n\t */\n\tfunction closeOverlay() {\n\n\t\tif( dom.overlay ) {\n\t\t\tdom.overlay.parentNode.removeChild( dom.overlay );\n\t\t\tdom.overlay = null;\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\t/**\n\t * Applies JavaScript-controlled layout rules to the\n\t * presentation.\n\t */\n\tfunction layout() {\n\n\t\tif( dom.wrapper && !printView.isActive() ) {\n\n\t\t\tconst viewportWidth = dom.viewport.offsetWidth;\n\t\t\tconst viewportHeight = dom.viewport.offsetHeight;\n\n\t\t\tif( !config.disableLayout ) {\n\n\t\t\t\t// On some mobile devices '100vh' is taller than the visible\n\t\t\t\t// viewport which leads to part of the presentation being\n\t\t\t\t// cut off. To work around this we define our own '--vh' custom\n\t\t\t\t// property where 100x adds up to the correct height.\n\t\t\t\t//\n\t\t\t\t// https://css-tricks.com/the-trick-to-viewport-units-on-mobile/\n\t\t\t\tif( Device.isMobile && !config.embedded ) {\n\t\t\t\t\tdocument.documentElement.style.setProperty( '--vh', ( window.innerHeight * 0.01 ) + 'px' );\n\t\t\t\t}\n\n\t\t\t\tconst size = scrollView.isActive() ?\n\t\t\t\t\t\t\t getComputedSlideSize( viewportWidth, viewportHeight ) :\n\t\t\t\t\t\t\t getComputedSlideSize();\n\n\t\t\t\tconst oldScale = scale;\n\n\t\t\t\t// Layout the contents of the slides\n\t\t\t\tlayoutSlideContents( config.width, config.height );\n\n\t\t\t\tdom.slides.style.width = size.width + 'px';\n\t\t\t\tdom.slides.style.height = size.height + 'px';\n\n\t\t\t\t// Determine scale of content to fit within available space\n\t\t\t\tscale = Math.min( size.presentationWidth / size.width, size.presentationHeight / size.height );\n\n\t\t\t\t// Respect max/min scale settings\n\t\t\t\tscale = Math.max( scale, config.minScale );\n\t\t\t\tscale = Math.min( scale, config.maxScale );\n\n\t\t\t\t// Don't apply any scaling styles if scale is 1 or we're\n\t\t\t\t// in the scroll view\n\t\t\t\tif( scale === 1 || scrollView.isActive() ) {\n\t\t\t\t\tdom.slides.style.zoom = '';\n\t\t\t\t\tdom.slides.style.left = '';\n\t\t\t\t\tdom.slides.style.top = '';\n\t\t\t\t\tdom.slides.style.bottom = '';\n\t\t\t\t\tdom.slides.style.right = '';\n\t\t\t\t\ttransformSlides( { layout: '' } );\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tdom.slides.style.zoom = '';\n\t\t\t\t\tdom.slides.style.left = '50%';\n\t\t\t\t\tdom.slides.style.top = '50%';\n\t\t\t\t\tdom.slides.style.bottom = 'auto';\n\t\t\t\t\tdom.slides.style.right = 'auto';\n\t\t\t\t\ttransformSlides( { layout: 'translate(-50%, -50%) scale('+ scale +')' } );\n\t\t\t\t}\n\n\t\t\t\t// Select all slides, vertical and horizontal\n\t\t\t\tconst slides = Array.from( dom.wrapper.querySelectorAll( SLIDES_SELECTOR ) );\n\n\t\t\t\tfor( let i = 0, len = slides.length; i < len; i++ ) {\n\t\t\t\t\tconst slide = slides[ i ];\n\n\t\t\t\t\t// Don't bother updating invisible slides\n\t\t\t\t\tif( slide.style.display === 'none' ) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif( ( config.center || slide.classList.contains( 'center' ) ) ) {\n\t\t\t\t\t\t// Vertical stacks are not centred since their section\n\t\t\t\t\t\t// children will be\n\t\t\t\t\t\tif( slide.classList.contains( 'stack' ) ) {\n\t\t\t\t\t\t\tslide.style.top = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tslide.style.top = Math.max( ( size.height - slide.scrollHeight ) / 2, 0 ) + 'px';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tslide.style.top = '';\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif( oldScale !== scale ) {\n\t\t\t\t\tdispatchEvent({\n\t\t\t\t\t\ttype: 'resize',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\toldScale,\n\t\t\t\t\t\t\tscale,\n\t\t\t\t\t\t\tsize\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcheckResponsiveScrollView();\n\n\t\t\tdom.viewport.style.setProperty( '--slide-scale', scale );\n\t\t\tdom.viewport.style.setProperty( '--viewport-width', viewportWidth + 'px' );\n\t\t\tdom.viewport.style.setProperty( '--viewport-height', viewportHeight + 'px' );\n\n\t\t\tscrollView.layout();\n\n\t\t\tprogress.update();\n\t\t\tbackgrounds.updateParallax();\n\n\t\t\tif( overview.isActive() ) {\n\t\t\t\toverview.update();\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Applies layout logic to the contents of all slides in\n\t * the presentation.\n\t *\n\t * @param {string|number} width\n\t * @param {string|number} height\n\t */\n\tfunction layoutSlideContents( width, height ) {\n\t\t// Handle sizing of elements with the 'r-stretch' class\n\t\tUtil.queryAll( dom.slides, 'section > .stretch, section > .r-stretch' ).forEach( element => {\n\n\t\t\t// Determine how much vertical space we can use\n\t\t\tlet remainingHeight = Util.getRemainingHeight( element, height );\n\n\t\t\t// Consider the aspect ratio of media elements\n\t\t\tif( /(img|video)/gi.test( element.nodeName ) ) {\n\t\t\t\tconst nw = element.naturalWidth || element.videoWidth,\n\t\t\t\t\t  nh = element.naturalHeight || element.videoHeight;\n\n\t\t\t\tconst es = Math.min( width / nw, remainingHeight / nh );\n\n\t\t\t\telement.style.width = ( nw * es ) + 'px';\n\t\t\t\telement.style.height = ( nh * es ) + 'px';\n\n\t\t\t}\n\t\t\telse {\n\t\t\t\telement.style.width = width + 'px';\n\t\t\t\telement.style.height = remainingHeight + 'px';\n\t\t\t}\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Responsively activates the scroll mode when we reach the configured\n\t * activation width.\n\t */\n\tfunction checkResponsiveScrollView() {\n\n\t\t// Only proceed if...\n\t\t// 1. The DOM is ready\n\t\t// 2. Layouts aren't disabled via config\n\t\t// 3. We're not currently printing\n\t\t// 4. There is a scrollActivationWidth set\n\t\t// 5. The deck isn't configured to always use the scroll view\n\t\tif(\n\t\t\tdom.wrapper &&\n\t\t\t!config.disableLayout &&\n\t\t\t!printView.isActive() &&\n\t\t\ttypeof config.scrollActivationWidth === 'number' &&\n\t\t\tconfig.view !== 'scroll'\n\t\t) {\n\t\t\tconst size = getComputedSlideSize();\n\n\t\t\tif( size.presentationWidth > 0 && size.presentationWidth <= config.scrollActivationWidth ) {\n\t\t\t\tif( !scrollView.isActive() ) {\n\t\t\t\t\tbackgrounds.create();\n\t\t\t\t\tscrollView.activate()\n\t\t\t\t};\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif( scrollView.isActive() ) scrollView.deactivate();\n\t\t\t}\n\t\t}\n\n\t}\n\n\t/**\n\t * Calculates the computed pixel size of our slides. These\n\t * values are based on the width and height configuration\n\t * options.\n\t *\n\t * @param {number} [presentationWidth=dom.wrapper.offsetWidth]\n\t * @param {number} [presentationHeight=dom.wrapper.offsetHeight]\n\t */\n\tfunction getComputedSlideSize( presentationWidth, presentationHeight ) {\n\n\t\tlet width = config.width;\n\t\tlet height = config.height;\n\n\t\tif( config.disableLayout ) {\n\t\t\twidth = dom.slides.offsetWidth;\n\t\t\theight = dom.slides.offsetHeight;\n\t\t}\n\n\t\tconst size = {\n\t\t\t// Slide size\n\t\t\twidth: width,\n\t\t\theight: height,\n\n\t\t\t// Presentation size\n\t\t\tpresentationWidth: presentationWidth || dom.wrapper.offsetWidth,\n\t\t\tpresentationHeight: presentationHeight || dom.wrapper.offsetHeight\n\t\t};\n\n\t\t// Reduce available space by margin\n\t\tsize.presentationWidth -= ( size.presentationWidth * config.margin );\n\t\tsize.presentationHeight -= ( size.presentationHeight * config.margin );\n\n\t\t// Slide width may be a percentage of available width\n\t\tif( typeof size.width === 'string' && /%$/.test( size.width ) ) {\n\t\t\tsize.width = parseInt( size.width, 10 ) / 100 * size.presentationWidth;\n\t\t}\n\n\t\t// Slide height may be a percentage of available height\n\t\tif( typeof size.height === 'string' && /%$/.test( size.height ) ) {\n\t\t\tsize.height = parseInt( size.height, 10 ) / 100 * size.presentationHeight;\n\t\t}\n\n\t\treturn size;\n\n\t}\n\n\t/**\n\t * Stores the vertical index of a stack so that the same\n\t * vertical slide can be selected when navigating to and\n\t * from the stack.\n\t *\n\t * @param {HTMLElement} stack The vertical stack element\n\t * @param {string|number} [v=0] Index to memorize\n\t */\n\tfunction setPreviousVerticalIndex( stack, v ) {\n\n\t\tif( typeof stack === 'object' && typeof stack.setAttribute === 'function' ) {\n\t\t\tstack.setAttribute( 'data-previous-indexv', v || 0 );\n\t\t}\n\n\t}\n\n\t/**\n\t * Retrieves the vertical index which was stored using\n\t * #setPreviousVerticalIndex() or 0 if no previous index\n\t * exists.\n\t *\n\t * @param {HTMLElement} stack The vertical stack element\n\t */\n\tfunction getPreviousVerticalIndex( stack ) {\n\n\t\tif( typeof stack === 'object' && typeof stack.setAttribute === 'function' && stack.classList.contains( 'stack' ) ) {\n\t\t\t// Prefer manually defined start-indexv\n\t\t\tconst attributeName = stack.hasAttribute( 'data-start-indexv' ) ? 'data-start-indexv' : 'data-previous-indexv';\n\n\t\t\treturn parseInt( stack.getAttribute( attributeName ) || 0, 10 );\n\t\t}\n\n\t\treturn 0;\n\n\t}\n\n\t/**\n\t * Checks if the current or specified slide is vertical\n\t * (nested within another slide).\n\t *\n\t * @param {HTMLElement} [slide=currentSlide] The slide to check\n\t * orientation of\n\t * @return {Boolean}\n\t */\n\tfunction isVerticalSlide( slide = currentSlide ) {\n\n\t\treturn slide && slide.parentNode && !!slide.parentNode.nodeName.match( /section/i );\n\n\t}\n\n\t/**\n\t * Checks if the current or specified slide is a stack containing\n\t * vertical slides.\n\t *\n\t * @param {HTMLElement} [slide=currentSlide]\n\t * @return {Boolean}\n\t */\n\tfunction isVerticalStack( slide = currentSlide ) {\n\n\t\treturn slide.classList.contains( '.stack' ) || slide.querySelector( 'section' ) !== null;\n\n\t}\n\n\t/**\n\t * Returns true if we're on the last slide in the current\n\t * vertical stack.\n\t */\n\tfunction isLastVerticalSlide() {\n\n\t\tif( currentSlide && isVerticalSlide( currentSlide ) ) {\n\t\t\t// Does this slide have a next sibling?\n\t\t\tif( currentSlide.nextElementSibling ) return false;\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\t/**\n\t * Returns true if we're currently on the first slide in\n\t * the presentation.\n\t */\n\tfunction isFirstSlide() {\n\n\t\treturn indexh === 0 && indexv === 0;\n\n\t}\n\n\t/**\n\t * Returns true if we're currently on the last slide in\n\t * the presenation. If the last slide is a stack, we only\n\t * consider this the last slide if it's at the end of the\n\t * stack.\n\t */\n\tfunction isLastSlide() {\n\n\t\tif( currentSlide ) {\n\t\t\t// Does this slide have a next sibling?\n\t\t\tif( currentSlide.nextElementSibling ) return false;\n\n\t\t\t// If it's vertical, does its parent have a next sibling?\n\t\t\tif( isVerticalSlide( currentSlide ) && currentSlide.parentNode.nextElementSibling ) return false;\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\t/**\n\t * Enters the paused mode which fades everything on screen to\n\t * black.\n\t */\n\tfunction pause() {\n\n\t\tif( config.pause ) {\n\t\t\tconst wasPaused = dom.wrapper.classList.contains( 'paused' );\n\n\t\t\tcancelAutoSlide();\n\t\t\tdom.wrapper.classList.add( 'paused' );\n\n\t\t\tif( wasPaused === false ) {\n\t\t\t\tdispatchEvent({ type: 'paused' });\n\t\t\t}\n\t\t}\n\n\t}\n\n\t/**\n\t * Exits from the paused mode.\n\t */\n\tfunction resume() {\n\n\t\tconst wasPaused = dom.wrapper.classList.contains( 'paused' );\n\t\tdom.wrapper.classList.remove( 'paused' );\n\n\t\tcueAutoSlide();\n\n\t\tif( wasPaused ) {\n\t\t\tdispatchEvent({ type: 'resumed' });\n\t\t}\n\n\t}\n\n\t/**\n\t * Toggles the paused mode on and off.\n\t */\n\tfunction togglePause( override ) {\n\n\t\tif( typeof override === 'boolean' ) {\n\t\t\toverride ? pause() : resume();\n\t\t}\n\t\telse {\n\t\t\tisPaused() ? resume() : pause();\n\t\t}\n\n\t}\n\n\t/**\n\t * Checks if we are currently in the paused mode.\n\t *\n\t * @return {Boolean}\n\t */\n\tfunction isPaused() {\n\n\t\treturn dom.wrapper.classList.contains( 'paused' );\n\n\t}\n\n\t/**\n\t * Toggles visibility of the jump-to-slide UI.\n\t */\n\tfunction toggleJumpToSlide( override ) {\n\n\t\tif( typeof override === 'boolean' ) {\n\t\t\toverride ? jumpToSlide.show() : jumpToSlide.hide();\n\t\t}\n\t\telse {\n\t\t\tjumpToSlide.isVisible() ? jumpToSlide.hide() : jumpToSlide.show();\n\t\t}\n\n\t}\n\n\t/**\n\t * Toggles the auto slide mode on and off.\n\t *\n\t * @param {Boolean} [override] Flag which sets the desired state.\n\t * True means autoplay starts, false means it stops.\n\t */\n\n\tfunction toggleAutoSlide( override ) {\n\n\t\tif( typeof override === 'boolean' ) {\n\t\t\toverride ? resumeAutoSlide() : pauseAutoSlide();\n\t\t}\n\n\t\telse {\n\t\t\tautoSlidePaused ? resumeAutoSlide() : pauseAutoSlide();\n\t\t}\n\n\t}\n\n\t/**\n\t * Checks if the auto slide mode is currently on.\n\t *\n\t * @return {Boolean}\n\t */\n\tfunction isAutoSliding() {\n\n\t\treturn !!( autoSlide && !autoSlidePaused );\n\n\t}\n\n\t/**\n\t * Steps from the current point in the presentation to the\n\t * slide which matches the specified horizontal and vertical\n\t * indices.\n\t *\n\t * @param {number} [h=indexh] Horizontal index of the target slide\n\t * @param {number} [v=indexv] Vertical index of the target slide\n\t * @param {number} [f] Index of a fragment within the\n\t * target slide to activate\n\t * @param {number} [origin] Origin for use in multimaster environments\n\t */\n\tfunction slide( h, v, f, origin ) {\n\n\t\t// Dispatch an event before the slide\n\t\tconst slidechange = dispatchEvent({\n\t\t\ttype: 'beforeslidechange',\n\t\t\tdata: {\n\t\t\t\tindexh: h === undefined ? indexh : h,\n\t\t\t\tindexv: v === undefined ? indexv : v,\n\t\t\t\torigin\n\t\t\t}\n\t\t});\n\n\t\t// Abort if this slide change was prevented by an event listener\n\t\tif( slidechange.defaultPrevented ) return;\n\n\t\t// Remember where we were at before\n\t\tpreviousSlide = currentSlide;\n\n\t\t// Query all horizontal slides in the deck\n\t\tconst horizontalSlides = dom.wrapper.querySelectorAll( HORIZONTAL_SLIDES_SELECTOR );\n\n\t\t// If we're in scroll mode, we scroll the target slide into view\n\t\t// instead of running our standard slide transition\n\t\tif( scrollView.isActive() ) {\n\t\t\tconst scrollToSlide = scrollView.getSlideByIndices( h, v );\n\t\t\tif( scrollToSlide ) scrollView.scrollToSlide( scrollToSlide );\n\t\t\treturn;\n\t\t}\n\n\t\t// Abort if there are no slides\n\t\tif( horizontalSlides.length === 0 ) return;\n\n\t\t// If no vertical index is specified and the upcoming slide is a\n\t\t// stack, resume at its previous vertical index\n\t\tif( v === undefined && !overview.isActive() ) {\n\t\t\tv = getPreviousVerticalIndex( horizontalSlides[ h ] );\n\t\t}\n\n\t\t// If we were on a vertical stack, remember what vertical index\n\t\t// it was on so we can resume at the same position when returning\n\t\tif( previousSlide && previousSlide.parentNode && previousSlide.parentNode.classList.contains( 'stack' ) ) {\n\t\t\tsetPreviousVerticalIndex( previousSlide.parentNode, indexv );\n\t\t}\n\n\t\t// Remember the state before this slide\n\t\tconst stateBefore = state.concat();\n\n\t\t// Reset the state array\n\t\tstate.length = 0;\n\n\t\tlet indexhBefore = indexh || 0,\n\t\t\tindexvBefore = indexv || 0;\n\n\t\t// Activate and transition to the new slide\n\t\tindexh = updateSlides( HORIZONTAL_SLIDES_SELECTOR, h === undefined ? indexh : h );\n\t\tindexv = updateSlides( VERTICAL_SLIDES_SELECTOR, v === undefined ? indexv : v );\n\n\t\t// Dispatch an event if the slide changed\n\t\tlet slideChanged = ( indexh !== indexhBefore || indexv !== indexvBefore );\n\n\t\t// Ensure that the previous slide is never the same as the current\n\t\tif( !slideChanged ) previousSlide = null;\n\n\t\t// Find the current horizontal slide and any possible vertical slides\n\t\t// within it\n\t\tlet currentHorizontalSlide = horizontalSlides[ indexh ],\n\t\t\tcurrentVerticalSlides = currentHorizontalSlide.querySelectorAll( 'section' );\n\n\t\t// Store references to the previous and current slides\n\t\tcurrentSlide = currentVerticalSlides[ indexv ] || currentHorizontalSlide;\n\n\t\tlet autoAnimateTransition = false;\n\n\t\t// Detect if we're moving between two auto-animated slides\n\t\tif( slideChanged && previousSlide && currentSlide && !overview.isActive() ) {\n\t\t\ttransition = 'running';\n\n\t\t\tautoAnimateTransition = shouldAutoAnimateBetween( previousSlide, currentSlide, indexhBefore, indexvBefore );\n\n\t\t\t// If this is an auto-animated transition, we disable the\n\t\t\t// regular slide transition\n\t\t\t//\n\t\t\t// Note 20-03-2020:\n\t\t\t// This needs to happen before we update slide visibility,\n\t\t\t// otherwise transitions will still run in Safari.\n\t\t\tif( autoAnimateTransition ) {\n\t\t\t\tdom.slides.classList.add( 'disable-slide-transitions' )\n\t\t\t}\n\t\t}\n\n\t\t// Update the visibility of slides now that the indices have changed\n\t\tupdateSlidesVisibility();\n\n\t\tlayout();\n\n\t\t// Update the overview if it's currently active\n\t\tif( overview.isActive() ) {\n\t\t\toverview.update();\n\t\t}\n\n\t\t// Show fragment, if specified\n\t\tif( typeof f !== 'undefined' ) {\n\t\t\tfragments.goto( f );\n\t\t}\n\n\t\t// Solves an edge case where the previous slide maintains the\n\t\t// 'present' class when navigating between adjacent vertical\n\t\t// stacks\n\t\tif( previousSlide && previousSlide !== currentSlide ) {\n\t\t\tpreviousSlide.classList.remove( 'present' );\n\t\t\tpreviousSlide.setAttribute( 'aria-hidden', 'true' );\n\n\t\t\t// Reset all slides upon navigate to home\n\t\t\tif( isFirstSlide() ) {\n\t\t\t\t// Launch async task\n\t\t\t\tsetTimeout( () => {\n\t\t\t\t\tgetVerticalStacks().forEach( slide => {\n\t\t\t\t\t\tsetPreviousVerticalIndex( slide, 0 );\n\t\t\t\t\t} );\n\t\t\t\t}, 0 );\n\t\t\t}\n\t\t}\n\n\t\t// Apply the new state\n\t\tstateLoop: for( let i = 0, len = state.length; i < len; i++ ) {\n\t\t\t// Check if this state existed on the previous slide. If it\n\t\t\t// did, we will avoid adding it repeatedly\n\t\t\tfor( let j = 0; j < stateBefore.length; j++ ) {\n\t\t\t\tif( stateBefore[j] === state[i] ) {\n\t\t\t\t\tstateBefore.splice( j, 1 );\n\t\t\t\t\tcontinue stateLoop;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdom.viewport.classList.add( state[i] );\n\n\t\t\t// Dispatch custom event matching the state's name\n\t\t\tdispatchEvent({ type: state[i] });\n\t\t}\n\n\t\t// Clean up the remains of the previous state\n\t\twhile( stateBefore.length ) {\n\t\t\tdom.viewport.classList.remove( stateBefore.pop() );\n\t\t}\n\n\t\tif( slideChanged ) {\n\t\t\tdispatchSlideChanged( origin );\n\t\t}\n\n\t\t// Handle embedded content\n\t\tif( slideChanged || !previousSlide ) {\n\t\t\tslideContent.stopEmbeddedContent( previousSlide );\n\t\t\tslideContent.startEmbeddedContent( currentSlide );\n\t\t}\n\n\t\t// Announce the current slide contents to screen readers\n\t\t// Use animation frame to prevent getComputedStyle in getStatusText\n\t\t// from triggering layout mid-frame\n\t\trequestAnimationFrame( () => {\n\t\t\tannounceStatus( getStatusText( currentSlide ) );\n\t\t});\n\n\t\tprogress.update();\n\t\tcontrols.update();\n\t\tnotes.update();\n\t\tbackgrounds.update();\n\t\tbackgrounds.updateParallax();\n\t\tslideNumber.update();\n\t\tfragments.update();\n\n\t\t// Update the URL hash\n\t\tlocation.writeURL();\n\n\t\tcueAutoSlide();\n\n\t\t// Auto-animation\n\t\tif( autoAnimateTransition ) {\n\n\t\t\tsetTimeout( () => {\n\t\t\t\tdom.slides.classList.remove( 'disable-slide-transitions' );\n\t\t\t}, 0 );\n\n\t\t\tif( config.autoAnimate ) {\n\t\t\t\t// Run the auto-animation between our slides\n\t\t\t\tautoAnimate.run( previousSlide, currentSlide );\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Checks whether or not an auto-animation should take place between\n\t * the two given slides.\n\t *\n\t * @param {HTMLElement} fromSlide\n\t * @param {HTMLElement} toSlide\n\t * @param {number} indexhBefore\n\t * @param {number} indexvBefore\n\t *\n\t * @returns {boolean}\n\t */\n\tfunction shouldAutoAnimateBetween( fromSlide, toSlide, indexhBefore, indexvBefore ) {\n\n\t\treturn \tfromSlide.hasAttribute( 'data-auto-animate' ) && toSlide.hasAttribute( 'data-auto-animate' ) &&\n\t\t\t\tfromSlide.getAttribute( 'data-auto-animate-id' ) === toSlide.getAttribute( 'data-auto-animate-id' ) &&\n\t\t\t\t!( ( indexh > indexhBefore || indexv > indexvBefore ) ? toSlide : fromSlide ).hasAttribute( 'data-auto-animate-restart' );\n\n\t}\n\n\t/**\n\t * Called anytime a new slide should be activated while in the scroll\n\t * view. The active slide is the page that occupies the most space in\n\t * the scrollable viewport.\n\t *\n\t * @param {number} pageIndex\n\t * @param {HTMLElement} slideElement\n\t */\n\tfunction setCurrentScrollPage( slideElement, h, v ) {\n\n\t\tlet indexhBefore = indexh || 0;\n\n\t\tindexh = h;\n\t\tindexv = v;\n\n\t\tconst slideChanged = currentSlide !== slideElement;\n\n\t\tpreviousSlide = currentSlide;\n\t\tcurrentSlide = slideElement;\n\n\t\tif( currentSlide && previousSlide ) {\n\t\t\tif( config.autoAnimate && shouldAutoAnimateBetween( previousSlide, currentSlide, indexhBefore, indexv ) ) {\n\t\t\t\t// Run the auto-animation between our slides\n\t\t\t\tautoAnimate.run( previousSlide, currentSlide );\n\t\t\t}\n\t\t}\n\n\t\t// Start or stop embedded content like videos and iframes\n\t\tif( slideChanged ) {\n\t\t\tif( previousSlide ) {\n\t\t\t\tslideContent.stopEmbeddedContent( previousSlide );\n\t\t\t\tslideContent.stopEmbeddedContent( previousSlide.slideBackgroundElement );\n\t\t\t}\n\n\t\t\tslideContent.startEmbeddedContent( currentSlide );\n\t\t\tslideContent.startEmbeddedContent( currentSlide.slideBackgroundElement );\n\t\t}\n\n\t\trequestAnimationFrame( () => {\n\t\t\tannounceStatus( getStatusText( currentSlide ) );\n\t\t});\n\n\t\tdispatchSlideChanged();\n\n\t}\n\n\t/**\n\t * Syncs the presentation with the current DOM. Useful\n\t * when new slides or control elements are added or when\n\t * the configuration has changed.\n\t */\n\tfunction sync() {\n\n\t\t// Subscribe to input\n\t\tremoveEventListeners();\n\t\taddEventListeners();\n\n\t\t// Force a layout to make sure the current config is accounted for\n\t\tlayout();\n\n\t\t// Reflect the current autoSlide value\n\t\tautoSlide = config.autoSlide;\n\n\t\t// Start auto-sliding if it's enabled\n\t\tcueAutoSlide();\n\n\t\t// Re-create all slide backgrounds\n\t\tbackgrounds.create();\n\n\t\t// Write the current hash to the URL\n\t\tlocation.writeURL();\n\n\t\tif( config.sortFragmentsOnSync === true ) {\n\t\t\tfragments.sortAll();\n\t\t}\n\n\t\tcontrols.update();\n\t\tprogress.update();\n\n\t\tupdateSlidesVisibility();\n\n\t\tnotes.update();\n\t\tnotes.updateVisibility();\n\t\tbackgrounds.update( true );\n\t\tslideNumber.update();\n\t\tslideContent.formatEmbeddedContent();\n\n\t\t// Start or stop embedded content depending on global config\n\t\tif( config.autoPlayMedia === false ) {\n\t\t\tslideContent.stopEmbeddedContent( currentSlide, { unloadIframes: false } );\n\t\t}\n\t\telse {\n\t\t\tslideContent.startEmbeddedContent( currentSlide );\n\t\t}\n\n\t\tif( overview.isActive() ) {\n\t\t\toverview.layout();\n\t\t}\n\n\t}\n\n\t/**\n\t * Updates reveal.js to keep in sync with new slide attributes. For\n\t * example, if you add a new `data-background-image` you can call\n\t * this to have reveal.js render the new background image.\n\t *\n\t * Similar to #sync() but more efficient when you only need to\n\t * refresh a specific slide.\n\t *\n\t * @param {HTMLElement} slide\n\t */\n\tfunction syncSlide( slide = currentSlide ) {\n\n\t\tbackgrounds.sync( slide );\n\t\tfragments.sync( slide );\n\n\t\tslideContent.load( slide );\n\n\t\tbackgrounds.update();\n\t\tnotes.update();\n\n\t}\n\n\t/**\n\t * Resets all vertical slides so that only the first\n\t * is visible.\n\t */\n\tfunction resetVerticalSlides() {\n\n\t\tgetHorizontalSlides().forEach( horizontalSlide => {\n\n\t\t\tUtil.queryAll( horizontalSlide, 'section' ).forEach( ( verticalSlide, y ) => {\n\n\t\t\t\tif( y > 0 ) {\n\t\t\t\t\tverticalSlide.classList.remove( 'present' );\n\t\t\t\t\tverticalSlide.classList.remove( 'past' );\n\t\t\t\t\tverticalSlide.classList.add( 'future' );\n\t\t\t\t\tverticalSlide.setAttribute( 'aria-hidden', 'true' );\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Randomly shuffles all slides in the deck.\n\t */\n\tfunction shuffle( slides = getHorizontalSlides() ) {\n\n\t\tslides.forEach( ( slide, i ) => {\n\n\t\t\t// Insert the slide next to a randomly picked sibling slide\n\t\t\t// slide. This may cause the slide to insert before itself,\n\t\t\t// but that's not an issue.\n\t\t\tlet beforeSlide = slides[ Math.floor( Math.random() * slides.length ) ];\n\t\t\tif( beforeSlide.parentNode === slide.parentNode ) {\n\t\t\t\tslide.parentNode.insertBefore( slide, beforeSlide );\n\t\t\t}\n\n\t\t\t// Randomize the order of vertical slides (if there are any)\n\t\t\tlet verticalSlides = slide.querySelectorAll( 'section' );\n\t\t\tif( verticalSlides.length ) {\n\t\t\t\tshuffle( verticalSlides );\n\t\t\t}\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Updates one dimension of slides by showing the slide\n\t * with the specified index.\n\t *\n\t * @param {string} selector A CSS selector that will fetch\n\t * the group of slides we are working with\n\t * @param {number} index The index of the slide that should be\n\t * shown\n\t *\n\t * @return {number} The index of the slide that is now shown,\n\t * might differ from the passed in index if it was out of\n\t * bounds.\n\t */\n\tfunction updateSlides( selector, index ) {\n\n\t\t// Select all slides and convert the NodeList result to\n\t\t// an array\n\t\tlet slides = Util.queryAll( dom.wrapper, selector ),\n\t\t\tslidesLength = slides.length;\n\n\t\tlet printMode = scrollView.isActive() || printView.isActive();\n\t\tlet loopedForwards = false;\n\t\tlet loopedBackwards = false;\n\n\t\tif( slidesLength ) {\n\n\t\t\t// Should the index loop?\n\t\t\tif( config.loop ) {\n\t\t\t\tif( index >= slidesLength ) loopedForwards = true;\n\n\t\t\t\tindex %= slidesLength;\n\n\t\t\t\tif( index < 0 ) {\n\t\t\t\t\tindex = slidesLength + index;\n\t\t\t\t\tloopedBackwards = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Enforce max and minimum index bounds\n\t\t\tindex = Math.max( Math.min( index, slidesLength - 1 ), 0 );\n\n\t\t\tfor( let i = 0; i < slidesLength; i++ ) {\n\t\t\t\tlet element = slides[i];\n\n\t\t\t\tlet reverse = config.rtl && !isVerticalSlide( element );\n\n\t\t\t\t// Avoid .remove() with multiple args for IE11 support\n\t\t\t\telement.classList.remove( 'past' );\n\t\t\t\telement.classList.remove( 'present' );\n\t\t\t\telement.classList.remove( 'future' );\n\n\t\t\t\t// http://www.w3.org/html/wg/drafts/html/master/editing.html#the-hidden-attribute\n\t\t\t\telement.setAttribute( 'hidden', '' );\n\t\t\t\telement.setAttribute( 'aria-hidden', 'true' );\n\n\t\t\t\t// If this element contains vertical slides\n\t\t\t\tif( element.querySelector( 'section' ) ) {\n\t\t\t\t\telement.classList.add( 'stack' );\n\t\t\t\t}\n\n\t\t\t\t// If we're printing static slides, all slides are \"present\"\n\t\t\t\tif( printMode ) {\n\t\t\t\t\telement.classList.add( 'present' );\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif( i < index ) {\n\t\t\t\t\t// Any element previous to index is given the 'past' class\n\t\t\t\t\telement.classList.add( reverse ? 'future' : 'past' );\n\n\t\t\t\t\tif( config.fragments ) {\n\t\t\t\t\t\t// Show all fragments in prior slides\n\t\t\t\t\t\tshowFragmentsIn( element );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if( i > index ) {\n\t\t\t\t\t// Any element subsequent to index is given the 'future' class\n\t\t\t\t\telement.classList.add( reverse ? 'past' : 'future' );\n\n\t\t\t\t\tif( config.fragments ) {\n\t\t\t\t\t\t// Hide all fragments in future slides\n\t\t\t\t\t\thideFragmentsIn( element );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Update the visibility of fragments when a presentation loops\n\t\t\t\t// in either direction\n\t\t\t\telse if( i === index && config.fragments ) {\n\t\t\t\t\tif( loopedForwards ) {\n\t\t\t\t\t\thideFragmentsIn( element );\n\t\t\t\t\t}\n\t\t\t\t\telse if( loopedBackwards ) {\n\t\t\t\t\t\tshowFragmentsIn( element );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet slide = slides[index];\n\t\t\tlet wasPresent = slide.classList.contains( 'present' );\n\n\t\t\t// Mark the current slide as present\n\t\t\tslide.classList.add( 'present' );\n\t\t\tslide.removeAttribute( 'hidden' );\n\t\t\tslide.removeAttribute( 'aria-hidden' );\n\n\t\t\tif( !wasPresent ) {\n\t\t\t\t// Dispatch an event indicating the slide is now visible\n\t\t\t\tdispatchEvent({\n\t\t\t\t\ttarget: slide,\n\t\t\t\t\ttype: 'visible',\n\t\t\t\t\tbubbles: false\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// If this slide has a state associated with it, add it\n\t\t\t// onto the current state of the deck\n\t\t\tlet slideState = slide.getAttribute( 'data-state' );\n\t\t\tif( slideState ) {\n\t\t\t\tstate = state.concat( slideState.split( ' ' ) );\n\t\t\t}\n\n\t\t}\n\t\telse {\n\t\t\t// Since there are no slides we can't be anywhere beyond the\n\t\t\t// zeroth index\n\t\t\tindex = 0;\n\t\t}\n\n\t\treturn index;\n\n\t}\n\n\t/**\n\t * Shows all fragment elements within the given container.\n\t */\n\tfunction showFragmentsIn( container ) {\n\n\t\tUtil.queryAll( container, '.fragment' ).forEach( fragment => {\n\t\t\tfragment.classList.add( 'visible' );\n\t\t\tfragment.classList.remove( 'current-fragment' );\n\t\t} );\n\n\t}\n\n\t/**\n\t * Hides all fragment elements within the given container.\n\t */\n\tfunction hideFragmentsIn( container ) {\n\n\t\tUtil.queryAll( container, '.fragment.visible' ).forEach( fragment => {\n\t\t\tfragment.classList.remove( 'visible', 'current-fragment' );\n\t\t} );\n\n\t}\n\n\t/**\n\t * Optimization method; hide all slides that are far away\n\t * from the present slide.\n\t */\n\tfunction updateSlidesVisibility() {\n\n\t\t// Select all slides and convert the NodeList result to\n\t\t// an array\n\t\tlet horizontalSlides = getHorizontalSlides(),\n\t\t\thorizontalSlidesLength = horizontalSlides.length,\n\t\t\tdistanceX,\n\t\t\tdistanceY;\n\n\t\tif( horizontalSlidesLength && typeof indexh !== 'undefined' ) {\n\n\t\t\t// The number of steps away from the present slide that will\n\t\t\t// be visible\n\t\t\tlet viewDistance = overview.isActive() ? 10 : config.viewDistance;\n\n\t\t\t// Shorten the view distance on devices that typically have\n\t\t\t// less resources\n\t\t\tif( Device.isMobile ) {\n\t\t\t\tviewDistance = overview.isActive() ? 6 : config.mobileViewDistance;\n\t\t\t}\n\n\t\t\t// All slides need to be visible when exporting to PDF\n\t\t\tif( printView.isActive() ) {\n\t\t\t\tviewDistance = Number.MAX_VALUE;\n\t\t\t}\n\n\t\t\tfor( let x = 0; x < horizontalSlidesLength; x++ ) {\n\t\t\t\tlet horizontalSlide = horizontalSlides[x];\n\n\t\t\t\tlet verticalSlides = Util.queryAll( horizontalSlide, 'section' ),\n\t\t\t\t\tverticalSlidesLength = verticalSlides.length;\n\n\t\t\t\t// Determine how far away this slide is from the present\n\t\t\t\tdistanceX = Math.abs( ( indexh || 0 ) - x ) || 0;\n\n\t\t\t\t// If the presentation is looped, distance should measure\n\t\t\t\t// 1 between the first and last slides\n\t\t\t\tif( config.loop ) {\n\t\t\t\t\tdistanceX = Math.abs( ( ( indexh || 0 ) - x ) % ( horizontalSlidesLength - viewDistance ) ) || 0;\n\t\t\t\t}\n\n\t\t\t\t// Show the horizontal slide if it's within the view distance\n\t\t\t\tif( distanceX < viewDistance ) {\n\t\t\t\t\tslideContent.load( horizontalSlide );\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tslideContent.unload( horizontalSlide );\n\t\t\t\t}\n\n\t\t\t\tif( verticalSlidesLength ) {\n\n\t\t\t\t\tlet oy = getPreviousVerticalIndex( horizontalSlide );\n\n\t\t\t\t\tfor( let y = 0; y < verticalSlidesLength; y++ ) {\n\t\t\t\t\t\tlet verticalSlide = verticalSlides[y];\n\n\t\t\t\t\t\tdistanceY = x === ( indexh || 0 ) ? Math.abs( ( indexv || 0 ) - y ) : Math.abs( y - oy );\n\n\t\t\t\t\t\tif( distanceX + distanceY < viewDistance ) {\n\t\t\t\t\t\t\tslideContent.load( verticalSlide );\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tslideContent.unload( verticalSlide );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Flag if there are ANY vertical slides, anywhere in the deck\n\t\t\tif( hasVerticalSlides() ) {\n\t\t\t\tdom.wrapper.classList.add( 'has-vertical-slides' );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdom.wrapper.classList.remove( 'has-vertical-slides' );\n\t\t\t}\n\n\t\t\t// Flag if there are ANY horizontal slides, anywhere in the deck\n\t\t\tif( hasHorizontalSlides() ) {\n\t\t\t\tdom.wrapper.classList.add( 'has-horizontal-slides' );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdom.wrapper.classList.remove( 'has-horizontal-slides' );\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Determine what available routes there are for navigation.\n\t *\n\t * @return {{left: boolean, right: boolean, up: boolean, down: boolean}}\n\t */\n\tfunction availableRoutes({ includeFragments = false } = {}) {\n\n\t\tlet horizontalSlides = dom.wrapper.querySelectorAll( HORIZONTAL_SLIDES_SELECTOR ),\n\t\t\tverticalSlides = dom.wrapper.querySelectorAll( VERTICAL_SLIDES_SELECTOR );\n\n\t\tlet routes = {\n\t\t\tleft: indexh > 0,\n\t\t\tright: indexh < horizontalSlides.length - 1,\n\t\t\tup: indexv > 0,\n\t\t\tdown: indexv < verticalSlides.length - 1\n\t\t};\n\n\t\t// Looped presentations can always be navigated as long as\n\t\t// there are slides available\n\t\tif( config.loop ) {\n\t\t\tif( horizontalSlides.length > 1 ) {\n\t\t\t\troutes.left = true;\n\t\t\t\troutes.right = true;\n\t\t\t}\n\n\t\t\tif( verticalSlides.length > 1 ) {\n\t\t\t\troutes.up = true;\n\t\t\t\troutes.down = true;\n\t\t\t}\n\t\t}\n\n\t\tif ( horizontalSlides.length > 1 && config.navigationMode === 'linear' ) {\n\t\t\troutes.right = routes.right || routes.down;\n\t\t\troutes.left = routes.left || routes.up;\n\t\t}\n\n\t\t// If includeFragments is set, a route will be considered\n\t\t// available if either a slid OR fragment is available in\n\t\t// the given direction\n\t\tif( includeFragments === true ) {\n\t\t\tlet fragmentRoutes = fragments.availableRoutes();\n\t\t\troutes.left = routes.left || fragmentRoutes.prev;\n\t\t\troutes.up = routes.up || fragmentRoutes.prev;\n\t\t\troutes.down = routes.down || fragmentRoutes.next;\n\t\t\troutes.right = routes.right || fragmentRoutes.next;\n\t\t}\n\n\t\t// Reverse horizontal controls for rtl\n\t\tif( config.rtl ) {\n\t\t\tlet left = routes.left;\n\t\t\troutes.left = routes.right;\n\t\t\troutes.right = left;\n\t\t}\n\n\t\treturn routes;\n\n\t}\n\n\t/**\n\t * Returns the number of past slides. This can be used as a global\n\t * flattened index for slides.\n\t *\n\t * @param {HTMLElement} [slide=currentSlide] The slide we're counting before\n\t *\n\t * @return {number} Past slide count\n\t */\n\tfunction getSlidePastCount( slide = currentSlide ) {\n\n\t\tlet horizontalSlides = getHorizontalSlides();\n\n\t\t// The number of past slides\n\t\tlet pastCount = 0;\n\n\t\t// Step through all slides and count the past ones\n\t\tmainLoop: for( let i = 0; i < horizontalSlides.length; i++ ) {\n\n\t\t\tlet horizontalSlide = horizontalSlides[i];\n\t\t\tlet verticalSlides = horizontalSlide.querySelectorAll( 'section' );\n\n\t\t\tfor( let j = 0; j < verticalSlides.length; j++ ) {\n\n\t\t\t\t// Stop as soon as we arrive at the present\n\t\t\t\tif( verticalSlides[j] === slide ) {\n\t\t\t\t\tbreak mainLoop;\n\t\t\t\t}\n\n\t\t\t\t// Don't count slides with the \"uncounted\" class\n\t\t\t\tif( verticalSlides[j].dataset.visibility !== 'uncounted' ) {\n\t\t\t\t\tpastCount++;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Stop as soon as we arrive at the present\n\t\t\tif( horizontalSlide === slide ) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Don't count the wrapping section for vertical slides and\n\t\t\t// slides marked as uncounted\n\t\t\tif( horizontalSlide.classList.contains( 'stack' ) === false && horizontalSlide.dataset.visibility !== 'uncounted' ) {\n\t\t\t\tpastCount++;\n\t\t\t}\n\n\t\t}\n\n\t\treturn pastCount;\n\n\t}\n\n\t/**\n\t * Returns a value ranging from 0-1 that represents\n\t * how far into the presentation we have navigated.\n\t *\n\t * @return {number}\n\t */\n\tfunction getProgress() {\n\n\t\t// The number of past and total slides\n\t\tlet totalCount = getTotalSlides();\n\t\tlet pastCount = getSlidePastCount();\n\n\t\tif( currentSlide ) {\n\n\t\t\tlet allFragments = currentSlide.querySelectorAll( '.fragment' );\n\n\t\t\t// If there are fragments in the current slide those should be\n\t\t\t// accounted for in the progress.\n\t\t\tif( allFragments.length > 0 ) {\n\t\t\t\tlet visibleFragments = currentSlide.querySelectorAll( '.fragment.visible' );\n\n\t\t\t\t// This value represents how big a portion of the slide progress\n\t\t\t\t// that is made up by its fragments (0-1)\n\t\t\t\tlet fragmentWeight = 0.9;\n\n\t\t\t\t// Add fragment progress to the past slide count\n\t\t\t\tpastCount += ( visibleFragments.length / allFragments.length ) * fragmentWeight;\n\t\t\t}\n\n\t\t}\n\n\t\treturn Math.min( pastCount / ( totalCount - 1 ), 1 );\n\n\t}\n\n\t/**\n\t * Retrieves the h/v location and fragment of the current,\n\t * or specified, slide.\n\t *\n\t * @param {HTMLElement} [slide] If specified, the returned\n\t * index will be for this slide rather than the currently\n\t * active one\n\t *\n\t * @return {{h: number, v: number, f: number}}\n\t */\n\tfunction getIndices( slide ) {\n\n\t\t// By default, return the current indices\n\t\tlet h = indexh,\n\t\t\tv = indexv,\n\t\t\tf;\n\n\t\t// If a slide is specified, return the indices of that slide\n\t\tif( slide ) {\n\t\t\t// In scroll mode the original h/x index is stored on the slide\n\t\t\tif( scrollView.isActive() ) {\n\t\t\t\th = parseInt( slide.getAttribute( 'data-index-h' ), 10 );\n\n\t\t\t\tif( slide.getAttribute( 'data-index-v' ) ) {\n\t\t\t\t\tv = parseInt( slide.getAttribute( 'data-index-v' ), 10 );\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlet isVertical = isVerticalSlide( slide );\n\t\t\t\tlet slideh = isVertical ? slide.parentNode : slide;\n\n\t\t\t\t// Select all horizontal slides\n\t\t\t\tlet horizontalSlides = getHorizontalSlides();\n\n\t\t\t\t// Now that we know which the horizontal slide is, get its index\n\t\t\t\th = Math.max( horizontalSlides.indexOf( slideh ), 0 );\n\n\t\t\t\t// Assume we're not vertical\n\t\t\t\tv = undefined;\n\n\t\t\t\t// If this is a vertical slide, grab the vertical index\n\t\t\t\tif( isVertical ) {\n\t\t\t\t\tv = Math.max( Util.queryAll( slide.parentNode, 'section' ).indexOf( slide ), 0 );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif( !slide && currentSlide ) {\n\t\t\tlet hasFragments = currentSlide.querySelectorAll( '.fragment' ).length > 0;\n\t\t\tif( hasFragments ) {\n\t\t\t\tlet currentFragment = currentSlide.querySelector( '.current-fragment' );\n\t\t\t\tif( currentFragment && currentFragment.hasAttribute( 'data-fragment-index' ) ) {\n\t\t\t\t\tf = parseInt( currentFragment.getAttribute( 'data-fragment-index' ), 10 );\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tf = currentSlide.querySelectorAll( '.fragment.visible' ).length - 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn { h, v, f };\n\n\t}\n\n\t/**\n\t * Retrieves all slides in this presentation.\n\t */\n\tfunction getSlides() {\n\n\t\treturn Util.queryAll( dom.wrapper, SLIDES_SELECTOR + ':not(.stack):not([data-visibility=\"uncounted\"])' );\n\n\t}\n\n\t/**\n\t * Returns a list of all horizontal slides in the deck. Each\n\t * vertical stack is included as one horizontal slide in the\n\t * resulting array.\n\t */\n\tfunction getHorizontalSlides() {\n\n\t\treturn Util.queryAll( dom.wrapper, HORIZONTAL_SLIDES_SELECTOR );\n\n\t}\n\n\t/**\n\t * Returns all vertical slides that exist within this deck.\n\t */\n\tfunction getVerticalSlides() {\n\n\t\treturn Util.queryAll( dom.wrapper, '.slides>section>section' );\n\n\t}\n\n\t/**\n\t * Returns all vertical stacks (each stack can contain multiple slides).\n\t */\n\tfunction getVerticalStacks() {\n\n\t\treturn Util.queryAll( dom.wrapper, HORIZONTAL_SLIDES_SELECTOR + '.stack');\n\n\t}\n\n\t/**\n\t * Returns true if there are at least two horizontal slides.\n\t */\n\tfunction hasHorizontalSlides() {\n\n\t\treturn getHorizontalSlides().length > 1;\n\t}\n\n\t/**\n\t * Returns true if there are at least two vertical slides.\n\t */\n\tfunction hasVerticalSlides() {\n\n\t\treturn getVerticalSlides().length > 1;\n\n\t}\n\n\t/**\n\t * Returns an array of objects where each object represents the\n\t * attributes on its respective slide.\n\t */\n\tfunction getSlidesAttributes() {\n\n\t\treturn getSlides().map( slide => {\n\n\t\t\tlet attributes = {};\n\t\t\tfor( let i = 0; i < slide.attributes.length; i++ ) {\n\t\t\t\tlet attribute = slide.attributes[ i ];\n\t\t\t\tattributes[ attribute.name ] = attribute.value;\n\t\t\t}\n\t\t\treturn attributes;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Retrieves the total number of slides in this presentation.\n\t *\n\t * @return {number}\n\t */\n\tfunction getTotalSlides() {\n\n\t\treturn getSlides().length;\n\n\t}\n\n\t/**\n\t * Returns the slide element matching the specified index.\n\t *\n\t * @return {HTMLElement}\n\t */\n\tfunction getSlide( x, y ) {\n\n\t\tlet horizontalSlide = getHorizontalSlides()[ x ];\n\t\tlet verticalSlides = horizontalSlide && horizontalSlide.querySelectorAll( 'section' );\n\n\t\tif( verticalSlides && verticalSlides.length && typeof y === 'number' ) {\n\t\t\treturn verticalSlides ? verticalSlides[ y ] : undefined;\n\t\t}\n\n\t\treturn horizontalSlide;\n\n\t}\n\n\t/**\n\t * Returns the background element for the given slide.\n\t * All slides, even the ones with no background properties\n\t * defined, have a background element so as long as the\n\t * index is valid an element will be returned.\n\t *\n\t * @param {mixed} x Horizontal background index OR a slide\n\t * HTML element\n\t * @param {number} y Vertical background index\n\t * @return {(HTMLElement[]|*)}\n\t */\n\tfunction getSlideBackground( x, y ) {\n\n\t\tlet slide = typeof x === 'number' ? getSlide( x, y ) : x;\n\t\tif( slide ) {\n\t\t\treturn slide.slideBackgroundElement;\n\t\t}\n\n\t\treturn undefined;\n\n\t}\n\n\t/**\n\t * Retrieves the current state of the presentation as\n\t * an object. This state can then be restored at any\n\t * time.\n\t *\n\t * @return {{indexh: number, indexv: number, indexf: number, paused: boolean, overview: boolean}}\n\t */\n\tfunction getState() {\n\n\t\tlet indices = getIndices();\n\n\t\treturn {\n\t\t\tindexh: indices.h,\n\t\t\tindexv: indices.v,\n\t\t\tindexf: indices.f,\n\t\t\tpaused: isPaused(),\n\t\t\toverview: overview.isActive()\n\t\t};\n\n\t}\n\n\t/**\n\t * Restores the presentation to the given state.\n\t *\n\t * @param {object} state As generated by getState()\n\t * @see {@link getState} generates the parameter `state`\n\t */\n\tfunction setState( state ) {\n\n\t\tif( typeof state === 'object' ) {\n\t\t\tslide( Util.deserialize( state.indexh ), Util.deserialize( state.indexv ), Util.deserialize( state.indexf ) );\n\n\t\t\tlet pausedFlag = Util.deserialize( state.paused ),\n\t\t\t\toverviewFlag = Util.deserialize( state.overview );\n\n\t\t\tif( typeof pausedFlag === 'boolean' && pausedFlag !== isPaused() ) {\n\t\t\t\ttogglePause( pausedFlag );\n\t\t\t}\n\n\t\t\tif( typeof overviewFlag === 'boolean' && overviewFlag !== overview.isActive() ) {\n\t\t\t\toverview.toggle( overviewFlag );\n\t\t\t}\n\t\t}\n\n\t}\n\n\t/**\n\t * Cues a new automated slide if enabled in the config.\n\t */\n\tfunction cueAutoSlide() {\n\n\t\tcancelAutoSlide();\n\n\t\tif( currentSlide && config.autoSlide !== false ) {\n\n\t\t\tlet fragment = currentSlide.querySelector( '.current-fragment[data-autoslide]' );\n\n\t\t\tlet fragmentAutoSlide = fragment ? fragment.getAttribute( 'data-autoslide' ) : null;\n\t\t\tlet parentAutoSlide = currentSlide.parentNode ? currentSlide.parentNode.getAttribute( 'data-autoslide' ) : null;\n\t\t\tlet slideAutoSlide = currentSlide.getAttribute( 'data-autoslide' );\n\n\t\t\t// Pick value in the following priority order:\n\t\t\t// 1. Current fragment's data-autoslide\n\t\t\t// 2. Current slide's data-autoslide\n\t\t\t// 3. Parent slide's data-autoslide\n\t\t\t// 4. Global autoSlide setting\n\t\t\tif( fragmentAutoSlide ) {\n\t\t\t\tautoSlide = parseInt( fragmentAutoSlide, 10 );\n\t\t\t}\n\t\t\telse if( slideAutoSlide ) {\n\t\t\t\tautoSlide = parseInt( slideAutoSlide, 10 );\n\t\t\t}\n\t\t\telse if( parentAutoSlide ) {\n\t\t\t\tautoSlide = parseInt( parentAutoSlide, 10 );\n\t\t\t}\n\t\t\telse {\n\t\t\t\tautoSlide = config.autoSlide;\n\n\t\t\t\t// If there are media elements with data-autoplay,\n\t\t\t\t// automatically set the autoSlide duration to the\n\t\t\t\t// length of that media. Not applicable if the slide\n\t\t\t\t// is divided up into fragments.\n\t\t\t\t// playbackRate is accounted for in the duration.\n\t\t\t\tif( currentSlide.querySelectorAll( '.fragment' ).length === 0 ) {\n\t\t\t\t\tUtil.queryAll( currentSlide, 'video, audio' ).forEach( el => {\n\t\t\t\t\t\tif( el.hasAttribute( 'data-autoplay' ) ) {\n\t\t\t\t\t\t\tif( autoSlide && (el.duration * 1000 / el.playbackRate ) > autoSlide ) {\n\t\t\t\t\t\t\t\tautoSlide = ( el.duration * 1000 / el.playbackRate ) + 1000;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Cue the next auto-slide if:\n\t\t\t// - There is an autoSlide value\n\t\t\t// - Auto-sliding isn't paused by the user\n\t\t\t// - The presentation isn't paused\n\t\t\t// - The overview isn't active\n\t\t\t// - The presentation isn't over\n\t\t\tif( autoSlide && !autoSlidePaused && !isPaused() && !overview.isActive() && ( !isLastSlide() || fragments.availableRoutes().next || config.loop === true ) ) {\n\t\t\t\tautoSlideTimeout = setTimeout( () => {\n\t\t\t\t\tif( typeof config.autoSlideMethod === 'function' ) {\n\t\t\t\t\t\tconfig.autoSlideMethod()\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tnavigateNext();\n\t\t\t\t\t}\n\t\t\t\t\tcueAutoSlide();\n\t\t\t\t}, autoSlide );\n\t\t\t\tautoSlideStartTime = Date.now();\n\t\t\t}\n\n\t\t\tif( autoSlidePlayer ) {\n\t\t\t\tautoSlidePlayer.setPlaying( autoSlideTimeout !== -1 );\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Cancels any ongoing request to auto-slide.\n\t */\n\tfunction cancelAutoSlide() {\n\n\t\tclearTimeout( autoSlideTimeout );\n\t\tautoSlideTimeout = -1;\n\n\t}\n\n\tfunction pauseAutoSlide() {\n\n\t\tif( autoSlide && !autoSlidePaused ) {\n\t\t\tautoSlidePaused = true;\n\t\t\tdispatchEvent({ type: 'autoslidepaused' });\n\t\t\tclearTimeout( autoSlideTimeout );\n\n\t\t\tif( autoSlidePlayer ) {\n\t\t\t\tautoSlidePlayer.setPlaying( false );\n\t\t\t}\n\t\t}\n\n\t}\n\n\tfunction resumeAutoSlide() {\n\n\t\tif( autoSlide && autoSlidePaused ) {\n\t\t\tautoSlidePaused = false;\n\t\t\tdispatchEvent({ type: 'autoslideresumed' });\n\t\t\tcueAutoSlide();\n\t\t}\n\n\t}\n\n\tfunction navigateLeft({skipFragments=false}={}) {\n\n\t\tnavigationHistory.hasNavigatedHorizontally = true;\n\n\t\t// Reverse for RTL\n\t\tif( config.rtl ) {\n\t\t\tif( ( overview.isActive() || skipFragments || fragments.next() === false ) && availableRoutes().left ) {\n\t\t\t\tslide( indexh + 1, config.navigationMode === 'grid' ? indexv : undefined );\n\t\t\t}\n\t\t}\n\t\t// Normal navigation\n\t\telse if( ( overview.isActive() || skipFragments || fragments.prev() === false ) && availableRoutes().left ) {\n\t\t\tslide( indexh - 1, config.navigationMode === 'grid' ? indexv : undefined );\n\t\t}\n\n\t}\n\n\tfunction navigateRight({skipFragments=false}={}) {\n\n\t\tnavigationHistory.hasNavigatedHorizontally = true;\n\n\t\t// Reverse for RTL\n\t\tif( config.rtl ) {\n\t\t\tif( ( overview.isActive() || skipFragments || fragments.prev() === false ) && availableRoutes().right ) {\n\t\t\t\tslide( indexh - 1, config.navigationMode === 'grid' ? indexv : undefined );\n\t\t\t}\n\t\t}\n\t\t// Normal navigation\n\t\telse if( ( overview.isActive() || skipFragments || fragments.next() === false ) && availableRoutes().right ) {\n\t\t\tslide( indexh + 1, config.navigationMode === 'grid' ? indexv : undefined );\n\t\t}\n\n\t}\n\n\tfunction navigateUp({skipFragments=false}={}) {\n\n\t\t// Prioritize hiding fragments\n\t\tif( ( overview.isActive() || skipFragments || fragments.prev() === false ) && availableRoutes().up ) {\n\t\t\tslide( indexh, indexv - 1 );\n\t\t}\n\n\t}\n\n\tfunction navigateDown({skipFragments=false}={}) {\n\n\t\tnavigationHistory.hasNavigatedVertically = true;\n\n\t\t// Prioritize revealing fragments\n\t\tif( ( overview.isActive() || skipFragments || fragments.next() === false ) && availableRoutes().down ) {\n\t\t\tslide( indexh, indexv + 1 );\n\t\t}\n\n\t}\n\n\t/**\n\t * Navigates backwards, prioritized in the following order:\n\t * 1) Previous fragment\n\t * 2) Previous vertical slide\n\t * 3) Previous horizontal slide\n\t */\n\tfunction navigatePrev({skipFragments=false}={}) {\n\n\t\t// Prioritize revealing fragments\n\t\tif( skipFragments || fragments.prev() === false ) {\n\t\t\tif( availableRoutes().up ) {\n\t\t\t\tnavigateUp({skipFragments});\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Fetch the previous horizontal slide, if there is one\n\t\t\t\tlet previousSlide;\n\n\t\t\t\tif( config.rtl ) {\n\t\t\t\t\tpreviousSlide = Util.queryAll( dom.wrapper, HORIZONTAL_SLIDES_SELECTOR + '.future' ).pop();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tpreviousSlide = Util.queryAll( dom.wrapper, HORIZONTAL_SLIDES_SELECTOR + '.past' ).pop();\n\t\t\t\t}\n\n\t\t\t\t// When going backwards and arriving on a stack we start\n\t\t\t\t// at the bottom of the stack\n\t\t\t\tif( previousSlide && previousSlide.classList.contains( 'stack' ) ) {\n\t\t\t\t\tlet v = ( previousSlide.querySelectorAll( 'section' ).length - 1 ) || undefined;\n\t\t\t\t\tlet h = indexh - 1;\n\t\t\t\t\tslide( h, v );\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tnavigateLeft({skipFragments});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t}\n\n\t/**\n\t * The reverse of #navigatePrev().\n\t */\n\tfunction navigateNext({skipFragments=false}={}) {\n\n\t\tnavigationHistory.hasNavigatedHorizontally = true;\n\t\tnavigationHistory.hasNavigatedVertically = true;\n\n\t\t// Prioritize revealing fragments\n\t\tif( skipFragments || fragments.next() === false ) {\n\n\t\t\tlet routes = availableRoutes();\n\n\t\t\t// When looping is enabled `routes.down` is always available\n\t\t\t// so we need a separate check for when we've reached the\n\t\t\t// end of a stack and should move horizontally\n\t\t\tif( routes.down && routes.right && config.loop && isLastVerticalSlide() ) {\n\t\t\t\troutes.down = false;\n\t\t\t}\n\n\t\t\tif( routes.down ) {\n\t\t\t\tnavigateDown({skipFragments});\n\t\t\t}\n\t\t\telse if( config.rtl ) {\n\t\t\t\tnavigateLeft({skipFragments});\n\t\t\t}\n\t\t\telse {\n\t\t\t\tnavigateRight({skipFragments});\n\t\t\t}\n\t\t}\n\n\t}\n\n\n\t// --------------------------------------------------------------------//\n\t// ----------------------------- EVENTS -------------------------------//\n\t// --------------------------------------------------------------------//\n\n\t/**\n\t * Called by all event handlers that are based on user\n\t * input.\n\t *\n\t * @param {object} [event]\n\t */\n\tfunction onUserInput( event ) {\n\n\t\tif( config.autoSlideStoppable ) {\n\t\t\tpauseAutoSlide();\n\t\t}\n\n\t}\n\n\t/**\n\t* Listener for post message events posted to this window.\n\t*/\n\tfunction onPostMessage( event ) {\n\n\t\tlet data = event.data;\n\n\t\t// Make sure we're dealing with JSON\n\t\tif( typeof data === 'string' && data.charAt( 0 ) === '{' && data.charAt( data.length - 1 ) === '}' ) {\n\t\t\tdata = JSON.parse( data );\n\n\t\t\t// Check if the requested method can be found\n\t\t\tif( data.method && typeof Reveal[data.method] === 'function' ) {\n\n\t\t\t\tif( POST_MESSAGE_METHOD_BLACKLIST.test( data.method ) === false ) {\n\n\t\t\t\t\tconst result = Reveal[data.method].apply( Reveal, data.args );\n\n\t\t\t\t\t// Dispatch a postMessage event with the returned value from\n\t\t\t\t\t// our method invocation for getter functions\n\t\t\t\t\tdispatchPostMessage( 'callback', { method: data.method, result: result } );\n\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tconsole.warn( 'reveal.js: \"'+ data.method +'\" is is blacklisted from the postMessage API' );\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t}\n\n\t/**\n\t * Event listener for transition end on the current slide.\n\t *\n\t * @param {object} [event]\n\t */\n\tfunction onTransitionEnd( event ) {\n\n\t\tif( transition === 'running' && /section/gi.test( event.target.nodeName ) ) {\n\t\t\ttransition = 'idle';\n\t\t\tdispatchEvent({\n\t\t\t\ttype: 'slidetransitionend',\n\t\t\t\tdata: { indexh, indexv, previousSlide, currentSlide }\n\t\t\t});\n\t\t}\n\n\t}\n\n\t/**\n\t * A global listener for all click events inside of the\n\t * .slides container.\n\t *\n\t * @param {object} [event]\n\t */\n\tfunction onSlidesClicked( event ) {\n\n\t\tconst anchor = Util.closest( event.target, 'a[href^=\"#\"]' );\n\n\t\t// If a hash link is clicked, we find the target slide\n\t\t// and navigate to it. We previously relied on 'hashchange'\n\t\t// for links like these but that prevented media with\n\t\t// audio tracks from playing in mobile browsers since it\n\t\t// wasn't considered a direct interaction with the document.\n\t\tif( anchor ) {\n\t\t\tconst hash = anchor.getAttribute( 'href' );\n\t\t\tconst indices = location.getIndicesFromHash( hash );\n\n\t\t\tif( indices ) {\n\t\t\t\tReveal.slide( indices.h, indices.v, indices.f );\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t}\n\n\t}\n\n\t/**\n\t * Handler for the window level 'resize' event.\n\t *\n\t * @param {object} [event]\n\t */\n\tfunction onWindowResize( event ) {\n\n\t\tlayout();\n\t}\n\n\t/**\n\t * Handle for the window level 'visibilitychange' event.\n\t *\n\t * @param {object} [event]\n\t */\n\tfunction onPageVisibilityChange( event ) {\n\n\t\t// If, after clicking a link or similar and we're coming back,\n\t\t// focus the document.body to ensure we can use keyboard shortcuts\n\t\tif( document.hidden === false && document.activeElement !== document.body ) {\n\t\t\t// Not all elements support .blur() - SVGs among them.\n\t\t\tif( typeof document.activeElement.blur === 'function' ) {\n\t\t\t\tdocument.activeElement.blur();\n\t\t\t}\n\t\t\tdocument.body.focus();\n\t\t}\n\n\t}\n\n\t/**\n\t * Handler for the document level 'fullscreenchange' event.\n\t *\n\t * @param {object} [event]\n\t */\n\tfunction onFullscreenChange( event ) {\n\n\t\tlet element = document.fullscreenElement || document.webkitFullscreenElement;\n\t\tif( element === dom.wrapper ) {\n\t\t\tevent.stopImmediatePropagation();\n\n\t\t\t// Timeout to avoid layout shift in Safari\n\t\t\tsetTimeout( () => {\n\t\t\t\tReveal.layout();\n\t\t\t\tReveal.focus.focus(); // focus.focus :'(\n\t\t\t}, 1 );\n\t\t}\n\n\t}\n\n\t/**\n\t * Handles clicks on links that are set to preview in the\n\t * iframe overlay.\n\t *\n\t * @param {object} event\n\t */\n\tfunction onPreviewLinkClicked( event ) {\n\n\t\tif( event.currentTarget && event.currentTarget.hasAttribute( 'href' ) ) {\n\t\t\tlet url = event.currentTarget.getAttribute( 'href' );\n\t\t\tif( url ) {\n\t\t\t\tshowPreview( url );\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t}\n\n\t}\n\n\t/**\n\t * Handles click on the auto-sliding controls element.\n\t *\n\t * @param {object} [event]\n\t */\n\tfunction onAutoSlidePlayerClick( event ) {\n\n\t\t// Replay\n\t\tif( isLastSlide() && config.loop === false ) {\n\t\t\tslide( 0, 0 );\n\t\t\tresumeAutoSlide();\n\t\t}\n\t\t// Resume\n\t\telse if( autoSlidePaused ) {\n\t\t\tresumeAutoSlide();\n\t\t}\n\t\t// Pause\n\t\telse {\n\t\t\tpauseAutoSlide();\n\t\t}\n\n\t}\n\n\n\t// --------------------------------------------------------------------//\n\t// ------------------------------- API --------------------------------//\n\t// --------------------------------------------------------------------//\n\n\t// The public reveal.js API\n\tconst API = {\n\t\tVERSION,\n\n\t\tinitialize,\n\t\tconfigure,\n\t\tdestroy,\n\n\t\tsync,\n\t\tsyncSlide,\n\t\tsyncFragments: fragments.sync.bind( fragments ),\n\n\t\t// Navigation methods\n\t\tslide,\n\t\tleft: navigateLeft,\n\t\tright: navigateRight,\n\t\tup: navigateUp,\n\t\tdown: navigateDown,\n\t\tprev: navigatePrev,\n\t\tnext: navigateNext,\n\n\t\t// Navigation aliases\n\t\tnavigateLeft, navigateRight, navigateUp, navigateDown, navigatePrev, navigateNext,\n\n\t\t// Fragment methods\n\t\tnavigateFragment: fragments.goto.bind( fragments ),\n\t\tprevFragment: fragments.prev.bind( fragments ),\n\t\tnextFragment: fragments.next.bind( fragments ),\n\n\t\t// Event binding\n\t\ton,\n\t\toff,\n\n\t\t// Legacy event binding methods left in for backwards compatibility\n\t\taddEventListener: on,\n\t\tremoveEventListener: off,\n\n\t\t// Forces an update in slide layout\n\t\tlayout,\n\n\t\t// Randomizes the order of slides\n\t\tshuffle,\n\n\t\t// Returns an object with the available routes as booleans (left/right/top/bottom)\n\t\tavailableRoutes,\n\n\t\t// Returns an object with the available fragments as booleans (prev/next)\n\t\tavailableFragments: fragments.availableRoutes.bind( fragments ),\n\n\t\t// Toggles a help overlay with keyboard shortcuts\n\t\ttoggleHelp,\n\n\t\t// Toggles the overview mode on/off\n\t\ttoggleOverview: overview.toggle.bind( overview ),\n\n\t\t// Toggles the scroll view on/off\n\t\ttoggleScrollView: scrollView.toggle.bind( scrollView ),\n\n\t\t// Toggles the \"black screen\" mode on/off\n\t\ttogglePause,\n\n\t\t// Toggles the auto slide mode on/off\n\t\ttoggleAutoSlide,\n\n\t\t// Toggles visibility of the jump-to-slide UI\n\t\ttoggleJumpToSlide,\n\n\t\t// Slide navigation checks\n\t\tisFirstSlide,\n\t\tisLastSlide,\n\t\tisLastVerticalSlide,\n\t\tisVerticalSlide,\n\t\tisVerticalStack,\n\n\t\t// State checks\n\t\tisPaused,\n\t\tisAutoSliding,\n\t\tisSpeakerNotes: notes.isSpeakerNotesWindow.bind( notes ),\n\t\tisOverview: overview.isActive.bind( overview ),\n\t\tisFocused: focus.isFocused.bind( focus ),\n\n\t\tisScrollView: scrollView.isActive.bind( scrollView ),\n\t\tisPrintView: printView.isActive.bind( printView ),\n\n\t\t// Checks if reveal.js has been loaded and is ready for use\n\t\tisReady: () => ready,\n\n\t\t// Slide preloading\n\t\tloadSlide: slideContent.load.bind( slideContent ),\n\t\tunloadSlide: slideContent.unload.bind( slideContent ),\n\n\t\t// Media playback\n\t\tstartEmbeddedContent: () => slideContent.startEmbeddedContent( currentSlide ),\n\t\tstopEmbeddedContent: () => slideContent.stopEmbeddedContent( currentSlide, { unloadIframes: false } ),\n\n\t\t// Preview management\n\t\tshowPreview,\n\t\thidePreview: closeOverlay,\n\n\t\t// Adds or removes all internal event listeners\n\t\taddEventListeners,\n\t\tremoveEventListeners,\n\t\tdispatchEvent,\n\n\t\t// Facility for persisting and restoring the presentation state\n\t\tgetState,\n\t\tsetState,\n\n\t\t// Presentation progress on range of 0-1\n\t\tgetProgress,\n\n\t\t// Returns the indices of the current, or specified, slide\n\t\tgetIndices,\n\n\t\t// Returns an Array of key:value maps of the attributes of each\n\t\t// slide in the deck\n\t\tgetSlidesAttributes,\n\n\t\t// Returns the number of slides that we have passed\n\t\tgetSlidePastCount,\n\n\t\t// Returns the total number of slides\n\t\tgetTotalSlides,\n\n\t\t// Returns the slide element at the specified index\n\t\tgetSlide,\n\n\t\t// Returns the previous slide element, may be null\n\t\tgetPreviousSlide: () => previousSlide,\n\n\t\t// Returns the current slide element\n\t\tgetCurrentSlide: () => currentSlide,\n\n\t\t// Returns the slide background element at the specified index\n\t\tgetSlideBackground,\n\n\t\t// Returns the speaker notes string for a slide, or null\n\t\tgetSlideNotes: notes.getSlideNotes.bind( notes ),\n\n\t\t// Returns an Array of all slides\n\t\tgetSlides,\n\n\t\t// Returns an array with all horizontal/vertical slides in the deck\n\t\tgetHorizontalSlides,\n\t\tgetVerticalSlides,\n\n\t\t// Checks if the presentation contains two or more horizontal\n\t\t// and vertical slides\n\t\thasHorizontalSlides,\n\t\thasVerticalSlides,\n\n\t\t// Checks if the deck has navigated on either axis at least once\n\t\thasNavigatedHorizontally: () => navigationHistory.hasNavigatedHorizontally,\n\t\thasNavigatedVertically: () => navigationHistory.hasNavigatedVertically,\n\n\t\tshouldAutoAnimateBetween,\n\n\t\t// Adds/removes a custom key binding\n\t\taddKeyBinding: keyboard.addKeyBinding.bind( keyboard ),\n\t\tremoveKeyBinding: keyboard.removeKeyBinding.bind( keyboard ),\n\n\t\t// Programmatically triggers a keyboard event\n\t\ttriggerKey: keyboard.triggerKey.bind( keyboard ),\n\n\t\t// Registers a new shortcut to include in the help overlay\n\t\tregisterKeyboardShortcut: keyboard.registerKeyboardShortcut.bind( keyboard ),\n\n\t\tgetComputedSlideSize,\n\t\tsetCurrentScrollPage,\n\n\t\t// Returns the current scale of the presentation content\n\t\tgetScale: () => scale,\n\n\t\t// Returns the current configuration object\n\t\tgetConfig: () => config,\n\n\t\t// Helper method, retrieves query string as a key:value map\n\t\tgetQueryHash: Util.getQueryHash,\n\n\t\t// Returns the path to the current slide as represented in the URL\n\t\tgetSlidePath: location.getHash.bind( location ),\n\n\t\t// Returns reveal.js DOM elements\n\t\tgetRevealElement: () => revealElement,\n\t\tgetSlidesElement: () => dom.slides,\n\t\tgetViewportElement: () => dom.viewport,\n\t\tgetBackgroundsElement: () => backgrounds.element,\n\n\t\t// API for registering and retrieving plugins\n\t\tregisterPlugin: plugins.registerPlugin.bind( plugins ),\n\t\thasPlugin: plugins.hasPlugin.bind( plugins ),\n\t\tgetPlugin: plugins.getPlugin.bind( plugins ),\n\t\tgetPlugins: plugins.getRegisteredPlugins.bind( plugins )\n\n\t};\n\n\t// Our internal API which controllers have access to\n\tUtil.extend( Reveal, {\n\t\t...API,\n\n\t\t// Methods for announcing content to screen readers\n\t\tannounceStatus,\n\t\tgetStatusText,\n\n\t\t// Controllers\n\t\tfocus,\n\t\tscroll: scrollView,\n\t\tprogress,\n\t\tcontrols,\n\t\tlocation,\n\t\toverview,\n\t\tfragments,\n\t\tbackgrounds,\n\t\tslideContent,\n\t\tslideNumber,\n\n\t\tonUserInput,\n\t\tcloseOverlay,\n\t\tupdateSlidesVisibility,\n\t\tlayoutSlideContents,\n\t\ttransformSlides,\n\t\tcueAutoSlide,\n\t\tcancelAutoSlide\n\t} );\n\n\treturn API;\n\n};\n","import Deck, { VERSION } from './reveal.js'\n\n/**\n * Expose the Reveal class to the window. To create a\n * new instance:\n * let deck = new Reveal( document.querySelector( '.reveal' ), {\n *   controls: false\n * } );\n * deck.initialize().then(() => {\n *   // reveal.js is ready\n * });\n */\nlet Reveal = Deck;\n\n\n/**\n * The below is a thin shell that mimics the pre 4.0\n * reveal.js API and ensures backwards compatibility.\n * This API only allows for one Reveal instance per\n * page, whereas the new API above lets you run many\n * presentations on the same page.\n *\n * Reveal.initialize( { controls: false } ).then(() => {\n *   // reveal.js is ready\n * });\n */\n\nlet enqueuedAPICalls = [];\n\nReveal.initialize = options => {\n\n\t// Create our singleton reveal.js instance\n\tObject.assign( Reveal, new Deck( document.querySelector( '.reveal' ), options ) );\n\n\t// Invoke any enqueued API calls\n\tenqueuedAPICalls.map( method => method( Reveal ) );\n\n\treturn Reveal.initialize();\n\n}\n\n/**\n * The pre 4.0 API let you add event listener before\n * initializing. We maintain the same behavior by\n * queuing up premature API calls and invoking all\n * of them when Reveal.initialize is called.\n */\n[ 'configure', 'on', 'off', 'addEventListener', 'removeEventListener', 'registerPlugin' ].forEach( method => {\n\tReveal[method] = ( ...args ) => {\n\t\tenqueuedAPICalls.push( deck => deck[method].call( null, ...args ) );\n\t}\n} );\n\nReveal.isReady = () => false;\n\nReveal.VERSION = VERSION;\n\nexport default Reveal;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}